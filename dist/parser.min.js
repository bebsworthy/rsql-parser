(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.Parser=f()}})(function(){var define,module,exports;return function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(require,module,exports){"use strict";var antlr4=require("antlr4/index");var serializedATN=["悋Ꜫ脳맭䅼㯧瞆奤","è\b\t\t","\t\t\t\t","\b\t\b\t\t\t\n\t\n\v\t\v","\f\t\f\r\t\r\t\t","\t\t\t\t","\t\t\t","\t\t\t\t","\t\t","","","","","\b\b\b\b\b\t","\t\t\t\t\n\n\n\n\n","\v\v\v\v\v\f","\f\f\f\f\r\r\r\r\r","","","","","","\n",""," \n\r","¡¦\n\f","©\v«\n","®\n±\n\r","²µ\n","¹\n\rº","¾\nÁ\n\r","ÂÅ\nÇ\n","Ì\n\f","Ï\v","Ö\n\fÙ\v","ß\n","\fâ\v","å\n\ræÍ×æ","\t\v\r\b","\t\n\v\f\r","!#%')+-","/1357\t2;","--//\f\f))^^\f\f","$$^^C\\c|/02;C\\aac|\f\f","$$))^^÷","\t","\v\r","","","","","!","#%","'/","13","57","9>D","\tG\vJ","\rOU","Z_d","in","su","w!y#{","%}'",")+","-/Æ1È","3Ò5Ü","7ä9:v",":;t;<w<=g=",">?h?@c@","AnABuBCgC","DE?EF?F","\bGH#HI?","I\nJK?KLk","LMpMN?N\f","OP?PQqQRwRS","vST?TUV","?VWiWXvXY","?YZ[?[\\","n\\]v]^?^","_`?`aia","bgbc?c","de?efnfgggh","?hij?jk","gklzlm?m","no?optp","qgqr?r","st.tuv=","vwx)x ",'yz$z"{|',"*|$}~+~&","<","uvt","kp","i<","dq","qn","gcp","<p","wo","dg","t","(","0*","\t,","^\v",". +"," ¡","¡¡¢","¢ª£§)","¤¦+¥¤","¦©§¥","§¨¨«","©§ª£","ª««´","¬®\t­¬","­®®°","¯±+°¯","±²²°","²³³µ","´­´µ","µÇ¶¸)","·¹+¸·","¹ºº¸","º»»Ä","¼¾\t½¼","½¾¾À","¿Á+À¿","ÁÂÂÀ","ÂÃÃÅ","Ä½ÄÅ","ÅÇÆ","Æ¶Ç0","ÈÍÉÌ-","ÊÌ\nËÉ","ËÊÌÏ","ÍÎÍË","ÎÐÏÍ","ÐÑÑ2","Ò×!ÓÖ-","ÔÖ\nÕÓ","ÕÔÖÙ","×Ø×Õ","ØÚÙ×","ÚÛ!Û4Ü","à\tÝß\tÞÝ","ßâàÞ","àáá6","âàãå","\n\bäãåæ","æçæä","ç8","¡§ª­²´º½ÂÄÆË","ÍÕ×àæ"].join("");var atn=(new antlr4.atn.ATNDeserializer).deserialize(serializedATN);var decisionsToDFA=atn.decisionToState.map(function(ds,index){return new antlr4.dfa.DFA(ds,index)});function RSQLLexer(input){antlr4.Lexer.call(this,input);this._interp=new antlr4.atn.LexerATNSimulator(this,atn,decisionsToDFA,new antlr4.PredictionContextCache);return this}RSQLLexer.prototype=Object.create(antlr4.Lexer.prototype);RSQLLexer.prototype.constructor=RSQLLexer;Object.defineProperty(RSQLLexer.prototype,"atn",{get:function get(){return atn}});RSQLLexer.EOF=antlr4.Token.EOF;RSQLLexer.TRUE=1;RSQLLexer.FALSE=2;RSQLLexer.EQ=3;RSQLLexer.NE=4;RSQLLexer.IN=5;RSQLLexer.NIN=6;RSQLLexer.GT=7;RSQLLexer.LT=8;RSQLLexer.GTE=9;RSQLLexer.LTE=10;RSQLLexer.EX=11;RSQLLexer.RE=12;RSQLLexer.OR_OPERATOR=13;RSQLLexer.AND_OPERATOR=14;RSQLLexer.SINGLE_QUOTE=15;RSQLLexer.DOUBLE_QUOTE=16;RSQLLexer.L_PAREN=17;RSQLLexer.R_PAREN=18;RSQLLexer.TYPE_HINT=19;RSQLLexer.NUMERIC_LITERAL=20;RSQLLexer.SINGLE_QUOTED_STRING=21;RSQLLexer.DOUBLE_QUOTED_STRING=22;RSQLLexer.IDENTIFIER=23;RSQLLexer.ANYTHING_ELSE=24;RSQLLexer.prototype.channelNames=["DEFAULT_TOKEN_CHANNEL","HIDDEN"];RSQLLexer.prototype.modeNames=["DEFAULT_MODE"];RSQLLexer.prototype.literalNames=[null,"'true'","'false'","'=='","'!='","'=in='","'=out='","'=gt='","'=lt='","'=ge='","'=le='","'=ex='","'=re='","','","';'","'''","'\"'","'('","')'"];RSQLLexer.prototype.symbolicNames=[null,"TRUE","FALSE","EQ","NE","IN","NIN","GT","LT","GTE","LTE","EX","RE","OR_OPERATOR","AND_OPERATOR","SINGLE_QUOTE","DOUBLE_QUOTE","L_PAREN","R_PAREN","TYPE_HINT","NUMERIC_LITERAL","SINGLE_QUOTED_STRING","DOUBLE_QUOTED_STRING","IDENTIFIER","ANYTHING_ELSE"];RSQLLexer.prototype.ruleNames=["TRUE","FALSE","EQ","NE","IN","NIN","GT","LT","GTE","LTE","EX","RE","OR_OPERATOR","AND_OPERATOR","SINGLE_QUOTE","DOUBLE_QUOTE","L_PAREN","R_PAREN","TYPE_HINT","STOP","DIGIT","STRING_ESCAPE_SEQ","NUMERIC_LITERAL","SINGLE_QUOTED_STRING","DOUBLE_QUOTED_STRING","IDENTIFIER","ANYTHING_ELSE"];RSQLLexer.prototype.grammarFileName="RSQL.g4";exports.RSQLLexer=RSQLLexer},{"antlr4/index":47}],2:[function(require,module,exports){"use strict";var antlr4=require("antlr4/index");function RSQLListener(){antlr4.tree.ParseTreeListener.call(this);return this}RSQLListener.prototype=Object.create(antlr4.tree.ParseTreeListener.prototype);RSQLListener.prototype.constructor=RSQLListener;RSQLListener.prototype.enterBoolean_value=function(ctx){};RSQLListener.prototype.exitBoolean_value=function(ctx){};RSQLListener.prototype.enterString_value=function(ctx){};RSQLListener.prototype.exitString_value=function(ctx){};RSQLListener.prototype.enterNumber_value=function(ctx){};RSQLListener.prototype.exitNumber_value=function(ctx){};RSQLListener.prototype.enterMulti_value=function(ctx){};RSQLListener.prototype.exitMulti_value=function(ctx){};RSQLListener.prototype.enterSingle_value=function(ctx){};RSQLListener.prototype.exitSingle_value=function(ctx){};RSQLListener.prototype.enterStatement=function(ctx){};RSQLListener.prototype.exitStatement=function(ctx){};RSQLListener.prototype.enterField=function(ctx){};RSQLListener.prototype.exitField=function(ctx){};RSQLListener.prototype.enterComparison=function(ctx){};RSQLListener.prototype.exitComparison=function(ctx){};exports.RSQLListener=RSQLListener},{"antlr4/index":47}],3:[function(require,module,exports){"use strict";var antlr4=require("antlr4/index");var RSQLListener=require("./RSQLListener").RSQLListener;var RSQLVisitor=require("./RSQLVisitor").RSQLVisitor;var grammarFileName="RSQL.g4";var serializedATN=["悋Ꜫ脳맭䅼㯧瞆奤","b\t\t\t","\t\t\t","\b\t\b\t\t\t","\n","","&\n",",\n\f","/\v","4\n9\n","","A\nF\n","\fI\v\b\b\b\bN\n","\b\t\t\t\t\t\t\t\t","\t\t\t\t\t\t\t\t\t`","\n\t\t\f\n\b\n\f","","\t\f\bh","","%\b3\n8","\f@M","_","","\t","\t","","","","\t","&  !",'!&"#',"#$$&%",'%%"',"&'((-\n",")**,\n+)",",/-+","-..0/-","011424\n","3'324\t","5969","798586","879\v",":;\b;<<=\f","=>>A?A\t","@:@?AG","BC\fCD\tDF\f","EBFIGE","GHH\rIG","JKKN","LNMJML","NOP\bPQ","\tQR\nR`","ST\bTU\tUV\bV","`WX\bXY\r","YZZ`[\\","\b\\]]^^`","_O_S","_W_[`","\v%-38@GM_"].join("");var atn=(new antlr4.atn.ATNDeserializer).deserialize(serializedATN);var decisionsToDFA=atn.decisionToState.map(function(ds,index){return new antlr4.dfa.DFA(ds,index)});var sharedContextCache=new antlr4.PredictionContextCache;var literalNames=[null,"'true'","'false'","'=='","'!='","'=in='","'=out='","'=gt='","'=lt='","'=ge='","'=le='","'=ex='","'=re='","','","';'","'''","'\"'","'('","')'"];var symbolicNames=[null,"TRUE","FALSE","EQ","NE","IN","NIN","GT","LT","GTE","LTE","EX","RE","OR_OPERATOR","AND_OPERATOR","SINGLE_QUOTE","DOUBLE_QUOTE","L_PAREN","R_PAREN","TYPE_HINT","NUMERIC_LITERAL","SINGLE_QUOTED_STRING","DOUBLE_QUOTED_STRING","IDENTIFIER","ANYTHING_ELSE"];var ruleNames=["boolean_value","string_value","number_value","multi_value","single_value","statement","field","comparison"];function RSQLParser(input){antlr4.Parser.call(this,input);this._interp=new antlr4.atn.ParserATNSimulator(this,atn,decisionsToDFA,sharedContextCache);this.ruleNames=ruleNames;this.literalNames=literalNames;this.symbolicNames=symbolicNames;return this}RSQLParser.prototype=Object.create(antlr4.Parser.prototype);RSQLParser.prototype.constructor=RSQLParser;Object.defineProperty(RSQLParser.prototype,"atn",{get:function get(){return atn}});RSQLParser.EOF=antlr4.Token.EOF;RSQLParser.TRUE=1;RSQLParser.FALSE=2;RSQLParser.EQ=3;RSQLParser.NE=4;RSQLParser.IN=5;RSQLParser.NIN=6;RSQLParser.GT=7;RSQLParser.LT=8;RSQLParser.GTE=9;RSQLParser.LTE=10;RSQLParser.EX=11;RSQLParser.RE=12;RSQLParser.OR_OPERATOR=13;RSQLParser.AND_OPERATOR=14;RSQLParser.SINGLE_QUOTE=15;RSQLParser.DOUBLE_QUOTE=16;RSQLParser.L_PAREN=17;RSQLParser.R_PAREN=18;RSQLParser.TYPE_HINT=19;RSQLParser.NUMERIC_LITERAL=20;RSQLParser.SINGLE_QUOTED_STRING=21;RSQLParser.DOUBLE_QUOTED_STRING=22;RSQLParser.IDENTIFIER=23;RSQLParser.ANYTHING_ELSE=24;RSQLParser.RULE_boolean_value=0;RSQLParser.RULE_string_value=1;RSQLParser.RULE_number_value=2;RSQLParser.RULE_multi_value=3;RSQLParser.RULE_single_value=4;RSQLParser.RULE_statement=5;RSQLParser.RULE_field=6;RSQLParser.RULE_comparison=7;function Boolean_valueContext(parser,parent,invokingState){if(parent===undefined){parent=null}if(invokingState===undefined||invokingState===null){invokingState=-1}antlr4.ParserRuleContext.call(this,parent,invokingState);this.parser=parser;this.ruleIndex=RSQLParser.RULE_boolean_value;return this}Boolean_valueContext.prototype=Object.create(antlr4.ParserRuleContext.prototype);Boolean_valueContext.prototype.constructor=Boolean_valueContext;Boolean_valueContext.prototype.TRUE=function(){return this.getToken(RSQLParser.TRUE,0)};Boolean_valueContext.prototype.FALSE=function(){return this.getToken(RSQLParser.FALSE,0)};Boolean_valueContext.prototype.SINGLE_QUOTE=function(i){if(i===undefined){i=null}if(i===null){return this.getTokens(RSQLParser.SINGLE_QUOTE)}else{return this.getToken(RSQLParser.SINGLE_QUOTE,i)}};Boolean_valueContext.prototype.DOUBLE_QUOTE=function(i){if(i===undefined){i=null}if(i===null){return this.getTokens(RSQLParser.DOUBLE_QUOTE)}else{return this.getToken(RSQLParser.DOUBLE_QUOTE,i)}};Boolean_valueContext.prototype.enterRule=function(listener){if(listener instanceof RSQLListener){listener.enterBoolean_value(this)}};Boolean_valueContext.prototype.exitRule=function(listener){if(listener instanceof RSQLListener){listener.exitBoolean_value(this)}};Boolean_valueContext.prototype.accept=function(visitor){if(visitor instanceof RSQLVisitor){return visitor.visitBoolean_value(this)}else{return visitor.visitChildren(this)}};RSQLParser.Boolean_valueContext=Boolean_valueContext;RSQLParser.prototype.boolean_value=function(){var localctx=new Boolean_valueContext(this,this._ctx,this.state);this.enterRule(localctx,0,RSQLParser.RULE_boolean_value);var _la=0;try{this.state=24;this._errHandler.sync(this);switch(this._input.LA(1)){case RSQLParser.TRUE:this.enterOuterAlt(localctx,1);this.state=16;this.match(RSQLParser.TRUE);break;case RSQLParser.FALSE:this.enterOuterAlt(localctx,2);this.state=17;this.match(RSQLParser.FALSE);break;case RSQLParser.SINGLE_QUOTE:this.enterOuterAlt(localctx,3);this.state=18;this.match(RSQLParser.SINGLE_QUOTE);this.state=19;_la=this._input.LA(1);if(!(_la===RSQLParser.TRUE||_la===RSQLParser.FALSE)){this._errHandler.recoverInline(this)}else{this._errHandler.reportMatch(this);this.consume()}this.state=20;this.match(RSQLParser.SINGLE_QUOTE);break;case RSQLParser.DOUBLE_QUOTE:this.enterOuterAlt(localctx,4);this.state=21;this.match(RSQLParser.DOUBLE_QUOTE);this.state=22;_la=this._input.LA(1);if(!(_la===RSQLParser.TRUE||_la===RSQLParser.FALSE)){this._errHandler.recoverInline(this)}else{this._errHandler.reportMatch(this);this.consume()}this.state=23;this.match(RSQLParser.DOUBLE_QUOTE);break;default:throw new antlr4.error.NoViableAltException(this)}}catch(re){if(re instanceof antlr4.error.RecognitionException){localctx.exception=re;this._errHandler.reportError(this,re);this._errHandler.recover(this,re)}else{throw re}}finally{this.exitRule()}return localctx};function String_valueContext(parser,parent,invokingState){if(parent===undefined){parent=null}if(invokingState===undefined||invokingState===null){invokingState=-1}antlr4.ParserRuleContext.call(this,parent,invokingState);this.parser=parser;this.ruleIndex=RSQLParser.RULE_string_value;return this}String_valueContext.prototype=Object.create(antlr4.ParserRuleContext.prototype);String_valueContext.prototype.constructor=String_valueContext;String_valueContext.prototype.IDENTIFIER=function(){return this.getToken(RSQLParser.IDENTIFIER,0)};String_valueContext.prototype.SINGLE_QUOTED_STRING=function(){return this.getToken(RSQLParser.SINGLE_QUOTED_STRING,0)};String_valueContext.prototype.DOUBLE_QUOTED_STRING=function(){return this.getToken(RSQLParser.DOUBLE_QUOTED_STRING,0)};String_valueContext.prototype.ANYTHING_ELSE=function(){return this.getToken(RSQLParser.ANYTHING_ELSE,0)};String_valueContext.prototype.enterRule=function(listener){if(listener instanceof RSQLListener){listener.enterString_value(this)}};String_valueContext.prototype.exitRule=function(listener){if(listener instanceof RSQLListener){listener.exitString_value(this)}};String_valueContext.prototype.accept=function(visitor){if(visitor instanceof RSQLVisitor){return visitor.visitString_value(this)}else{return visitor.visitChildren(this)}};RSQLParser.String_valueContext=String_valueContext;RSQLParser.prototype.string_value=function(){var localctx=new String_valueContext(this,this._ctx,this.state);this.enterRule(localctx,2,RSQLParser.RULE_string_value);var _la=0;try{this.enterOuterAlt(localctx,1);this.state=26;_la=this._input.LA(1);if(!((_la&~31)==0&&(1<<_la&(1<<RSQLParser.SINGLE_QUOTED_STRING|1<<RSQLParser.DOUBLE_QUOTED_STRING|1<<RSQLParser.IDENTIFIER|1<<RSQLParser.ANYTHING_ELSE))!==0)){this._errHandler.recoverInline(this)}else{this._errHandler.reportMatch(this);this.consume()}}catch(re){if(re instanceof antlr4.error.RecognitionException){localctx.exception=re;this._errHandler.reportError(this,re);this._errHandler.recover(this,re)}else{throw re}}finally{this.exitRule()}return localctx};function Number_valueContext(parser,parent,invokingState){if(parent===undefined){parent=null}if(invokingState===undefined||invokingState===null){invokingState=-1}antlr4.ParserRuleContext.call(this,parent,invokingState);this.parser=parser;this.ruleIndex=RSQLParser.RULE_number_value;return this}Number_valueContext.prototype=Object.create(antlr4.ParserRuleContext.prototype);Number_valueContext.prototype.constructor=Number_valueContext;Number_valueContext.prototype.NUMERIC_LITERAL=function(){return this.getToken(RSQLParser.NUMERIC_LITERAL,0)};Number_valueContext.prototype.SINGLE_QUOTE=function(i){if(i===undefined){i=null}if(i===null){return this.getTokens(RSQLParser.SINGLE_QUOTE)}else{return this.getToken(RSQLParser.SINGLE_QUOTE,i)}};Number_valueContext.prototype.DOUBLE_QUOTE=function(i){if(i===undefined){i=null}if(i===null){return this.getTokens(RSQLParser.DOUBLE_QUOTE)}else{return this.getToken(RSQLParser.DOUBLE_QUOTE,i)}};Number_valueContext.prototype.enterRule=function(listener){if(listener instanceof RSQLListener){listener.enterNumber_value(this)}};Number_valueContext.prototype.exitRule=function(listener){if(listener instanceof RSQLListener){listener.exitNumber_value(this)}};Number_valueContext.prototype.accept=function(visitor){if(visitor instanceof RSQLVisitor){return visitor.visitNumber_value(this)}else{return visitor.visitChildren(this)}};RSQLParser.Number_valueContext=Number_valueContext;RSQLParser.prototype.number_value=function(){var localctx=new Number_valueContext(this,this._ctx,this.state);this.enterRule(localctx,4,RSQLParser.RULE_number_value);try{this.state=35;this._errHandler.sync(this);switch(this._input.LA(1)){case RSQLParser.NUMERIC_LITERAL:this.enterOuterAlt(localctx,1);this.state=28;this.match(RSQLParser.NUMERIC_LITERAL);break;case RSQLParser.SINGLE_QUOTE:this.enterOuterAlt(localctx,2);this.state=29;this.match(RSQLParser.SINGLE_QUOTE);this.state=30;this.match(RSQLParser.NUMERIC_LITERAL);this.state=31;this.match(RSQLParser.SINGLE_QUOTE);break;case RSQLParser.DOUBLE_QUOTE:this.enterOuterAlt(localctx,3);this.state=32;this.match(RSQLParser.DOUBLE_QUOTE);this.state=33;this.match(RSQLParser.NUMERIC_LITERAL);this.state=34;this.match(RSQLParser.DOUBLE_QUOTE);break;default:throw new antlr4.error.NoViableAltException(this)}}catch(re){if(re instanceof antlr4.error.RecognitionException){localctx.exception=re;this._errHandler.reportError(this,re);this._errHandler.recover(this,re)}else{throw re}}finally{this.exitRule()}return localctx};function Multi_valueContext(parser,parent,invokingState){if(parent===undefined){parent=null}if(invokingState===undefined||invokingState===null){invokingState=-1}antlr4.ParserRuleContext.call(this,parent,invokingState);this.parser=parser;this.ruleIndex=RSQLParser.RULE_multi_value;return this}Multi_valueContext.prototype=Object.create(antlr4.ParserRuleContext.prototype);Multi_valueContext.prototype.constructor=Multi_valueContext;Multi_valueContext.prototype.L_PAREN=function(){return this.getToken(RSQLParser.L_PAREN,0)};Multi_valueContext.prototype.single_value=function(i){if(i===undefined){i=null}if(i===null){return this.getTypedRuleContexts(Single_valueContext)}else{return this.getTypedRuleContext(Single_valueContext,i)}};Multi_valueContext.prototype.R_PAREN=function(){return this.getToken(RSQLParser.R_PAREN,0)};Multi_valueContext.prototype.OR_OPERATOR=function(i){if(i===undefined){i=null}if(i===null){return this.getTokens(RSQLParser.OR_OPERATOR)}else{return this.getToken(RSQLParser.OR_OPERATOR,i)}};Multi_valueContext.prototype.enterRule=function(listener){if(listener instanceof RSQLListener){listener.enterMulti_value(this)}};Multi_valueContext.prototype.exitRule=function(listener){if(listener instanceof RSQLListener){listener.exitMulti_value(this)}};Multi_valueContext.prototype.accept=function(visitor){if(visitor instanceof RSQLVisitor){return visitor.visitMulti_value(this)}else{return visitor.visitChildren(this)}};RSQLParser.Multi_valueContext=Multi_valueContext;RSQLParser.prototype.multi_value=function(){var localctx=new Multi_valueContext(this,this._ctx,this.state);this.enterRule(localctx,6,RSQLParser.RULE_multi_value);var _la=0;try{this.state=49;this._errHandler.sync(this);switch(this._input.LA(1)){case RSQLParser.L_PAREN:this.enterOuterAlt(localctx,1);this.state=37;this.match(RSQLParser.L_PAREN);this.state=38;this.single_value();this.state=43;this._errHandler.sync(this);_la=this._input.LA(1);while(_la===RSQLParser.OR_OPERATOR){this.state=39;this.match(RSQLParser.OR_OPERATOR);this.state=40;this.single_value();this.state=45;this._errHandler.sync(this);_la=this._input.LA(1)}this.state=46;this.match(RSQLParser.R_PAREN);break;case RSQLParser.TRUE:case RSQLParser.FALSE:case RSQLParser.SINGLE_QUOTE:case RSQLParser.DOUBLE_QUOTE:case RSQLParser.NUMERIC_LITERAL:case RSQLParser.SINGLE_QUOTED_STRING:case RSQLParser.DOUBLE_QUOTED_STRING:case RSQLParser.IDENTIFIER:case RSQLParser.ANYTHING_ELSE:this.enterOuterAlt(localctx,2);this.state=48;this.single_value();break;default:throw new antlr4.error.NoViableAltException(this)}}catch(re){if(re instanceof antlr4.error.RecognitionException){localctx.exception=re;this._errHandler.reportError(this,re);this._errHandler.recover(this,re)}else{throw re}}finally{this.exitRule()}return localctx};function Single_valueContext(parser,parent,invokingState){if(parent===undefined){parent=null}if(invokingState===undefined||invokingState===null){invokingState=-1}antlr4.ParserRuleContext.call(this,parent,invokingState);this.parser=parser;this.ruleIndex=RSQLParser.RULE_single_value;return this}Single_valueContext.prototype=Object.create(antlr4.ParserRuleContext.prototype);Single_valueContext.prototype.constructor=Single_valueContext;Single_valueContext.prototype.boolean_value=function(){return this.getTypedRuleContext(Boolean_valueContext,0)};Single_valueContext.prototype.number_value=function(){return this.getTypedRuleContext(Number_valueContext,0)};Single_valueContext.prototype.string_value=function(){return this.getTypedRuleContext(String_valueContext,0)};Single_valueContext.prototype.enterRule=function(listener){if(listener instanceof RSQLListener){listener.enterSingle_value(this)}};Single_valueContext.prototype.exitRule=function(listener){if(listener instanceof RSQLListener){listener.exitSingle_value(this)}};Single_valueContext.prototype.accept=function(visitor){if(visitor instanceof RSQLVisitor){return visitor.visitSingle_value(this)}else{return visitor.visitChildren(this)}};RSQLParser.Single_valueContext=Single_valueContext;RSQLParser.prototype.single_value=function(){var localctx=new Single_valueContext(this,this._ctx,this.state);this.enterRule(localctx,8,RSQLParser.RULE_single_value);try{this.state=54;this._errHandler.sync(this);var la_=this._interp.adaptivePredict(this._input,4,this._ctx);switch(la_){case 1:this.enterOuterAlt(localctx,1);this.state=51;this.boolean_value();break;case 2:this.enterOuterAlt(localctx,2);this.state=52;this.number_value();break;case 3:this.enterOuterAlt(localctx,3);this.state=53;this.string_value();break}}catch(re){if(re instanceof antlr4.error.RecognitionException){localctx.exception=re;this._errHandler.reportError(this,re);this._errHandler.recover(this,re)}else{throw re}}finally{this.exitRule()}return localctx};function StatementContext(parser,parent,invokingState){if(parent===undefined){parent=null}if(invokingState===undefined||invokingState===null){invokingState=-1}antlr4.ParserRuleContext.call(this,parent,invokingState);this.parser=parser;this.ruleIndex=RSQLParser.RULE_statement;this.left=null;this.wrapped=null;this.node=null;this.op=null;this.right=null;return this}StatementContext.prototype=Object.create(antlr4.ParserRuleContext.prototype);StatementContext.prototype.constructor=StatementContext;StatementContext.prototype.L_PAREN=function(){return this.getToken(RSQLParser.L_PAREN,0)};StatementContext.prototype.R_PAREN=function(){return this.getToken(RSQLParser.R_PAREN,0)};StatementContext.prototype.statement=function(i){if(i===undefined){i=null}if(i===null){return this.getTypedRuleContexts(StatementContext)}else{return this.getTypedRuleContext(StatementContext,i)}};StatementContext.prototype.comparison=function(){return this.getTypedRuleContext(ComparisonContext,0)};StatementContext.prototype.AND_OPERATOR=function(){return this.getToken(RSQLParser.AND_OPERATOR,0)};StatementContext.prototype.OR_OPERATOR=function(){return this.getToken(RSQLParser.OR_OPERATOR,0)};StatementContext.prototype.enterRule=function(listener){if(listener instanceof RSQLListener){listener.enterStatement(this)}};StatementContext.prototype.exitRule=function(listener){if(listener instanceof RSQLListener){listener.exitStatement(this)}};StatementContext.prototype.accept=function(visitor){if(visitor instanceof RSQLVisitor){return visitor.visitStatement(this)}else{return visitor.visitChildren(this)}};RSQLParser.prototype.statement=function(_p){if(_p===undefined){_p=0}var _parentctx=this._ctx;var _parentState=this.state;var localctx=new StatementContext(this,this._ctx,_parentState);var _prevctx=localctx;var _startState=10;this.enterRecursionRule(localctx,10,RSQLParser.RULE_statement,_p);var _la=0;try{this.enterOuterAlt(localctx,1);this.state=62;this._errHandler.sync(this);switch(this._input.LA(1)){case RSQLParser.L_PAREN:this.state=57;this.match(RSQLParser.L_PAREN);this.state=58;localctx.wrapped=this.statement(0);this.state=59;this.match(RSQLParser.R_PAREN);break;case RSQLParser.IDENTIFIER:this.state=61;localctx.node=this.comparison();break;default:throw new antlr4.error.NoViableAltException(this)}this._ctx.stop=this._input.LT(-1);this.state=69;this._errHandler.sync(this);var _alt=this._interp.adaptivePredict(this._input,6,this._ctx);while(_alt!=2&&_alt!=antlr4.atn.ATN.INVALID_ALT_NUMBER){if(_alt===1){if(this._parseListeners!==null){this.triggerExitRuleEvent()}_prevctx=localctx;localctx=new StatementContext(this,_parentctx,_parentState);localctx.left=_prevctx;this.pushNewRecursionContext(localctx,_startState,RSQLParser.RULE_statement);this.state=64;if(!this.precpred(this._ctx,3)){throw new antlr4.error.FailedPredicateException(this,"this.precpred(this._ctx, 3)")}this.state=65;localctx.op=this._input.LT(1);_la=this._input.LA(1);if(!(_la===RSQLParser.OR_OPERATOR||_la===RSQLParser.AND_OPERATOR)){localctx.op=this._errHandler.recoverInline(this)}else{this._errHandler.reportMatch(this);this.consume()}this.state=66;localctx.right=this.statement(4)}this.state=71;this._errHandler.sync(this);_alt=this._interp.adaptivePredict(this._input,6,this._ctx)}}catch(error){if(error instanceof antlr4.error.RecognitionException){localctx.exception=error;this._errHandler.reportError(this,error);this._errHandler.recover(this,error)}else{throw error}}finally{this.unrollRecursionContexts(_parentctx)}return localctx};function FieldContext(parser,parent,invokingState){if(parent===undefined){parent=null}if(invokingState===undefined||invokingState===null){invokingState=-1}antlr4.ParserRuleContext.call(this,parent,invokingState);this.parser=parser;this.ruleIndex=RSQLParser.RULE_field;this.key=null;this.hint=null;return this}FieldContext.prototype=Object.create(antlr4.ParserRuleContext.prototype);FieldContext.prototype.constructor=FieldContext;FieldContext.prototype.IDENTIFIER=function(){return this.getToken(RSQLParser.IDENTIFIER,0)};FieldContext.prototype.TYPE_HINT=function(){return this.getToken(RSQLParser.TYPE_HINT,0)};FieldContext.prototype.enterRule=function(listener){if(listener instanceof RSQLListener){listener.enterField(this)}};FieldContext.prototype.exitRule=function(listener){if(listener instanceof RSQLListener){listener.exitField(this)}};FieldContext.prototype.accept=function(visitor){if(visitor instanceof RSQLVisitor){return visitor.visitField(this)}else{return visitor.visitChildren(this)}};RSQLParser.FieldContext=FieldContext;RSQLParser.prototype.field=function(){var localctx=new FieldContext(this,this._ctx,this.state);this.enterRule(localctx,12,RSQLParser.RULE_field);try{this.state=75;this._errHandler.sync(this);var la_=this._interp.adaptivePredict(this._input,7,this._ctx);switch(la_){case 1:this.enterOuterAlt(localctx,1);this.state=72;localctx.key=this.match(RSQLParser.IDENTIFIER);this.state=73;localctx.hint=this.match(RSQLParser.TYPE_HINT);break;case 2:this.enterOuterAlt(localctx,2);this.state=74;localctx.key=this.match(RSQLParser.IDENTIFIER);break}}catch(re){if(re instanceof antlr4.error.RecognitionException){localctx.exception=re;this._errHandler.reportError(this,re);this._errHandler.recover(this,re)}else{throw re}}finally{this.exitRule()}return localctx};function ComparisonContext(parser,parent,invokingState){if(parent===undefined){parent=null}if(invokingState===undefined||invokingState===null){invokingState=-1}antlr4.ParserRuleContext.call(this,parent,invokingState);this.parser=parser;this.ruleIndex=RSQLParser.RULE_comparison;this.target=null;this.op=null;this.single=null;this.multi=null;this.bool=null;this.regex=null;return this}ComparisonContext.prototype=Object.create(antlr4.ParserRuleContext.prototype);ComparisonContext.prototype.constructor=ComparisonContext;ComparisonContext.prototype.field=function(){return this.getTypedRuleContext(FieldContext,0)};ComparisonContext.prototype.single_value=function(){return this.getTypedRuleContext(Single_valueContext,0)};ComparisonContext.prototype.EQ=function(){return this.getToken(RSQLParser.EQ,0)};ComparisonContext.prototype.NE=function(){return this.getToken(RSQLParser.NE,0)};ComparisonContext.prototype.GT=function(){return this.getToken(RSQLParser.GT,0)};ComparisonContext.prototype.GTE=function(){return this.getToken(RSQLParser.GTE,0)};ComparisonContext.prototype.LT=function(){return this.getToken(RSQLParser.LT,0)};ComparisonContext.prototype.LTE=function(){return this.getToken(RSQLParser.LTE,0)};ComparisonContext.prototype.multi_value=function(){return this.getTypedRuleContext(Multi_valueContext,0)};ComparisonContext.prototype.IN=function(){return this.getToken(RSQLParser.IN,0)};ComparisonContext.prototype.NIN=function(){return this.getToken(RSQLParser.NIN,0)};ComparisonContext.prototype.EX=function(){return this.getToken(RSQLParser.EX,0)};ComparisonContext.prototype.boolean_value=function(){return this.getTypedRuleContext(Boolean_valueContext,0)};ComparisonContext.prototype.RE=function(){return this.getToken(RSQLParser.RE,0)};ComparisonContext.prototype.string_value=function(){return this.getTypedRuleContext(String_valueContext,0)};ComparisonContext.prototype.enterRule=function(listener){if(listener instanceof RSQLListener){listener.enterComparison(this)}};ComparisonContext.prototype.exitRule=function(listener){if(listener instanceof RSQLListener){listener.exitComparison(this)}};ComparisonContext.prototype.accept=function(visitor){if(visitor instanceof RSQLVisitor){return visitor.visitComparison(this)}else{return visitor.visitChildren(this)}};RSQLParser.ComparisonContext=ComparisonContext;RSQLParser.prototype.comparison=function(){var localctx=new ComparisonContext(this,this._ctx,this.state);this.enterRule(localctx,14,RSQLParser.RULE_comparison);var _la=0;try{this.state=93;this._errHandler.sync(this);var la_=this._interp.adaptivePredict(this._input,8,this._ctx);switch(la_){case 1:this.enterOuterAlt(localctx,1);this.state=77;localctx.target=this.field();this.state=78;localctx.op=this._input.LT(1);_la=this._input.LA(1);if(!((_la&~31)==0&&(1<<_la&(1<<RSQLParser.EQ|1<<RSQLParser.NE|1<<RSQLParser.GT|1<<RSQLParser.LT|1<<RSQLParser.GTE|1<<RSQLParser.LTE))!==0)){localctx.op=this._errHandler.recoverInline(this)}else{this._errHandler.reportMatch(this);this.consume()}this.state=79;localctx.single=this.single_value();break;case 2:this.enterOuterAlt(localctx,2);this.state=81;localctx.target=this.field();this.state=82;localctx.op=this._input.LT(1);_la=this._input.LA(1);if(!(_la===RSQLParser.IN||_la===RSQLParser.NIN)){localctx.op=this._errHandler.recoverInline(this)}else{this._errHandler.reportMatch(this);this.consume()}this.state=83;localctx.multi=this.multi_value();break;case 3:this.enterOuterAlt(localctx,3);this.state=85;localctx.target=this.field();this.state=86;localctx.op=this.match(RSQLParser.EX);this.state=87;localctx.bool=this.boolean_value();break;case 4:this.enterOuterAlt(localctx,4);this.state=89;localctx.target=this.field();this.state=90;localctx.op=this.match(RSQLParser.RE);this.state=91;localctx.regex=this.string_value();break}}catch(re){if(re instanceof antlr4.error.RecognitionException){localctx.exception=re;this._errHandler.reportError(this,re);this._errHandler.recover(this,re)}else{throw re}}finally{this.exitRule()}return localctx};RSQLParser.prototype.sempred=function(localctx,ruleIndex,predIndex){switch(ruleIndex){case 5:
return this.statement_sempred(localctx,predIndex);default:throw"No predicate with index:"+ruleIndex}};RSQLParser.prototype.statement_sempred=function(localctx,predIndex){switch(predIndex){case 0:return this.precpred(this._ctx,3);default:throw"No predicate with index:"+predIndex}};exports.RSQLParser=RSQLParser},{"./RSQLListener":2,"./RSQLVisitor":4,"antlr4/index":47}],4:[function(require,module,exports){"use strict";var antlr4=require("antlr4/index");function RSQLVisitor(){antlr4.tree.ParseTreeVisitor.call(this);return this}RSQLVisitor.prototype=Object.create(antlr4.tree.ParseTreeVisitor.prototype);RSQLVisitor.prototype.constructor=RSQLVisitor;RSQLVisitor.prototype.visitBoolean_value=function(ctx){return this.visitChildren(ctx)};RSQLVisitor.prototype.visitString_value=function(ctx){return this.visitChildren(ctx)};RSQLVisitor.prototype.visitNumber_value=function(ctx){return this.visitChildren(ctx)};RSQLVisitor.prototype.visitMulti_value=function(ctx){return this.visitChildren(ctx)};RSQLVisitor.prototype.visitSingle_value=function(ctx){return this.visitChildren(ctx)};RSQLVisitor.prototype.visitStatement=function(ctx){return this.visitChildren(ctx)};RSQLVisitor.prototype.visitField=function(ctx){return this.visitChildren(ctx)};RSQLVisitor.prototype.visitComparison=function(ctx){return this.visitChildren(ctx)};exports.RSQLVisitor=RSQLVisitor},{"antlr4/index":47}],5:[function(require,module,exports){"use strict";var antlr4=require("antlr4");var Lexer=require("./gen/RSQLLexer");var Parser=require("./gen/RSQLParser");var Visitor=require("./gen/RSQLVisitor");var pull=function pull(obj,path){if(obj&&path.length){var segment=path[0];var value=obj[segment];if(path.length===1){return value}else{return pull(value,path.slice(1))}}else{return null}};var pullPath=function pullPath(obj,path){return pull(obj,(path||"").split(".").filter(function(segment){return!!segment}))};function trim(s,c){if(c==="]")c="\\]";if(c==="\\")c="\\\\";return s.replace(new RegExp("^["+c+"]+|["+c+"]+$","g"),"")}var trimQuotes=function trimQuotes(val){if(val.startsWith('"')&&val.endsWith('"')){return trim(val,'"')}else if(val.startsWith("'")&&val.endsWith("'")){return trim(val,"'")}else{return val}};var coerceString=function coerceString(s){return trimQuotes(s)};var coerceBoolean=function coerceBoolean(s){var value=trimQuotes(s);if(/true/.test(value)){return true}else if(/false/.test(value)){return false}};var coerceNumber=function coerceNumber(s){var value=trimQuotes(s);if(/\./.test(value)){return parseFloat(value)}else{return parseInt(value)}};var coerceSet=function coerceSet(s){if(Array.isArray(s)){return s}else if(s!==null&&s!==undefined){return[s]}else{return[]}};var intersection=function intersection(s1,s2){var set1=coerceSet(s1);var set2=coerceSet(s2);var result=[];set1.forEach(function(x){if(set2.includes(x)){result.push(x)}});return result};var intersect=function intersect(s1,s2){return intersection(s1,s2).length>0};var PredicateParser=function PredicateParser(){};PredicateParser.prototype.parse=function(s){var characters=new antlr4.InputStream(s);var lexer=new Lexer.RSQLLexer(characters);var tokens=new antlr4.CommonTokenStream(lexer);var parser=new Parser.RSQLParser(tokens);parser.buildParseTrees=true;var tree=parser.statement();var Visits=function Visits(){Visitor.RSQLVisitor.call(this);return this};Visits.prototype=Object.create(Visitor.RSQLVisitor.prototype);Visits.prototype.constructor=Visits;Visits.prototype.visitStatement=function(ctx){if(ctx.left&&ctx.op&&ctx.right){switch(ctx.op.type){case Lexer.RSQLLexer.AND_OPERATOR:return function(){var parseLeft=this.visit(ctx.left);var parseRight=this.visit(ctx.right);return function(x){return parseLeft(x)&&parseRight(x)}}.bind(this)();case Lexer.RSQLLexer.OR_OPERATOR:return function(){var parseLeft=this.visit(ctx.left);var parseRight=this.visit(ctx.right);return function(x){return parseLeft(x)||parseRight(x)}}.bind(this)();default:throw new Error("Unknown operator!")}}else if(!!ctx.wrapped){return this.visit(ctx.wrapped)}else if(!!ctx.node){return this.visit(ctx.node)}else{throw new Error("I don't recognize this node.")}};Visits.prototype.visitComparison=function(ctx){var key=this.visitField(ctx.target);var coerced=void 0;if(ctx.single){if(key.hint){switch(key.hint){case":string":coerced=this.visitString_value(ctx.single);break;case":boolean":coerced=this.visitBoolean_value(ctx.single);break;case":number":coerced=this.visitNumber_value(ctx.single);break;default:throw Error("Unrecognized type hint.")}}else{coerced=this.visitSingle_value(ctx.single)}}else if(ctx.multi){ctx.multi.target=ctx.target;coerced=this.visitMulti_value(ctx.multi)}else if(ctx.bool){coerced=this.visitBoolean_value(ctx.bool)}else if(ctx.regex){coerced=new RegExp(this.visitString_value(ctx.regex))}return function(x){var value=pullPath(x,key.key);switch(ctx.op.type){case Lexer.RSQLLexer.EQ:if(Array.isArray(value)){return intersect(value,coerced)}else{return value===coerced}case Lexer.RSQLLexer.NE:if(Array.isArray(value)){return!intersect(value,coerced)}else{return value!==coerced}case Lexer.RSQLLexer.GT:return value>coerced;case Lexer.RSQLLexer.GTE:return value>=coerced;case Lexer.RSQLLexer.LT:return value<coerced;case Lexer.RSQLLexer.LTE:return value<=coerced;case Lexer.RSQLLexer.IN:return intersect(coerced,value);case Lexer.RSQLLexer.NIN:return!intersect(coerced,value);case Lexer.RSQLLexer.EX:if(coerced){return value!==null&&value!==undefined}else{return value===null||value===undefined}case Lexer.RSQLLexer.RE:return value!==null&&value!==undefined&&coerced.test(value.toString());default:throw new Error("Unknown operator.")}}};Visits.prototype.visitSingle_value=function(ctx){return this.visitChildren(ctx)[0]};Visits.prototype.visitMulti_value=function(ctx){return this.visit(ctx.children.filter(function(child){return child.constructor===Parser.RSQLParser.Single_valueContext}))};Visits.prototype.visitString_value=function(ctx){return coerceString(ctx.getText())};Visits.prototype.visitNumber_value=function(ctx){return coerceNumber(ctx.getText())};Visits.prototype.visitBoolean_value=function(ctx){return coerceBoolean(ctx.getText())};Visits.prototype.visitField=function(ctx){var field={};field.key=ctx.key.text;field.hint=ctx.hint?ctx.hint.text:null;return field};return(new Visits).visitStatement(tree)};exports.PredicateParser=PredicateParser},{"./gen/RSQLLexer":1,"./gen/RSQLParser":3,"./gen/RSQLVisitor":4,antlr4:47}],6:[function(require,module,exports){var Token=require("./Token").Token;var Lexer=require("./Lexer").Lexer;var Interval=require("./IntervalSet").Interval;function TokenStream(){return this}function BufferedTokenStream(tokenSource){TokenStream.call(this);this.tokenSource=tokenSource;this.tokens=[];this.index=-1;this.fetchedEOF=false;return this}BufferedTokenStream.prototype=Object.create(TokenStream.prototype);BufferedTokenStream.prototype.constructor=BufferedTokenStream;BufferedTokenStream.prototype.mark=function(){return 0};BufferedTokenStream.prototype.release=function(marker){};BufferedTokenStream.prototype.reset=function(){this.seek(0)};BufferedTokenStream.prototype.seek=function(index){this.lazyInit();this.index=this.adjustSeekIndex(index)};BufferedTokenStream.prototype.get=function(index){this.lazyInit();return this.tokens[index]};BufferedTokenStream.prototype.consume=function(){var skipEofCheck=false;if(this.index>=0){if(this.fetchedEOF){skipEofCheck=this.index<this.tokens.length-1}else{skipEofCheck=this.index<this.tokens.length}}else{skipEofCheck=false}if(!skipEofCheck&&this.LA(1)===Token.EOF){throw"cannot consume EOF"}if(this.sync(this.index+1)){this.index=this.adjustSeekIndex(this.index+1)}};BufferedTokenStream.prototype.sync=function(i){var n=i-this.tokens.length+1;if(n>0){var fetched=this.fetch(n);return fetched>=n}return true};BufferedTokenStream.prototype.fetch=function(n){if(this.fetchedEOF){return 0}for(var i=0;i<n;i++){var t=this.tokenSource.nextToken();t.tokenIndex=this.tokens.length;this.tokens.push(t);if(t.type===Token.EOF){this.fetchedEOF=true;return i+1}}return n};BufferedTokenStream.prototype.getTokens=function(start,stop,types){if(types===undefined){types=null}if(start<0||stop<0){return null}this.lazyInit();var subset=[];if(stop>=this.tokens.length){stop=this.tokens.length-1}for(var i=start;i<stop;i++){var t=this.tokens[i];if(t.type===Token.EOF){break}if(types===null||types.contains(t.type)){subset.push(t)}}return subset};BufferedTokenStream.prototype.LA=function(i){return this.LT(i).type};BufferedTokenStream.prototype.LB=function(k){if(this.index-k<0){return null}return this.tokens[this.index-k]};BufferedTokenStream.prototype.LT=function(k){this.lazyInit();if(k===0){return null}if(k<0){return this.LB(-k)}var i=this.index+k-1;this.sync(i);if(i>=this.tokens.length){return this.tokens[this.tokens.length-1]}return this.tokens[i]};BufferedTokenStream.prototype.adjustSeekIndex=function(i){return i};BufferedTokenStream.prototype.lazyInit=function(){if(this.index===-1){this.setup()}};BufferedTokenStream.prototype.setup=function(){this.sync(0);this.index=this.adjustSeekIndex(0)};BufferedTokenStream.prototype.setTokenSource=function(tokenSource){this.tokenSource=tokenSource;this.tokens=[];this.index=-1;this.fetchedEOF=false};BufferedTokenStream.prototype.nextTokenOnChannel=function(i,channel){this.sync(i);if(i>=this.tokens.length){return-1}var token=this.tokens[i];while(token.channel!==this.channel){if(token.type===Token.EOF){return-1}i+=1;this.sync(i);token=this.tokens[i]}return i};BufferedTokenStream.prototype.previousTokenOnChannel=function(i,channel){while(i>=0&&this.tokens[i].channel!==channel){i-=1}return i};BufferedTokenStream.prototype.getHiddenTokensToRight=function(tokenIndex,channel){if(channel===undefined){channel=-1}this.lazyInit();if(tokenIndex<0||tokenIndex>=this.tokens.length){throw""+tokenIndex+" not in 0.."+this.tokens.length-1}var nextOnChannel=this.nextTokenOnChannel(tokenIndex+1,Lexer.DEFAULT_TOKEN_CHANNEL);var from_=tokenIndex+1;var to=nextOnChannel===-1?this.tokens.length-1:nextOnChannel;return this.filterForChannel(from_,to,channel)};BufferedTokenStream.prototype.getHiddenTokensToLeft=function(tokenIndex,channel){if(channel===undefined){channel=-1}this.lazyInit();if(tokenIndex<0||tokenIndex>=this.tokens.length){throw""+tokenIndex+" not in 0.."+this.tokens.length-1}var prevOnChannel=this.previousTokenOnChannel(tokenIndex-1,Lexer.DEFAULT_TOKEN_CHANNEL);if(prevOnChannel===tokenIndex-1){return null}var from_=prevOnChannel+1;var to=tokenIndex-1;return this.filterForChannel(from_,to,channel)};BufferedTokenStream.prototype.filterForChannel=function(left,right,channel){var hidden=[];for(var i=left;i<right+1;i++){var t=this.tokens[i];if(channel===-1){if(t.channel!==Lexer.DEFAULT_TOKEN_CHANNEL){hidden.push(t)}}else if(t.channel===channel){hidden.push(t)}}if(hidden.length===0){return null}return hidden};BufferedTokenStream.prototype.getSourceName=function(){return this.tokenSource.getSourceName()};BufferedTokenStream.prototype.getText=function(interval){this.lazyInit();this.fill();if(interval===undefined||interval===null){interval=new Interval(0,this.tokens.length-1)}var start=interval.start;if(start instanceof Token){start=start.tokenIndex}var stop=interval.stop;if(stop instanceof Token){stop=stop.tokenIndex}if(start===null||stop===null||start<0||stop<0){return""}if(stop>=this.tokens.length){stop=this.tokens.length-1}var s="";for(var i=start;i<stop+1;i++){var t=this.tokens[i];if(t.type===Token.EOF){break}s=s+t.text}return s};BufferedTokenStream.prototype.fill=function(){this.lazyInit();while(this.fetch(1e3)===1e3){continue}};exports.BufferedTokenStream=BufferedTokenStream},{"./IntervalSet":12,"./Lexer":14,"./Token":20}],7:[function(require,module,exports){var InputStream=require("./InputStream").InputStream;var isNodeJs=typeof window==="undefined"&&typeof importScripts==="undefined";var fs=isNodeJs?require("fs"):null;var CharStreams={fromString:function(str){return new InputStream(str,true)},fromBlob:function(blob,encoding,onLoad,onError){var reader=FileReader();reader.onload=function(e){var is=new InputStream(e.target.result,true);onLoad(is)};reader.onerror=onError;reader.readAsText(blob,encoding)},fromBuffer:function(buffer,encoding){return new InputStream(buffer.toString(encoding),true)},fromPath:function(path,encoding,callback){fs.readFile(path,encoding,function(err,data){var is=null;if(data!==null){is=new InputStream(data,true)}callback(err,is)})},fromPathSync:function(path,encoding){var data=fs.readFileSync(path,encoding);return new InputStream(data,true)}};exports.CharStreams=CharStreams},{"./InputStream":11,fs:53}],8:[function(require,module,exports){var CommonToken=require("./Token").CommonToken;function TokenFactory(){return this}function CommonTokenFactory(copyText){TokenFactory.call(this);this.copyText=copyText===undefined?false:copyText;return this}CommonTokenFactory.prototype=Object.create(TokenFactory.prototype);CommonTokenFactory.prototype.constructor=CommonTokenFactory;CommonTokenFactory.DEFAULT=new CommonTokenFactory;CommonTokenFactory.prototype.create=function(source,type,text,channel,start,stop,line,column){var t=new CommonToken(source,type,channel,start,stop);t.line=line;t.column=column;if(text!==null){t.text=text}else if(this.copyText&&source[1]!==null){t.text=source[1].getText(start,stop)}return t};CommonTokenFactory.prototype.createThin=function(type,text){var t=new CommonToken(null,type);t.text=text;return t};exports.CommonTokenFactory=CommonTokenFactory},{"./Token":20}],9:[function(require,module,exports){var Token=require("./Token").Token;var BufferedTokenStream=require("./BufferedTokenStream").BufferedTokenStream;function CommonTokenStream(lexer,channel){BufferedTokenStream.call(this,lexer);this.channel=channel===undefined?Token.DEFAULT_CHANNEL:channel;return this}CommonTokenStream.prototype=Object.create(BufferedTokenStream.prototype);CommonTokenStream.prototype.constructor=CommonTokenStream;CommonTokenStream.prototype.adjustSeekIndex=function(i){return this.nextTokenOnChannel(i,this.channel)};CommonTokenStream.prototype.LB=function(k){if(k===0||this.index-k<0){return null}var i=this.index;var n=1;while(n<=k){i=this.previousTokenOnChannel(i-1,this.channel);n+=1}if(i<0){return null}return this.tokens[i]};CommonTokenStream.prototype.LT=function(k){this.lazyInit();if(k===0){return null}if(k<0){return this.LB(-k)}var i=this.index;var n=1;while(n<k){if(this.sync(i+1)){i=this.nextTokenOnChannel(i+1,this.channel)}n+=1}return this.tokens[i]};CommonTokenStream.prototype.getNumberOfOnChannelTokens=function(){var n=0;this.fill();for(var i=0;i<this.tokens.length;i++){var t=this.tokens[i];if(t.channel===this.channel){n+=1}if(t.type===Token.EOF){break}}return n};exports.CommonTokenStream=CommonTokenStream},{"./BufferedTokenStream":6,"./Token":20}],10:[function(require,module,exports){var InputStream=require("./InputStream").InputStream;var isNodeJs=typeof window==="undefined"&&typeof importScripts==="undefined";var fs=isNodeJs?require("fs"):null;function FileStream(fileName,decodeToUnicodeCodePoints){var data=fs.readFileSync(fileName,"utf8");InputStream.call(this,data,decodeToUnicodeCodePoints);this.fileName=fileName;return this}FileStream.prototype=Object.create(InputStream.prototype);FileStream.prototype.constructor=FileStream;exports.FileStream=FileStream},{"./InputStream":11,fs:53}],11:[function(require,module,exports){var Token=require("./Token").Token;require("./polyfills/codepointat");require("./polyfills/fromcodepoint");function _loadString(stream){stream._index=0;stream.data=[];if(stream.decodeToUnicodeCodePoints){for(var i=0;i<stream.strdata.length;){var codePoint=stream.strdata.codePointAt(i);stream.data.push(codePoint);i+=codePoint<=65535?1:2}}else{for(var i=0;i<stream.strdata.length;i++){var codeUnit=stream.strdata.charCodeAt(i);stream.data.push(codeUnit)}}stream._size=stream.data.length}function InputStream(data,decodeToUnicodeCodePoints){this.name="<empty>";this.strdata=data;this.decodeToUnicodeCodePoints=decodeToUnicodeCodePoints||false;_loadString(this);return this}Object.defineProperty(InputStream.prototype,"index",{get:function(){return this._index}});Object.defineProperty(InputStream.prototype,"size",{get:function(){return this._size}});InputStream.prototype.reset=function(){this._index=0};InputStream.prototype.consume=function(){if(this._index>=this._size){throw"cannot consume EOF"}this._index+=1};InputStream.prototype.LA=function(offset){if(offset===0){return 0}if(offset<0){offset+=1}var pos=this._index+offset-1;if(pos<0||pos>=this._size){return Token.EOF}return this.data[pos]};InputStream.prototype.LT=function(offset){return this.LA(offset)};InputStream.prototype.mark=function(){return-1};InputStream.prototype.release=function(marker){};InputStream.prototype.seek=function(_index){if(_index<=this._index){this._index=_index;return}this._index=Math.min(_index,this._size)};InputStream.prototype.getText=function(start,stop){if(stop>=this._size){stop=this._size-1}if(start>=this._size){return""}else{if(this.decodeToUnicodeCodePoints){var result="";for(var i=start;i<=stop;i++){result+=String.fromCodePoint(this.data[i])}return result}else{return this.strdata.slice(start,stop+1)}}};InputStream.prototype.toString=function(){return this.strdata};exports.InputStream=InputStream},{"./Token":20,"./polyfills/codepointat":48,"./polyfills/fromcodepoint":49}],12:[function(require,module,exports){var Token=require("./Token").Token;function Interval(start,stop){this.start=start;this.stop=stop;return this}Interval.prototype.contains=function(item){return item>=this.start&&item<this.stop};Interval.prototype.toString=function(){if(this.start===this.stop-1){return this.start.toString()}else{return this.start.toString()+".."+(this.stop-1).toString()}};Object.defineProperty(Interval.prototype,"length",{get:function(){return this.stop-this.start}});function IntervalSet(){this.intervals=null;this.readOnly=false}IntervalSet.prototype.first=function(v){if(this.intervals===null||this.intervals.length===0){return Token.INVALID_TYPE}else{return this.intervals[0].start}};IntervalSet.prototype.addOne=function(v){this.addInterval(new Interval(v,v+1))};IntervalSet.prototype.addRange=function(l,h){this.addInterval(new Interval(l,h+1))};IntervalSet.prototype.addInterval=function(v){if(this.intervals===null){this.intervals=[];this.intervals.push(v)}else{for(var k=0;k<this.intervals.length;k++){var i=this.intervals[k];if(v.stop<i.start){this.intervals.splice(k,0,v);return}else if(v.stop===i.start){this.intervals[k].start=v.start;return}else if(v.start<=i.stop){this.intervals[k]=new Interval(Math.min(i.start,v.start),Math.max(i.stop,v.stop));this.reduce(k);return}}this.intervals.push(v)}};IntervalSet.prototype.addSet=function(other){if(other.intervals!==null){for(var k=0;k<other.intervals.length;k++){var i=other.intervals[k];this.addInterval(new Interval(i.start,i.stop))}}return this};IntervalSet.prototype.reduce=function(k){if(k<this.intervalslength-1){var l=this.intervals[k];var r=this.intervals[k+1];if(l.stop>=r.stop){this.intervals.pop(k+1);this.reduce(k)}else if(l.stop>=r.start){this.intervals[k]=new Interval(l.start,r.stop);this.intervals.pop(k+1)}}};IntervalSet.prototype.complement=function(start,stop){var result=new IntervalSet;result.addInterval(new Interval(start,stop+1));for(var i=0;i<this.intervals.length;i++){result.removeRange(this.intervals[i])}return result};IntervalSet.prototype.contains=function(item){if(this.intervals===null){return false}else{for(var k=0;k<this.intervals.length;k++){if(this.intervals[k].contains(item)){return true}}return false}};Object.defineProperty(IntervalSet.prototype,"length",{get:function(){var len=0;this.intervals.map(function(i){len+=i.length});return len}});IntervalSet.prototype.removeRange=function(v){if(v.start===v.stop-1){this.removeOne(v.start)}else if(this.intervals!==null){var k=0;for(var n=0;n<this.intervals.length;n++){var i=this.intervals[k];if(v.stop<=i.start){return}else if(v.start>i.start&&v.stop<i.stop){this.intervals[k]=new Interval(i.start,v.start);var x=new Interval(v.stop,i.stop);this.intervals.splice(k,0,x);return}else if(v.start<=i.start&&v.stop>=i.stop){this.intervals.splice(k,1);k=k-1}else if(v.start<i.stop){this.intervals[k]=new Interval(i.start,v.start)}else if(v.stop<i.stop){this.intervals[k]=new Interval(v.stop,i.stop)}k+=1}}};IntervalSet.prototype.removeOne=function(v){if(this.intervals!==null){for(var k=0;k<this.intervals.length;k++){var i=this.intervals[k];if(v<i.start){return}else if(v===i.start&&v===i.stop-1){this.intervals.splice(k,1);return}else if(v===i.start){this.intervals[k]=new Interval(i.start+1,i.stop);return}else if(v===i.stop-1){this.intervals[k]=new Interval(i.start,i.stop-1);return}else if(v<i.stop-1){var x=new Interval(i.start,v);i.start=v+1;this.intervals.splice(k,0,x);return}}}};IntervalSet.prototype.toString=function(literalNames,symbolicNames,elemsAreChar){literalNames=literalNames||null;symbolicNames=symbolicNames||null;elemsAreChar=elemsAreChar||false;if(this.intervals===null){return"{}"}else if(literalNames!==null||symbolicNames!==null){return this.toTokenString(literalNames,symbolicNames)}else if(elemsAreChar){return this.toCharString()}else{return this.toIndexString()}};IntervalSet.prototype.toCharString=function(){var names=[];for(var i=0;i<this.intervals.length;i++){var v=this.intervals[i];if(v.stop===v.start+1){if(v.start===Token.EOF){names.push("<EOF>")}else{names.push("'"+String.fromCharCode(v.start)+"'")}}else{names.push("'"+String.fromCharCode(v.start)+"'..'"+String.fromCharCode(v.stop-1)+"'")}}if(names.length>1){return"{"+names.join(", ")+"}"}else{return names[0]}};IntervalSet.prototype.toIndexString=function(){var names=[];for(var i=0;i<this.intervals.length;i++){var v=this.intervals[i];if(v.stop===v.start+1){if(v.start===Token.EOF){names.push("<EOF>")}else{names.push(v.start.toString())}}else{names.push(v.start.toString()+".."+(v.stop-1).toString())}}if(names.length>1){return"{"+names.join(", ")+"}"}else{return names[0]}};IntervalSet.prototype.toTokenString=function(literalNames,symbolicNames){var names=[];for(var i=0;i<this.intervals.length;i++){var v=this.intervals[i];for(var j=v.start;j<v.stop;j++){names.push(this.elementName(literalNames,symbolicNames,j))}}if(names.length>1){return"{"+names.join(", ")+"}"}else{return names[0]}};IntervalSet.prototype.elementName=function(literalNames,symbolicNames,a){if(a===Token.EOF){return"<EOF>"}else if(a===Token.EPSILON){return"<EPSILON>"}else{return literalNames[a]||symbolicNames[a]}};exports.Interval=Interval;exports.IntervalSet=IntervalSet},{"./Token":20}],13:[function(require,module,exports){var Set=require("./Utils").Set;var BitSet=require("./Utils").BitSet;var Token=require("./Token").Token;var ATNConfig=require("./atn/ATNConfig").ATNConfig;var Interval=require("./IntervalSet").Interval;var IntervalSet=require("./IntervalSet").IntervalSet;var RuleStopState=require("./atn/ATNState").RuleStopState;var RuleTransition=require("./atn/Transition").RuleTransition;var NotSetTransition=require("./atn/Transition").NotSetTransition;var WildcardTransition=require("./atn/Transition").WildcardTransition;var AbstractPredicateTransition=require("./atn/Transition").AbstractPredicateTransition;var pc=require("./PredictionContext");var predictionContextFromRuleContext=pc.predictionContextFromRuleContext;var PredictionContext=pc.PredictionContext;var SingletonPredictionContext=pc.SingletonPredictionContext;function LL1Analyzer(atn){this.atn=atn}LL1Analyzer.HIT_PRED=Token.INVALID_TYPE;LL1Analyzer.prototype.getDecisionLookahead=function(s){if(s===null){return null}var count=s.transitions.length;var look=[];for(var alt=0;alt<count;alt++){look[alt]=new IntervalSet;var lookBusy=new Set;var seeThruPreds=false;this._LOOK(s.transition(alt).target,null,PredictionContext.EMPTY,look[alt],lookBusy,new BitSet,seeThruPreds,false);if(look[alt].length===0||look[alt].contains(LL1Analyzer.HIT_PRED)){look[alt]=null}}return look};LL1Analyzer.prototype.LOOK=function(s,stopState,ctx){var r=new IntervalSet;var seeThruPreds=true;ctx=ctx||null;var lookContext=ctx!==null?predictionContextFromRuleContext(s.atn,ctx):null;this._LOOK(s,stopState,lookContext,r,new Set,new BitSet,seeThruPreds,true);return r};LL1Analyzer.prototype._LOOK=function(s,stopState,ctx,look,lookBusy,calledRuleStack,seeThruPreds,addEOF){var c=new ATNConfig({state:s,alt:0,context:ctx},null);if(lookBusy.contains(c)){return}lookBusy.add(c);if(s===stopState){if(ctx===null){look.addOne(Token.EPSILON);return}else if(ctx.isEmpty()&&addEOF){look.addOne(Token.EOF);return}}if(s instanceof RuleStopState){if(ctx===null){look.addOne(Token.EPSILON);return}else if(ctx.isEmpty()&&addEOF){look.addOne(Token.EOF);return}if(ctx!==PredictionContext.EMPTY){for(var i=0;i<ctx.length;i++){var returnState=this.atn.states[ctx.getReturnState(i)];var removed=calledRuleStack.contains(returnState.ruleIndex);try{calledRuleStack.remove(returnState.ruleIndex);this._LOOK(returnState,stopState,ctx.getParent(i),look,lookBusy,calledRuleStack,seeThruPreds,addEOF)}finally{if(removed){calledRuleStack.add(returnState.ruleIndex)}}}return}}for(var j=0;j<s.transitions.length;j++){var t=s.transitions[j];if(t.constructor===RuleTransition){if(calledRuleStack.contains(t.target.ruleIndex)){continue}var newContext=SingletonPredictionContext.create(ctx,t.followState.stateNumber);try{calledRuleStack.add(t.target.ruleIndex);this._LOOK(t.target,stopState,newContext,look,lookBusy,calledRuleStack,seeThruPreds,addEOF)}finally{calledRuleStack.remove(t.target.ruleIndex)}}else if(t instanceof AbstractPredicateTransition){if(seeThruPreds){this._LOOK(t.target,stopState,ctx,look,lookBusy,calledRuleStack,seeThruPreds,addEOF)}else{look.addOne(LL1Analyzer.HIT_PRED)}}else if(t.isEpsilon){this._LOOK(t.target,stopState,ctx,look,lookBusy,calledRuleStack,seeThruPreds,addEOF)}else if(t.constructor===WildcardTransition){look.addRange(Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)}else{var set=t.label;if(set!==null){if(t instanceof NotSetTransition){set=set.complement(Token.MIN_USER_TOKEN_TYPE,this.atn.maxTokenType)}look.addSet(set)}}}};exports.LL1Analyzer=LL1Analyzer},{"./IntervalSet":12,"./PredictionContext":17,"./Token":20,"./Utils":21,"./atn/ATNConfig":23,"./atn/ATNState":28,"./atn/Transition":36}],14:[function(require,module,exports){var Token=require("./Token").Token;var Recognizer=require("./Recognizer").Recognizer;var CommonTokenFactory=require("./CommonTokenFactory").CommonTokenFactory;var RecognitionException=require("./error/Errors").RecognitionException;var LexerNoViableAltException=require("./error/Errors").LexerNoViableAltException;function TokenSource(){return this}function Lexer(input){Recognizer.call(this);this._input=input;this._factory=CommonTokenFactory.DEFAULT;this._tokenFactorySourcePair=[this,input];this._interp=null;this._token=null;this._tokenStartCharIndex=-1;this._tokenStartLine=-1;this._tokenStartColumn=-1;this._hitEOF=false;this._channel=Token.DEFAULT_CHANNEL;this._type=Token.INVALID_TYPE;this._modeStack=[];this._mode=Lexer.DEFAULT_MODE;this._text=null;return this}Lexer.prototype=Object.create(Recognizer.prototype);Lexer.prototype.constructor=Lexer;Lexer.DEFAULT_MODE=0;Lexer.MORE=-2;Lexer.SKIP=-3;Lexer.DEFAULT_TOKEN_CHANNEL=Token.DEFAULT_CHANNEL;Lexer.HIDDEN=Token.HIDDEN_CHANNEL;Lexer.MIN_CHAR_VALUE=0;Lexer.MAX_CHAR_VALUE=1114111;Lexer.prototype.reset=function(){if(this._input!==null){this._input.seek(0)}this._token=null;this._type=Token.INVALID_TYPE;this._channel=Token.DEFAULT_CHANNEL;this._tokenStartCharIndex=-1;this._tokenStartColumn=-1;this._tokenStartLine=-1;this._text=null;this._hitEOF=false;this._mode=Lexer.DEFAULT_MODE;this._modeStack=[];this._interp.reset()};Lexer.prototype.nextToken=function(){if(this._input===null){throw"nextToken requires a non-null input stream."}var tokenStartMarker=this._input.mark();try{while(true){if(this._hitEOF){this.emitEOF();return this._token}this._token=null;this._channel=Token.DEFAULT_CHANNEL;this._tokenStartCharIndex=this._input.index;this._tokenStartColumn=this._interp.column;this._tokenStartLine=this._interp.line;this._text=null;var continueOuter=false;while(true){this._type=Token.INVALID_TYPE;var ttype=Lexer.SKIP;try{ttype=this._interp.match(this._input,this._mode)}catch(e){if(e instanceof RecognitionException){this.notifyListeners(e);this.recover(e)}else{console.log(e.stack);throw e}}if(this._input.LA(1)===Token.EOF){this._hitEOF=true}if(this._type===Token.INVALID_TYPE){this._type=ttype}if(this._type===Lexer.SKIP){continueOuter=true;break}if(this._type!==Lexer.MORE){break}}if(continueOuter){continue}if(this._token===null){this.emit()}return this._token}}finally{this._input.release(tokenStartMarker)}};Lexer.prototype.skip=function(){this._type=Lexer.SKIP};Lexer.prototype.more=function(){this._type=Lexer.MORE};Lexer.prototype.mode=function(m){this._mode=m};Lexer.prototype.pushMode=function(m){if(this._interp.debug){console.log("pushMode "+m)}this._modeStack.push(this._mode);this.mode(m)};Lexer.prototype.popMode=function(){if(this._modeStack.length===0){throw"Empty Stack"}if(this._interp.debug){console.log("popMode back to "+this._modeStack.slice(0,-1))}this.mode(this._modeStack.pop());return this._mode};Object.defineProperty(Lexer.prototype,"inputStream",{get:function(){return this._input},set:function(input){this._input=null;this._tokenFactorySourcePair=[this,this._input];this.reset();this._input=input;this._tokenFactorySourcePair=[this,this._input]}});Object.defineProperty(Lexer.prototype,"sourceName",{get:function sourceName(){return this._input.sourceName}});Lexer.prototype.emitToken=function(token){this._token=token};Lexer.prototype.emit=function(){var t=this._factory.create(this._tokenFactorySourcePair,this._type,this._text,this._channel,this._tokenStartCharIndex,this.getCharIndex()-1,this._tokenStartLine,this._tokenStartColumn);this.emitToken(t);return t};Lexer.prototype.emitEOF=function(){var cpos=this.column;var lpos=this.line;var eof=this._factory.create(this._tokenFactorySourcePair,Token.EOF,null,Token.DEFAULT_CHANNEL,this._input.index,this._input.index-1,lpos,cpos);this.emitToken(eof);return eof};Object.defineProperty(Lexer.prototype,"type",{get:function(){return this.type},set:function(type){this._type=type}});Object.defineProperty(Lexer.prototype,"line",{get:function(){return this._interp.line},set:function(line){this._interp.line=line}});Object.defineProperty(Lexer.prototype,"column",{get:function(){return this._interp.column},set:function(column){this._interp.column=column}});Lexer.prototype.getCharIndex=function(){return this._input.index};Object.defineProperty(Lexer.prototype,"text",{get:function(){if(this._text!==null){return this._text}else{return this._interp.getText(this._input)}},set:function(text){this._text=text}});Lexer.prototype.getAllTokens=function(){var tokens=[];var t=this.nextToken();while(t.type!==Token.EOF){tokens.push(t);t=this.nextToken()}return tokens};Lexer.prototype.notifyListeners=function(e){var start=this._tokenStartCharIndex;var stop=this._input.index;var text=this._input.getText(start,stop);var msg="token recognition error at: '"+this.getErrorDisplay(text)+"'";var listener=this.getErrorListenerDispatch();listener.syntaxError(this,null,this._tokenStartLine,this._tokenStartColumn,msg,e)};Lexer.prototype.getErrorDisplay=function(s){var d=[];for(var i=0;i<s.length;i++){d.push(s[i])}return d.join("")};Lexer.prototype.getErrorDisplayForChar=function(c){if(c.charCodeAt(0)===Token.EOF){return"<EOF>"}else if(c==="\n"){return"\\n"}else if(c==="\t"){return"\\t"}else if(c==="\r"){return"\\r"}else{return c}};Lexer.prototype.getCharErrorDisplay=function(c){return"'"+this.getErrorDisplayForChar(c)+"'"};Lexer.prototype.recover=function(re){if(this._input.LA(1)!==Token.EOF){if(re instanceof LexerNoViableAltException){this._interp.consume(this._input)}else{this._input.consume()}}};exports.Lexer=Lexer},{"./CommonTokenFactory":8,"./Recognizer":18,"./Token":20,"./error/Errors":45}],15:[function(require,module,exports){var Token=require("./Token").Token
;var ParseTreeListener=require("./tree/Tree").ParseTreeListener;var Recognizer=require("./Recognizer").Recognizer;var DefaultErrorStrategy=require("./error/ErrorStrategy").DefaultErrorStrategy;var ATNDeserializer=require("./atn/ATNDeserializer").ATNDeserializer;var ATNDeserializationOptions=require("./atn/ATNDeserializationOptions").ATNDeserializationOptions;var TerminalNode=require("./tree/Tree").TerminalNode;var ErrorNode=require("./tree/Tree").ErrorNode;function TraceListener(parser){ParseTreeListener.call(this);this.parser=parser;return this}TraceListener.prototype=Object.create(ParseTreeListener.prototype);TraceListener.prototype.constructor=TraceListener;TraceListener.prototype.enterEveryRule=function(ctx){console.log("enter   "+this.parser.ruleNames[ctx.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)};TraceListener.prototype.visitTerminal=function(node){console.log("consume "+node.symbol+" rule "+this.parser.ruleNames[this.parser._ctx.ruleIndex])};TraceListener.prototype.exitEveryRule=function(ctx){console.log("exit    "+this.parser.ruleNames[ctx.ruleIndex]+", LT(1)="+this.parser._input.LT(1).text)};function Parser(input){Recognizer.call(this);this._input=null;this._errHandler=new DefaultErrorStrategy;this._precedenceStack=[];this._precedenceStack.push(0);this._ctx=null;this.buildParseTrees=true;this._tracer=null;this._parseListeners=null;this._syntaxErrors=0;this.setInputStream(input);return this}Parser.prototype=Object.create(Recognizer.prototype);Parser.prototype.contructor=Parser;Parser.bypassAltsAtnCache={};Parser.prototype.reset=function(){if(this._input!==null){this._input.seek(0)}this._errHandler.reset(this);this._ctx=null;this._syntaxErrors=0;this.setTrace(false);this._precedenceStack=[];this._precedenceStack.push(0);if(this._interp!==null){this._interp.reset()}};Parser.prototype.match=function(ttype){var t=this.getCurrentToken();if(t.type===ttype){this._errHandler.reportMatch(this);this.consume()}else{t=this._errHandler.recoverInline(this);if(this.buildParseTrees&&t.tokenIndex===-1){this._ctx.addErrorNode(t)}}return t};Parser.prototype.matchWildcard=function(){var t=this.getCurrentToken();if(t.type>0){this._errHandler.reportMatch(this);this.consume()}else{t=this._errHandler.recoverInline(this);if(this._buildParseTrees&&t.tokenIndex===-1){this._ctx.addErrorNode(t)}}return t};Parser.prototype.getParseListeners=function(){return this._parseListeners||[]};Parser.prototype.addParseListener=function(listener){if(listener===null){throw"listener"}if(this._parseListeners===null){this._parseListeners=[]}this._parseListeners.push(listener)};Parser.prototype.removeParseListener=function(listener){if(this._parseListeners!==null){var idx=this._parseListeners.indexOf(listener);if(idx>=0){this._parseListeners.splice(idx,1)}if(this._parseListeners.length===0){this._parseListeners=null}}};Parser.prototype.removeParseListeners=function(){this._parseListeners=null};Parser.prototype.triggerEnterRuleEvent=function(){if(this._parseListeners!==null){var ctx=this._ctx;this._parseListeners.map(function(listener){listener.enterEveryRule(ctx);ctx.enterRule(listener)})}};Parser.prototype.triggerExitRuleEvent=function(){if(this._parseListeners!==null){var ctx=this._ctx;this._parseListeners.slice(0).reverse().map(function(listener){ctx.exitRule(listener);listener.exitEveryRule(ctx)})}};Parser.prototype.getTokenFactory=function(){return this._input.tokenSource._factory};Parser.prototype.setTokenFactory=function(factory){this._input.tokenSource._factory=factory};Parser.prototype.getATNWithBypassAlts=function(){var serializedAtn=this.getSerializedATN();if(serializedAtn===null){throw"The current parser does not support an ATN with bypass alternatives."}var result=this.bypassAltsAtnCache[serializedAtn];if(result===null){var deserializationOptions=new ATNDeserializationOptions;deserializationOptions.generateRuleBypassTransitions=true;result=new ATNDeserializer(deserializationOptions).deserialize(serializedAtn);this.bypassAltsAtnCache[serializedAtn]=result}return result};var Lexer=require("./Lexer").Lexer;Parser.prototype.compileParseTreePattern=function(pattern,patternRuleIndex,lexer){lexer=lexer||null;if(lexer===null){if(this.getTokenStream()!==null){var tokenSource=this.getTokenStream().tokenSource;if(tokenSource instanceof Lexer){lexer=tokenSource}}}if(lexer===null){throw"Parser can't discover a lexer to use"}var m=new ParseTreePatternMatcher(lexer,this);return m.compile(pattern,patternRuleIndex)};Parser.prototype.getInputStream=function(){return this.getTokenStream()};Parser.prototype.setInputStream=function(input){this.setTokenStream(input)};Parser.prototype.getTokenStream=function(){return this._input};Parser.prototype.setTokenStream=function(input){this._input=null;this.reset();this._input=input};Parser.prototype.getCurrentToken=function(){return this._input.LT(1)};Parser.prototype.notifyErrorListeners=function(msg,offendingToken,err){offendingToken=offendingToken||null;err=err||null;if(offendingToken===null){offendingToken=this.getCurrentToken()}this._syntaxErrors+=1;var line=offendingToken.line;var column=offendingToken.column;var listener=this.getErrorListenerDispatch();listener.syntaxError(this,offendingToken,line,column,msg,err)};Parser.prototype.consume=function(){var o=this.getCurrentToken();if(o.type!==Token.EOF){this.getInputStream().consume()}var hasListener=this._parseListeners!==null&&this._parseListeners.length>0;if(this.buildParseTrees||hasListener){var node;if(this._errHandler.inErrorRecoveryMode(this)){node=this._ctx.addErrorNode(o)}else{node=this._ctx.addTokenNode(o)}node.invokingState=this.state;if(hasListener){this._parseListeners.map(function(listener){if(node instanceof ErrorNode||node.isErrorNode!==undefined&&node.isErrorNode()){listener.visitErrorNode(node)}else if(node instanceof TerminalNode){listener.visitTerminal(node)}})}}return o};Parser.prototype.addContextToParseTree=function(){if(this._ctx.parentCtx!==null){this._ctx.parentCtx.addChild(this._ctx)}};Parser.prototype.enterRule=function(localctx,state,ruleIndex){this.state=state;this._ctx=localctx;this._ctx.start=this._input.LT(1);if(this.buildParseTrees){this.addContextToParseTree()}if(this._parseListeners!==null){this.triggerEnterRuleEvent()}};Parser.prototype.exitRule=function(){this._ctx.stop=this._input.LT(-1);if(this._parseListeners!==null){this.triggerExitRuleEvent()}this.state=this._ctx.invokingState;this._ctx=this._ctx.parentCtx};Parser.prototype.enterOuterAlt=function(localctx,altNum){localctx.setAltNumber(altNum);if(this.buildParseTrees&&this._ctx!==localctx){if(this._ctx.parentCtx!==null){this._ctx.parentCtx.removeLastChild();this._ctx.parentCtx.addChild(localctx)}}this._ctx=localctx};Parser.prototype.getPrecedence=function(){if(this._precedenceStack.length===0){return-1}else{return this._precedenceStack[this._precedenceStack.length-1]}};Parser.prototype.enterRecursionRule=function(localctx,state,ruleIndex,precedence){this.state=state;this._precedenceStack.push(precedence);this._ctx=localctx;this._ctx.start=this._input.LT(1);if(this._parseListeners!==null){this.triggerEnterRuleEvent()}};Parser.prototype.pushNewRecursionContext=function(localctx,state,ruleIndex){var previous=this._ctx;previous.parentCtx=localctx;previous.invokingState=state;previous.stop=this._input.LT(-1);this._ctx=localctx;this._ctx.start=previous.start;if(this.buildParseTrees){this._ctx.addChild(previous)}if(this._parseListeners!==null){this.triggerEnterRuleEvent()}};Parser.prototype.unrollRecursionContexts=function(parentCtx){this._precedenceStack.pop();this._ctx.stop=this._input.LT(-1);var retCtx=this._ctx;if(this._parseListeners!==null){while(this._ctx!==parentCtx){this.triggerExitRuleEvent();this._ctx=this._ctx.parentCtx}}else{this._ctx=parentCtx}retCtx.parentCtx=parentCtx;if(this.buildParseTrees&&parentCtx!==null){parentCtx.addChild(retCtx)}};Parser.prototype.getInvokingContext=function(ruleIndex){var ctx=this._ctx;while(ctx!==null){if(ctx.ruleIndex===ruleIndex){return ctx}ctx=ctx.parentCtx}return null};Parser.prototype.precpred=function(localctx,precedence){return precedence>=this._precedenceStack[this._precedenceStack.length-1]};Parser.prototype.inContext=function(context){return false};Parser.prototype.isExpectedToken=function(symbol){var atn=this._interp.atn;var ctx=this._ctx;var s=atn.states[this.state];var following=atn.nextTokens(s);if(following.contains(symbol)){return true}if(!following.contains(Token.EPSILON)){return false}while(ctx!==null&&ctx.invokingState>=0&&following.contains(Token.EPSILON)){var invokingState=atn.states[ctx.invokingState];var rt=invokingState.transitions[0];following=atn.nextTokens(rt.followState);if(following.contains(symbol)){return true}ctx=ctx.parentCtx}if(following.contains(Token.EPSILON)&&symbol===Token.EOF){return true}else{return false}};Parser.prototype.getExpectedTokens=function(){return this._interp.atn.getExpectedTokens(this.state,this._ctx)};Parser.prototype.getExpectedTokensWithinCurrentRule=function(){var atn=this._interp.atn;var s=atn.states[this.state];return atn.nextTokens(s)};Parser.prototype.getRuleIndex=function(ruleName){var ruleIndex=this.getRuleIndexMap()[ruleName];if(ruleIndex!==null){return ruleIndex}else{return-1}};Parser.prototype.getRuleInvocationStack=function(p){p=p||null;if(p===null){p=this._ctx}var stack=[];while(p!==null){var ruleIndex=p.ruleIndex;if(ruleIndex<0){stack.push("n/a")}else{stack.push(this.ruleNames[ruleIndex])}p=p.parentCtx}return stack};Parser.prototype.getDFAStrings=function(){return this._interp.decisionToDFA.toString()};Parser.prototype.dumpDFA=function(){var seenOne=false;for(var i=0;i<this._interp.decisionToDFA.length;i++){var dfa=this._interp.decisionToDFA[i];if(dfa.states.length>0){if(seenOne){console.log()}this.printer.println("Decision "+dfa.decision+":");this.printer.print(dfa.toString(this.literalNames,this.symbolicNames));seenOne=true}}};Parser.prototype.getSourceName=function(){return this._input.sourceName};Parser.prototype.setTrace=function(trace){if(!trace){this.removeParseListener(this._tracer);this._tracer=null}else{if(this._tracer!==null){this.removeParseListener(this._tracer)}this._tracer=new TraceListener(this);this.addParseListener(this._tracer)}};exports.Parser=Parser},{"./Lexer":14,"./Recognizer":18,"./Token":20,"./atn/ATNDeserializationOptions":25,"./atn/ATNDeserializer":26,"./error/ErrorStrategy":44,"./tree/Tree":50}],16:[function(require,module,exports){var RuleContext=require("./RuleContext").RuleContext;var Tree=require("./tree/Tree");var INVALID_INTERVAL=Tree.INVALID_INTERVAL;var TerminalNode=Tree.TerminalNode;var TerminalNodeImpl=Tree.TerminalNodeImpl;var ErrorNodeImpl=Tree.ErrorNodeImpl;var Interval=require("./IntervalSet").Interval;function ParserRuleContext(parent,invokingStateNumber){parent=parent||null;invokingStateNumber=invokingStateNumber||null;RuleContext.call(this,parent,invokingStateNumber);this.ruleIndex=-1;this.children=null;this.start=null;this.stop=null;this.exception=null}ParserRuleContext.prototype=Object.create(RuleContext.prototype);ParserRuleContext.prototype.constructor=ParserRuleContext;ParserRuleContext.prototype.copyFrom=function(ctx){this.parentCtx=ctx.parentCtx;this.invokingState=ctx.invokingState;this.children=null;this.start=ctx.start;this.stop=ctx.stop;if(ctx.children){this.children=[];ctx.children.map(function(child){if(child instanceof ErrorNodeImpl){this.children.push(child);child.parentCtx=this}},this)}};ParserRuleContext.prototype.enterRule=function(listener){};ParserRuleContext.prototype.exitRule=function(listener){};ParserRuleContext.prototype.addChild=function(child){if(this.children===null){this.children=[]}this.children.push(child);return child};ParserRuleContext.prototype.removeLastChild=function(){if(this.children!==null){this.children.pop()}};ParserRuleContext.prototype.addTokenNode=function(token){var node=new TerminalNodeImpl(token);this.addChild(node);node.parentCtx=this;return node};ParserRuleContext.prototype.addErrorNode=function(badToken){var node=new ErrorNodeImpl(badToken);this.addChild(node);node.parentCtx=this;return node};ParserRuleContext.prototype.getChild=function(i,type){type=type||null;if(this.children===null||i<0||i>=this.children.length){return null}if(type===null){return this.children[i]}else{for(var j=0;j<this.children.length;j++){var child=this.children[j];if(child instanceof type){if(i===0){return child}else{i-=1}}}return null}};ParserRuleContext.prototype.getToken=function(ttype,i){if(this.children===null||i<0||i>=this.children.length){return null}for(var j=0;j<this.children.length;j++){var child=this.children[j];if(child instanceof TerminalNode){if(child.symbol.type===ttype){if(i===0){return child}else{i-=1}}}}return null};ParserRuleContext.prototype.getTokens=function(ttype){if(this.children===null){return[]}else{var tokens=[];for(var j=0;j<this.children.length;j++){var child=this.children[j];if(child instanceof TerminalNode){if(child.symbol.type===ttype){tokens.push(child)}}}return tokens}};ParserRuleContext.prototype.getTypedRuleContext=function(ctxType,i){return this.getChild(i,ctxType)};ParserRuleContext.prototype.getTypedRuleContexts=function(ctxType){if(this.children===null){return[]}else{var contexts=[];for(var j=0;j<this.children.length;j++){var child=this.children[j];if(child instanceof ctxType){contexts.push(child)}}return contexts}};ParserRuleContext.prototype.getChildCount=function(){if(this.children===null){return 0}else{return this.children.length}};ParserRuleContext.prototype.getSourceInterval=function(){if(this.start===null||this.stop===null){return INVALID_INTERVAL}else{return new Interval(this.start.tokenIndex,this.stop.tokenIndex)}};RuleContext.EMPTY=new ParserRuleContext;function InterpreterRuleContext(parent,invokingStateNumber,ruleIndex){ParserRuleContext.call(parent,invokingStateNumber);this.ruleIndex=ruleIndex;return this}InterpreterRuleContext.prototype=Object.create(ParserRuleContext.prototype);InterpreterRuleContext.prototype.constructor=InterpreterRuleContext;exports.ParserRuleContext=ParserRuleContext},{"./IntervalSet":12,"./RuleContext":19,"./tree/Tree":50}],17:[function(require,module,exports){var RuleContext=require("./RuleContext").RuleContext;var Hash=require("./Utils").Hash;function PredictionContext(cachedHashCode){this.cachedHashCode=cachedHashCode}PredictionContext.EMPTY=null;PredictionContext.EMPTY_RETURN_STATE=2147483647;PredictionContext.globalNodeCount=1;PredictionContext.id=PredictionContext.globalNodeCount;PredictionContext.prototype.isEmpty=function(){return this===PredictionContext.EMPTY};PredictionContext.prototype.hasEmptyPath=function(){return this.getReturnState(this.length-1)===PredictionContext.EMPTY_RETURN_STATE};PredictionContext.prototype.hashCode=function(){return this.cachedHashCode};PredictionContext.prototype.updateHashCode=function(hash){hash.update(this.cachedHashCode)};function PredictionContextCache(){this.cache={};return this}PredictionContextCache.prototype.add=function(ctx){if(ctx===PredictionContext.EMPTY){return PredictionContext.EMPTY}var existing=this.cache[ctx]||null;if(existing!==null){return existing}this.cache[ctx]=ctx;return ctx};PredictionContextCache.prototype.get=function(ctx){return this.cache[ctx]||null};Object.defineProperty(PredictionContextCache.prototype,"length",{get:function(){return this.cache.length}});function SingletonPredictionContext(parent,returnState){var hashCode=0;if(parent!==null){var hash=new Hash;hash.update(parent,returnState);hashCode=hash.finish()}PredictionContext.call(this,hashCode);this.parentCtx=parent;this.returnState=returnState}SingletonPredictionContext.prototype=Object.create(PredictionContext.prototype);SingletonPredictionContext.prototype.contructor=SingletonPredictionContext;SingletonPredictionContext.create=function(parent,returnState){if(returnState===PredictionContext.EMPTY_RETURN_STATE&&parent===null){return PredictionContext.EMPTY}else{return new SingletonPredictionContext(parent,returnState)}};Object.defineProperty(SingletonPredictionContext.prototype,"length",{get:function(){return 1}});SingletonPredictionContext.prototype.getParent=function(index){return this.parentCtx};SingletonPredictionContext.prototype.getReturnState=function(index){return this.returnState};SingletonPredictionContext.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof SingletonPredictionContext)){return false}else if(this.hashCode()!==other.hashCode()){return false}else{if(this.returnState!==other.returnState)return false;else if(this.parentCtx==null)return other.parentCtx==null;else return this.parentCtx.equals(other.parentCtx)}};SingletonPredictionContext.prototype.toString=function(){var up=this.parentCtx===null?"":this.parentCtx.toString();if(up.length===0){if(this.returnState===PredictionContext.EMPTY_RETURN_STATE){return"$"}else{return""+this.returnState}}else{return""+this.returnState+" "+up}};function EmptyPredictionContext(){SingletonPredictionContext.call(this,null,PredictionContext.EMPTY_RETURN_STATE);return this}EmptyPredictionContext.prototype=Object.create(SingletonPredictionContext.prototype);EmptyPredictionContext.prototype.constructor=EmptyPredictionContext;EmptyPredictionContext.prototype.isEmpty=function(){return true};EmptyPredictionContext.prototype.getParent=function(index){return null};EmptyPredictionContext.prototype.getReturnState=function(index){return this.returnState};EmptyPredictionContext.prototype.equals=function(other){return this===other};EmptyPredictionContext.prototype.toString=function(){return"$"};PredictionContext.EMPTY=new EmptyPredictionContext;function ArrayPredictionContext(parents,returnStates){var h=new Hash;h.update(parents,returnStates);var hashCode=h.finish();PredictionContext.call(this,hashCode);this.parents=parents;this.returnStates=returnStates;return this}ArrayPredictionContext.prototype=Object.create(PredictionContext.prototype);ArrayPredictionContext.prototype.constructor=ArrayPredictionContext;ArrayPredictionContext.prototype.isEmpty=function(){return this.returnStates[0]===PredictionContext.EMPTY_RETURN_STATE};Object.defineProperty(ArrayPredictionContext.prototype,"length",{get:function(){return this.returnStates.length}});ArrayPredictionContext.prototype.getParent=function(index){return this.parents[index]};ArrayPredictionContext.prototype.getReturnState=function(index){return this.returnStates[index]};ArrayPredictionContext.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof ArrayPredictionContext)){return false}else if(this.hashCode()!==other.hashCode()){return false}else{return this.returnStates===other.returnStates&&this.parents===other.parents}};ArrayPredictionContext.prototype.toString=function(){if(this.isEmpty()){return"[]"}else{var s="[";for(var i=0;i<this.returnStates.length;i++){if(i>0){s=s+", "}if(this.returnStates[i]===PredictionContext.EMPTY_RETURN_STATE){s=s+"$";continue}s=s+this.returnStates[i];if(this.parents[i]!==null){s=s+" "+this.parents[i]}else{s=s+"null"}}return s+"]"}};function predictionContextFromRuleContext(atn,outerContext){if(outerContext===undefined||outerContext===null){outerContext=RuleContext.EMPTY}if(outerContext.parentCtx===null||outerContext===RuleContext.EMPTY){return PredictionContext.EMPTY}var parent=predictionContextFromRuleContext(atn,outerContext.parentCtx);var state=atn.states[outerContext.invokingState];var transition=state.transitions[0];return SingletonPredictionContext.create(parent,transition.followState.stateNumber)}function merge(a,b,rootIsWildcard,mergeCache){if(a===b){return a}if(a instanceof SingletonPredictionContext&&b instanceof SingletonPredictionContext){return mergeSingletons(a,b,rootIsWildcard,mergeCache)}if(rootIsWildcard){if(a instanceof EmptyPredictionContext){return a}if(b instanceof EmptyPredictionContext){return b}}if(a instanceof SingletonPredictionContext){a=new ArrayPredictionContext([a.getParent()],[a.returnState])}if(b instanceof SingletonPredictionContext){b=new ArrayPredictionContext([b.getParent()],[b.returnState])}return mergeArrays(a,b,rootIsWildcard,mergeCache)}function mergeSingletons(a,b,rootIsWildcard,mergeCache){if(mergeCache!==null){var previous=mergeCache.get(a,b);if(previous!==null){return previous}previous=mergeCache.get(b,a);if(previous!==null){return previous}}var rootMerge=mergeRoot(a,b,rootIsWildcard);if(rootMerge!==null){if(mergeCache!==null){mergeCache.set(a,b,rootMerge)}return rootMerge}if(a.returnState===b.returnState){var parent=merge(a.parentCtx,b.parentCtx,rootIsWildcard,mergeCache);if(parent===a.parentCtx){return a}if(parent===b.parentCtx){return b}var spc=SingletonPredictionContext.create(parent,a.returnState);if(mergeCache!==null){mergeCache.set(a,b,spc)}return spc}else{var singleParent=null;if(a===b||a.parentCtx!==null&&a.parentCtx===b.parentCtx){singleParent=a.parentCtx}if(singleParent!==null){var payloads=[a.returnState,b.returnState];if(a.returnState>b.returnState){payloads[0]=b.returnState;payloads[1]=a.returnState}var parents=[singleParent,singleParent];var apc=new ArrayPredictionContext(parents,payloads);if(mergeCache!==null){mergeCache.set(a,b,apc)}return apc}var payloads=[a.returnState,b.returnState];var parents=[a.parentCtx,b.parentCtx];if(a.returnState>b.returnState){payloads[0]=b.returnState;payloads[1]=a.returnState;parents=[b.parentCtx,a.parentCtx]}var a_=new ArrayPredictionContext(parents,payloads);if(mergeCache!==null){mergeCache.set(a,b,a_)}return a_}}function mergeRoot(a,b,rootIsWildcard){if(rootIsWildcard){if(a===PredictionContext.EMPTY){return PredictionContext.EMPTY}if(b===PredictionContext.EMPTY){return PredictionContext.EMPTY}}else{if(a===PredictionContext.EMPTY&&b===PredictionContext.EMPTY){return PredictionContext.EMPTY}else if(a===PredictionContext.EMPTY){var payloads=[b.returnState,PredictionContext.EMPTY_RETURN_STATE];var parents=[b.parentCtx,null];return new ArrayPredictionContext(parents,payloads)}else if(b===PredictionContext.EMPTY){var payloads=[a.returnState,PredictionContext.EMPTY_RETURN_STATE];var parents=[a.parentCtx,null];return new ArrayPredictionContext(parents,payloads)}}return null}function mergeArrays(a,b,rootIsWildcard,mergeCache){if(mergeCache!==null){var previous=mergeCache.get(a,b);if(previous!==null){return previous}previous=mergeCache.get(b,a);if(previous!==null){return previous}}var i=0;var j=0;var k=0;var mergedReturnStates=[];var mergedParents=[];while(i<a.returnStates.length&&j<b.returnStates.length){var a_parent=a.parents[i];var b_parent=b.parents[j];if(a.returnStates[i]===b.returnStates[j]){var payload=a.returnStates[i];var bothDollars=payload===PredictionContext.EMPTY_RETURN_STATE&&a_parent===null&&b_parent===null;var ax_ax=a_parent!==null&&b_parent!==null&&a_parent===b_parent;if(bothDollars||ax_ax){mergedParents[k]=a_parent;mergedReturnStates[k]=payload}else{var mergedParent=merge(a_parent,b_parent,rootIsWildcard,mergeCache);mergedParents[k]=mergedParent;mergedReturnStates[k]=payload}i+=1;j+=1}else if(a.returnStates[i]<b.returnStates[j]){mergedParents[k]=a_parent;mergedReturnStates[k]=a.returnStates[i];i+=1}else{mergedParents[k]=b_parent;mergedReturnStates[k]=b.returnStates[j];j+=1}k+=1}if(i<a.returnStates.length){for(var p=i;p<a.returnStates.length;p++){mergedParents[k]=a.parents[p];mergedReturnStates[k]=a.returnStates[p];k+=1}}else{for(var p=j;p<b.returnStates.length;p++){mergedParents[k]=b.parents[p];mergedReturnStates[k]=b.returnStates[p];k+=1}}if(k<mergedParents.length){if(k===1){var a_=SingletonPredictionContext.create(mergedParents[0],mergedReturnStates[0]);if(mergeCache!==null){mergeCache.set(a,b,a_)}return a_}mergedParents=mergedParents.slice(0,k);mergedReturnStates=mergedReturnStates.slice(0,k)}var M=new ArrayPredictionContext(mergedParents,mergedReturnStates);if(M===a){if(mergeCache!==null){mergeCache.set(a,b,a)}return a}if(M===b){if(mergeCache!==null){mergeCache.set(a,b,b)}return b}combineCommonParents(mergedParents);if(mergeCache!==null){mergeCache.set(a,b,M)}return M}function combineCommonParents(parents){var uniqueParents={};for(var p=0;p<parents.length;p++){var parent=parents[p];if(!(parent in uniqueParents)){uniqueParents[parent]=parent}}for(var q=0;q<parents.length;q++){parents[q]=uniqueParents[parents[q]]}}function getCachedPredictionContext(context,contextCache,visited){if(context.isEmpty()){return context}var existing=visited[context]||null;if(existing!==null){return existing}existing=contextCache.get(context);if(existing!==null){visited[context]=existing;return existing}var changed=false;var parents=[];for(var i=0;i<parents.length;i++){var parent=getCachedPredictionContext(context.getParent(i),contextCache,visited);if(changed||parent!==context.getParent(i)){if(!changed){parents=[];for(var j=0;j<context.length;j++){parents[j]=context.getParent(j)}changed=true}parents[i]=parent}}if(!changed){contextCache.add(context);visited[context]=context;return context}var updated=null;if(parents.length===0){updated=PredictionContext.EMPTY}else if(parents.length===1){updated=SingletonPredictionContext.create(parents[0],context.getReturnState(0))}else{updated=new ArrayPredictionContext(parents,context.returnStates)}contextCache.add(updated);visited[updated]=updated;visited[context]=updated;return updated}function getAllContextNodes(context,nodes,visited){if(nodes===null){nodes=[];return getAllContextNodes(context,nodes,visited)}else if(visited===null){visited={};return getAllContextNodes(context,nodes,visited)}else{if(context===null||visited[context]!==null){return nodes}visited[context]=context;nodes.push(context);for(var i=0;i<context.length;i++){getAllContextNodes(context.getParent(i),nodes,visited)}return nodes}}exports.merge=merge;exports.PredictionContext=PredictionContext;exports.PredictionContextCache=PredictionContextCache;exports.SingletonPredictionContext=SingletonPredictionContext;exports.predictionContextFromRuleContext=predictionContextFromRuleContext;exports.getCachedPredictionContext=getCachedPredictionContext},{"./RuleContext":19,"./Utils":21}],18:[function(require,module,exports){var Token=require("./Token").Token;var ConsoleErrorListener=require("./error/ErrorListener").ConsoleErrorListener;var ProxyErrorListener=require("./error/ErrorListener").ProxyErrorListener;function Recognizer(){this._listeners=[ConsoleErrorListener.INSTANCE];this._interp=null;this._stateNumber=-1;return this}Recognizer.tokenTypeMapCache={};Recognizer.ruleIndexMapCache={};Recognizer.prototype.checkVersion=function(toolVersion){var runtimeVersion="4.7.2";if(runtimeVersion!==toolVersion){console.log("ANTLR runtime and generated code versions disagree: "+runtimeVersion+"!="+toolVersion)}};Recognizer.prototype.addErrorListener=function(listener){this._listeners.push(listener)};Recognizer.prototype.removeErrorListeners=function(){this._listeners=[]};Recognizer.prototype.getTokenTypeMap=function(){var tokenNames=this.getTokenNames();if(tokenNames===null){throw"The current recognizer does not provide a list of token names."}var result=this.tokenTypeMapCache[tokenNames];if(result===undefined){result=tokenNames.reduce(function(o,k,i){o[k]=i});result.EOF=Token.EOF;this.tokenTypeMapCache[tokenNames]=result}return result};Recognizer.prototype.getRuleIndexMap=function(){var ruleNames=this.ruleNames;if(ruleNames===null){throw"The current recognizer does not provide a list of rule names."}var result=this.ruleIndexMapCache[ruleNames];if(result===undefined){result=ruleNames.reduce(function(o,k,i){o[k]=i});this.ruleIndexMapCache[ruleNames]=result}return result};Recognizer.prototype.getTokenType=function(tokenName){var ttype=this.getTokenTypeMap()[tokenName];if(ttype!==undefined){return ttype}else{return Token.INVALID_TYPE}};Recognizer.prototype.getErrorHeader=function(e){var line=e.getOffendingToken().line;var column=e.getOffendingToken().column;return"line "+line+":"+column};Recognizer.prototype.getTokenErrorDisplay=function(t){if(t===null){return"<no token>"}var s=t.text;if(s===null){if(t.type===Token.EOF){s="<EOF>"}else{s="<"+t.type+">"}}s=s.replace("\n","\\n").replace("\r","\\r").replace("\t","\\t");return"'"+s+"'"};Recognizer.prototype.getErrorListenerDispatch=function(){return new ProxyErrorListener(this._listeners)};Recognizer.prototype.sempred=function(localctx,ruleIndex,actionIndex){return true};Recognizer.prototype.precpred=function(localctx,precedence){return true};Object.defineProperty(Recognizer.prototype,"state",{get:function(){return this._stateNumber},set:function(state){this._stateNumber=state}});exports.Recognizer=Recognizer},{"./Token":20,"./error/ErrorListener":43}],19:[function(require,module,exports){var RuleNode=require("./tree/Tree").RuleNode;var INVALID_INTERVAL=require("./tree/Tree").INVALID_INTERVAL;var INVALID_ALT_NUMBER=require("./atn/ATN").INVALID_ALT_NUMBER;function RuleContext(parent,invokingState){RuleNode.call(this);this.parentCtx=parent||null;this.invokingState=invokingState||-1;return this}RuleContext.prototype=Object.create(RuleNode.prototype);RuleContext.prototype.constructor=RuleContext;RuleContext.prototype.depth=function(){var n=0;var p=this;while(p!==null){p=p.parentCtx;n+=1}return n};RuleContext.prototype.isEmpty=function(){return this.invokingState===-1};RuleContext.prototype.getSourceInterval=function(){return INVALID_INTERVAL};RuleContext.prototype.getRuleContext=function(){return this};RuleContext.prototype.getPayload=function(){return this};RuleContext.prototype.getText=function(){if(this.getChildCount()===0){return""}else{return this.children.map(function(child){return child.getText()}).join("")}};RuleContext.prototype.getAltNumber=function(){return INVALID_ALT_NUMBER};RuleContext.prototype.setAltNumber=function(altNumber){};RuleContext.prototype.getChild=function(i){return null};RuleContext.prototype.getChildCount=function(){return 0};RuleContext.prototype.accept=function(visitor){return visitor.visitChildren(this)};exports.RuleContext=RuleContext;var Trees=require("./tree/Trees").Trees;RuleContext.prototype.toStringTree=function(ruleNames,recog){return Trees.toStringTree(this,ruleNames,recog)};RuleContext.prototype.toString=function(ruleNames,stop){ruleNames=ruleNames||null;stop=stop||null;var p=this;var s="[";while(p!==null&&p!==stop){if(ruleNames===null){if(!p.isEmpty()){s+=p.invokingState}}else{var ri=p.ruleIndex;var ruleName=ri>=0&&ri<ruleNames.length?ruleNames[ri]:""+ri;s+=ruleName}if(p.parentCtx!==null&&(ruleNames!==null||!p.parentCtx.isEmpty())){s+=" "}p=p.parentCtx}s+="]";return s}},{"./atn/ATN":22,"./tree/Tree":50,"./tree/Trees":51}],20:[function(require,module,exports){function Token(){this.source=null;this.type=null;this.channel=null;this.start=null;this.stop=null;this.tokenIndex=null;this.line=null;this.column=null;this._text=null;return this}Token.INVALID_TYPE=0;Token.EPSILON=-2;Token.MIN_USER_TOKEN_TYPE=1;Token.EOF=-1;Token.DEFAULT_CHANNEL=0;Token.HIDDEN_CHANNEL=1;Object.defineProperty(Token.prototype,"text",{get:function(){return this._text},set:function(text){this._text=text}});Token.prototype.getTokenSource=function(){return this.source[0]};Token.prototype.getInputStream=function(){return this.source[1]};function CommonToken(source,type,channel,start,stop){Token.call(this);this.source=source!==undefined?source:CommonToken.EMPTY_SOURCE;this.type=type!==undefined?type:null;this.channel=channel!==undefined?channel:Token.DEFAULT_CHANNEL;this.start=start!==undefined?start:-1;this.stop=stop!==undefined?stop:-1;this.tokenIndex=-1;if(this.source[0]!==null){this.line=source[0].line;this.column=source[0].column}else{this.column=-1}return this}CommonToken.prototype=Object.create(Token.prototype);CommonToken.prototype.constructor=CommonToken;CommonToken.EMPTY_SOURCE=[null,null];CommonToken.prototype.clone=function(){var t=new CommonToken(this.source,this.type,this.channel,this.start,this.stop);t.tokenIndex=this.tokenIndex;t.line=this.line;t.column=this.column;t.text=this.text;return t};Object.defineProperty(CommonToken.prototype,"text",{get:function(){if(this._text!==null){return this._text}var input=this.getInputStream();if(input===null){
return null}var n=input.size;if(this.start<n&&this.stop<n){return input.getText(this.start,this.stop)}else{return"<EOF>"}},set:function(text){this._text=text}});CommonToken.prototype.toString=function(){var txt=this.text;if(txt!==null){txt=txt.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")}else{txt="<no text>"}return"[@"+this.tokenIndex+","+this.start+":"+this.stop+"='"+txt+"',<"+this.type+">"+(this.channel>0?",channel="+this.channel:"")+","+this.line+":"+this.column+"]"};exports.Token=Token;exports.CommonToken=CommonToken},{}],21:[function(require,module,exports){function arrayToString(a){return"["+a.join(", ")+"]"}String.prototype.seed=String.prototype.seed||Math.round(Math.random()*Math.pow(2,32));String.prototype.hashCode=function(){var remainder,bytes,h1,h1b,c1,c1b,c2,c2b,k1,i,key=this.toString();remainder=key.length&3;bytes=key.length-remainder;h1=String.prototype.seed;c1=3432918353;c2=461845907;i=0;while(i<bytes){k1=key.charCodeAt(i)&255|(key.charCodeAt(++i)&255)<<8|(key.charCodeAt(++i)&255)<<16|(key.charCodeAt(++i)&255)<<24;++i;k1=(k1&65535)*c1+(((k1>>>16)*c1&65535)<<16)&4294967295;k1=k1<<15|k1>>>17;k1=(k1&65535)*c2+(((k1>>>16)*c2&65535)<<16)&4294967295;h1^=k1;h1=h1<<13|h1>>>19;h1b=(h1&65535)*5+(((h1>>>16)*5&65535)<<16)&4294967295;h1=(h1b&65535)+27492+(((h1b>>>16)+58964&65535)<<16)}k1=0;switch(remainder){case 3:k1^=(key.charCodeAt(i+2)&255)<<16;case 2:k1^=(key.charCodeAt(i+1)&255)<<8;case 1:k1^=key.charCodeAt(i)&255;k1=(k1&65535)*c1+(((k1>>>16)*c1&65535)<<16)&4294967295;k1=k1<<15|k1>>>17;k1=(k1&65535)*c2+(((k1>>>16)*c2&65535)<<16)&4294967295;h1^=k1}h1^=key.length;h1^=h1>>>16;h1=(h1&65535)*2246822507+(((h1>>>16)*2246822507&65535)<<16)&4294967295;h1^=h1>>>13;h1=(h1&65535)*3266489909+(((h1>>>16)*3266489909&65535)<<16)&4294967295;h1^=h1>>>16;return h1>>>0};function standardEqualsFunction(a,b){return a.equals(b)}function standardHashCodeFunction(a){return a.hashCode()}function Set(hashFunction,equalsFunction){this.data={};this.hashFunction=hashFunction||standardHashCodeFunction;this.equalsFunction=equalsFunction||standardEqualsFunction;return this}Object.defineProperty(Set.prototype,"length",{get:function(){var l=0;for(var key in this.data){if(key.indexOf("hash_")===0){l=l+this.data[key].length}}return l}});Set.prototype.add=function(value){var hash=this.hashFunction(value);var key="hash_"+hash;if(key in this.data){var values=this.data[key];for(var i=0;i<values.length;i++){if(this.equalsFunction(value,values[i])){return values[i]}}values.push(value);return value}else{this.data[key]=[value];return value}};Set.prototype.contains=function(value){return this.get(value)!=null};Set.prototype.get=function(value){var hash=this.hashFunction(value);var key="hash_"+hash;if(key in this.data){var values=this.data[key];for(var i=0;i<values.length;i++){if(this.equalsFunction(value,values[i])){return values[i]}}}return null};Set.prototype.values=function(){var l=[];for(var key in this.data){if(key.indexOf("hash_")===0){l=l.concat(this.data[key])}}return l};Set.prototype.toString=function(){return arrayToString(this.values())};function BitSet(){this.data=[];return this}BitSet.prototype.add=function(value){this.data[value]=true};BitSet.prototype.or=function(set){var bits=this;Object.keys(set.data).map(function(alt){bits.add(alt)})};BitSet.prototype.remove=function(value){delete this.data[value]};BitSet.prototype.contains=function(value){return this.data[value]===true};BitSet.prototype.values=function(){return Object.keys(this.data)};BitSet.prototype.minValue=function(){return Math.min.apply(null,this.values())};BitSet.prototype.hashCode=function(){var hash=new Hash;hash.update(this.values());return hash.finish()};BitSet.prototype.equals=function(other){if(!(other instanceof BitSet)){return false}return this.hashCode()===other.hashCode()};Object.defineProperty(BitSet.prototype,"length",{get:function(){return this.values().length}});BitSet.prototype.toString=function(){return"{"+this.values().join(", ")+"}"};function Map(hashFunction,equalsFunction){this.data={};this.hashFunction=hashFunction||standardHashCodeFunction;this.equalsFunction=equalsFunction||standardEqualsFunction;return this}Object.defineProperty(Map.prototype,"length",{get:function(){var l=0;for(var hashKey in this.data){if(hashKey.indexOf("hash_")===0){l=l+this.data[hashKey].length}}return l}});Map.prototype.put=function(key,value){var hashKey="hash_"+this.hashFunction(key);if(hashKey in this.data){var entries=this.data[hashKey];for(var i=0;i<entries.length;i++){var entry=entries[i];if(this.equalsFunction(key,entry.key)){var oldValue=entry.value;entry.value=value;return oldValue}}entries.push({key:key,value:value});return value}else{this.data[hashKey]=[{key:key,value:value}];return value}};Map.prototype.containsKey=function(key){var hashKey="hash_"+this.hashFunction(key);if(hashKey in this.data){var entries=this.data[hashKey];for(var i=0;i<entries.length;i++){var entry=entries[i];if(this.equalsFunction(key,entry.key))return true}}return false};Map.prototype.get=function(key){var hashKey="hash_"+this.hashFunction(key);if(hashKey in this.data){var entries=this.data[hashKey];for(var i=0;i<entries.length;i++){var entry=entries[i];if(this.equalsFunction(key,entry.key))return entry.value}}return null};Map.prototype.entries=function(){var l=[];for(var key in this.data){if(key.indexOf("hash_")===0){l=l.concat(this.data[key])}}return l};Map.prototype.getKeys=function(){return this.entries().map(function(e){return e.key})};Map.prototype.getValues=function(){return this.entries().map(function(e){return e.value})};Map.prototype.toString=function(){var ss=this.entries().map(function(entry){return"{"+entry.key+":"+entry.value+"}"});return"["+ss.join(", ")+"]"};function AltDict(){this.data={};return this}AltDict.prototype.get=function(key){key="k-"+key;if(key in this.data){return this.data[key]}else{return null}};AltDict.prototype.put=function(key,value){key="k-"+key;this.data[key]=value};AltDict.prototype.values=function(){var data=this.data;var keys=Object.keys(this.data);return keys.map(function(key){return data[key]})};function DoubleDict(){return this}function Hash(){this.count=0;this.hash=0;return this}Hash.prototype.update=function(){for(var i=0;i<arguments.length;i++){var value=arguments[i];if(value==null)continue;if(Array.isArray(value))this.update.apply(value);else{var k=0;switch(typeof value){case"undefined":case"function":continue;case"number":case"boolean":k=value;break;case"string":k=value.hashCode();break;default:value.updateHashCode(this);continue}k=k*3432918353;k=k<<15|k>>>32-15;k=k*461845907;this.count=this.count+1;var hash=this.hash^k;hash=hash<<13|hash>>>32-13;hash=hash*5+3864292196;this.hash=hash}}};Hash.prototype.finish=function(){var hash=this.hash^this.count*4;hash=hash^hash>>>16;hash=hash*2246822507;hash=hash^hash>>>13;hash=hash*3266489909;hash=hash^hash>>>16;return hash};function hashStuff(){var hash=new Hash;hash.update.apply(arguments);return hash.finish()}DoubleDict.prototype.get=function(a,b){var d=this[a]||null;return d===null?null:d[b]||null};DoubleDict.prototype.set=function(a,b,o){var d=this[a]||null;if(d===null){d={};this[a]=d}d[b]=o};function escapeWhitespace(s,escapeSpaces){s=s.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r");if(escapeSpaces){s=s.replace(/ /g,"·")}return s}function titleCase(str){return str.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1)})}function equalArrays(a,b){if(!Array.isArray(a)||!Array.isArray(b))return false;if(a==b)return true;if(a.length!=b.length)return false;for(var i=0;i<a.length;i++){if(a[i]==b[i])continue;if(!a[i].equals(b[i]))return false}return true}exports.Hash=Hash;exports.Set=Set;exports.Map=Map;exports.BitSet=BitSet;exports.AltDict=AltDict;exports.DoubleDict=DoubleDict;exports.hashStuff=hashStuff;exports.escapeWhitespace=escapeWhitespace;exports.arrayToString=arrayToString;exports.titleCase=titleCase;exports.equalArrays=equalArrays},{}],22:[function(require,module,exports){var LL1Analyzer=require("./../LL1Analyzer").LL1Analyzer;var IntervalSet=require("./../IntervalSet").IntervalSet;function ATN(grammarType,maxTokenType){this.grammarType=grammarType;this.maxTokenType=maxTokenType;this.states=[];this.decisionToState=[];this.ruleToStartState=[];this.ruleToStopState=null;this.modeNameToStartState={};this.ruleToTokenType=null;this.lexerActions=null;this.modeToStartState=[];return this}ATN.prototype.nextTokensInContext=function(s,ctx){var anal=new LL1Analyzer(this);return anal.LOOK(s,null,ctx)};ATN.prototype.nextTokensNoContext=function(s){if(s.nextTokenWithinRule!==null){return s.nextTokenWithinRule}s.nextTokenWithinRule=this.nextTokensInContext(s,null);s.nextTokenWithinRule.readOnly=true;return s.nextTokenWithinRule};ATN.prototype.nextTokens=function(s,ctx){if(ctx===undefined){return this.nextTokensNoContext(s)}else{return this.nextTokensInContext(s,ctx)}};ATN.prototype.addState=function(state){if(state!==null){state.atn=this;state.stateNumber=this.states.length}this.states.push(state)};ATN.prototype.removeState=function(state){this.states[state.stateNumber]=null};ATN.prototype.defineDecisionState=function(s){this.decisionToState.push(s);s.decision=this.decisionToState.length-1;return s.decision};ATN.prototype.getDecisionState=function(decision){if(this.decisionToState.length===0){return null}else{return this.decisionToState[decision]}};var Token=require("./../Token").Token;ATN.prototype.getExpectedTokens=function(stateNumber,ctx){if(stateNumber<0||stateNumber>=this.states.length){throw"Invalid state number."}var s=this.states[stateNumber];var following=this.nextTokens(s);if(!following.contains(Token.EPSILON)){return following}var expected=new IntervalSet;expected.addSet(following);expected.removeOne(Token.EPSILON);while(ctx!==null&&ctx.invokingState>=0&&following.contains(Token.EPSILON)){var invokingState=this.states[ctx.invokingState];var rt=invokingState.transitions[0];following=this.nextTokens(rt.followState);expected.addSet(following);expected.removeOne(Token.EPSILON);ctx=ctx.parentCtx}if(following.contains(Token.EPSILON)){expected.addOne(Token.EOF)}return expected};ATN.INVALID_ALT_NUMBER=0;exports.ATN=ATN},{"./../IntervalSet":12,"./../LL1Analyzer":13,"./../Token":20}],23:[function(require,module,exports){var DecisionState=require("./ATNState").DecisionState;var SemanticContext=require("./SemanticContext").SemanticContext;var Hash=require("../Utils").Hash;function checkParams(params,isCfg){if(params===null){var result={state:null,alt:null,context:null,semanticContext:null};if(isCfg){result.reachesIntoOuterContext=0}return result}else{var props={};props.state=params.state||null;props.alt=params.alt===undefined?null:params.alt;props.context=params.context||null;props.semanticContext=params.semanticContext||null;if(isCfg){props.reachesIntoOuterContext=params.reachesIntoOuterContext||0;props.precedenceFilterSuppressed=params.precedenceFilterSuppressed||false}return props}}function ATNConfig(params,config){this.checkContext(params,config);params=checkParams(params);config=checkParams(config,true);this.state=params.state!==null?params.state:config.state;this.alt=params.alt!==null?params.alt:config.alt;this.context=params.context!==null?params.context:config.context;this.semanticContext=params.semanticContext!==null?params.semanticContext:config.semanticContext!==null?config.semanticContext:SemanticContext.NONE;this.reachesIntoOuterContext=config.reachesIntoOuterContext;this.precedenceFilterSuppressed=config.precedenceFilterSuppressed;return this}ATNConfig.prototype.checkContext=function(params,config){if((params.context===null||params.context===undefined)&&(config===null||config.context===null||config.context===undefined)){this.context=null}};ATNConfig.prototype.hashCode=function(){var hash=new Hash;this.updateHashCode(hash);return hash.finish()};ATNConfig.prototype.updateHashCode=function(hash){hash.update(this.state.stateNumber,this.alt,this.context,this.semanticContext)};ATNConfig.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof ATNConfig)){return false}else{return this.state.stateNumber===other.state.stateNumber&&this.alt===other.alt&&(this.context===null?other.context===null:this.context.equals(other.context))&&this.semanticContext.equals(other.semanticContext)&&this.precedenceFilterSuppressed===other.precedenceFilterSuppressed}};ATNConfig.prototype.hashCodeForConfigSet=function(){var hash=new Hash;hash.update(this.state.stateNumber,this.alt,this.semanticContext);return hash.finish()};ATNConfig.prototype.equalsForConfigSet=function(other){if(this===other){return true}else if(!(other instanceof ATNConfig)){return false}else{return this.state.stateNumber===other.state.stateNumber&&this.alt===other.alt&&this.semanticContext.equals(other.semanticContext)}};ATNConfig.prototype.toString=function(){return"("+this.state+","+this.alt+(this.context!==null?",["+this.context.toString()+"]":"")+(this.semanticContext!==SemanticContext.NONE?","+this.semanticContext.toString():"")+(this.reachesIntoOuterContext>0?",up="+this.reachesIntoOuterContext:"")+")"};function LexerATNConfig(params,config){ATNConfig.call(this,params,config);var lexerActionExecutor=params.lexerActionExecutor||null;this.lexerActionExecutor=lexerActionExecutor||(config!==null?config.lexerActionExecutor:null);this.passedThroughNonGreedyDecision=config!==null?this.checkNonGreedyDecision(config,this.state):false;return this}LexerATNConfig.prototype=Object.create(ATNConfig.prototype);LexerATNConfig.prototype.constructor=LexerATNConfig;LexerATNConfig.prototype.updateHashCode=function(hash){hash.update(this.state.stateNumber,this.alt,this.context,this.semanticContext,this.passedThroughNonGreedyDecision,this.lexerActionExecutor)};LexerATNConfig.prototype.equals=function(other){return this===other||other instanceof LexerATNConfig&&this.passedThroughNonGreedyDecision==other.passedThroughNonGreedyDecision&&(this.lexerActionExecutor?this.lexerActionExecutor.equals(other.lexerActionExecutor):!other.lexerActionExecutor)&&ATNConfig.prototype.equals.call(this,other)};LexerATNConfig.prototype.hashCodeForConfigSet=LexerATNConfig.prototype.hashCode;LexerATNConfig.prototype.equalsForConfigSet=LexerATNConfig.prototype.equals;LexerATNConfig.prototype.checkNonGreedyDecision=function(source,target){return source.passedThroughNonGreedyDecision||target instanceof DecisionState&&target.nonGreedy};exports.ATNConfig=ATNConfig;exports.LexerATNConfig=LexerATNConfig},{"../Utils":21,"./ATNState":28,"./SemanticContext":35}],24:[function(require,module,exports){var ATN=require("./ATN").ATN;var Utils=require("./../Utils");var Hash=Utils.Hash;var Set=Utils.Set;var SemanticContext=require("./SemanticContext").SemanticContext;var merge=require("./../PredictionContext").merge;function hashATNConfig(c){return c.hashCodeForConfigSet()}function equalATNConfigs(a,b){if(a===b){return true}else if(a===null||b===null){return false}else return a.equalsForConfigSet(b)}function ATNConfigSet(fullCtx){this.configLookup=new Set(hashATNConfig,equalATNConfigs);this.fullCtx=fullCtx===undefined?true:fullCtx;this.readOnly=false;this.configs=[];this.uniqueAlt=0;this.conflictingAlts=null;this.hasSemanticContext=false;this.dipsIntoOuterContext=false;this.cachedHashCode=-1;return this}ATNConfigSet.prototype.add=function(config,mergeCache){if(mergeCache===undefined){mergeCache=null}if(this.readOnly){throw"This set is readonly"}if(config.semanticContext!==SemanticContext.NONE){this.hasSemanticContext=true}if(config.reachesIntoOuterContext>0){this.dipsIntoOuterContext=true}var existing=this.configLookup.add(config);if(existing===config){this.cachedHashCode=-1;this.configs.push(config);return true}var rootIsWildcard=!this.fullCtx;var merged=merge(existing.context,config.context,rootIsWildcard,mergeCache);existing.reachesIntoOuterContext=Math.max(existing.reachesIntoOuterContext,config.reachesIntoOuterContext);if(config.precedenceFilterSuppressed){existing.precedenceFilterSuppressed=true}existing.context=merged;return true};ATNConfigSet.prototype.getStates=function(){var states=new Set;for(var i=0;i<this.configs.length;i++){states.add(this.configs[i].state)}return states};ATNConfigSet.prototype.getPredicates=function(){var preds=[];for(var i=0;i<this.configs.length;i++){var c=this.configs[i].semanticContext;if(c!==SemanticContext.NONE){preds.push(c.semanticContext)}}return preds};Object.defineProperty(ATNConfigSet.prototype,"items",{get:function(){return this.configs}});ATNConfigSet.prototype.optimizeConfigs=function(interpreter){if(this.readOnly){throw"This set is readonly"}if(this.configLookup.length===0){return}for(var i=0;i<this.configs.length;i++){var config=this.configs[i];config.context=interpreter.getCachedContext(config.context)}};ATNConfigSet.prototype.addAll=function(coll){for(var i=0;i<coll.length;i++){this.add(coll[i])}return false};ATNConfigSet.prototype.equals=function(other){return this===other||other instanceof ATNConfigSet&&Utils.equalArrays(this.configs,other.configs)&&this.fullCtx===other.fullCtx&&this.uniqueAlt===other.uniqueAlt&&this.conflictingAlts===other.conflictingAlts&&this.hasSemanticContext===other.hasSemanticContext&&this.dipsIntoOuterContext===other.dipsIntoOuterContext};ATNConfigSet.prototype.hashCode=function(){var hash=new Hash;this.updateHashCode(hash);return hash.finish()};ATNConfigSet.prototype.updateHashCode=function(hash){if(this.readOnly){if(this.cachedHashCode===-1){var hash=new Hash;hash.update(this.configs);this.cachedHashCode=hash.finish()}hash.update(this.cachedHashCode)}else{hash.update(this.configs)}};Object.defineProperty(ATNConfigSet.prototype,"length",{get:function(){return this.configs.length}});ATNConfigSet.prototype.isEmpty=function(){return this.configs.length===0};ATNConfigSet.prototype.contains=function(item){if(this.configLookup===null){throw"This method is not implemented for readonly sets."}return this.configLookup.contains(item)};ATNConfigSet.prototype.containsFast=function(item){if(this.configLookup===null){throw"This method is not implemented for readonly sets."}return this.configLookup.containsFast(item)};ATNConfigSet.prototype.clear=function(){if(this.readOnly){throw"This set is readonly"}this.configs=[];this.cachedHashCode=-1;this.configLookup=new Set};ATNConfigSet.prototype.setReadonly=function(readOnly){this.readOnly=readOnly;if(readOnly){this.configLookup=null}};ATNConfigSet.prototype.toString=function(){return Utils.arrayToString(this.configs)+(this.hasSemanticContext?",hasSemanticContext="+this.hasSemanticContext:"")+(this.uniqueAlt!==ATN.INVALID_ALT_NUMBER?",uniqueAlt="+this.uniqueAlt:"")+(this.conflictingAlts!==null?",conflictingAlts="+this.conflictingAlts:"")+(this.dipsIntoOuterContext?",dipsIntoOuterContext":"")};function OrderedATNConfigSet(){ATNConfigSet.call(this);this.configLookup=new Set;return this}OrderedATNConfigSet.prototype=Object.create(ATNConfigSet.prototype);OrderedATNConfigSet.prototype.constructor=OrderedATNConfigSet;exports.ATNConfigSet=ATNConfigSet;exports.OrderedATNConfigSet=OrderedATNConfigSet},{"./../PredictionContext":17,"./../Utils":21,"./ATN":22,"./SemanticContext":35}],25:[function(require,module,exports){function ATNDeserializationOptions(copyFrom){if(copyFrom===undefined){copyFrom=null}this.readOnly=false;this.verifyATN=copyFrom===null?true:copyFrom.verifyATN;this.generateRuleBypassTransitions=copyFrom===null?false:copyFrom.generateRuleBypassTransitions;return this}ATNDeserializationOptions.defaultOptions=new ATNDeserializationOptions;ATNDeserializationOptions.defaultOptions.readOnly=true;exports.ATNDeserializationOptions=ATNDeserializationOptions},{}],26:[function(require,module,exports){var Token=require("./../Token").Token;var ATN=require("./ATN").ATN;var ATNType=require("./ATNType").ATNType;var ATNStates=require("./ATNState");var ATNState=ATNStates.ATNState;var BasicState=ATNStates.BasicState;var DecisionState=ATNStates.DecisionState;var BlockStartState=ATNStates.BlockStartState;var BlockEndState=ATNStates.BlockEndState;var LoopEndState=ATNStates.LoopEndState;var RuleStartState=ATNStates.RuleStartState;var RuleStopState=ATNStates.RuleStopState;var TokensStartState=ATNStates.TokensStartState;var PlusLoopbackState=ATNStates.PlusLoopbackState;var StarLoopbackState=ATNStates.StarLoopbackState;var StarLoopEntryState=ATNStates.StarLoopEntryState;var PlusBlockStartState=ATNStates.PlusBlockStartState;var StarBlockStartState=ATNStates.StarBlockStartState;var BasicBlockStartState=ATNStates.BasicBlockStartState;var Transitions=require("./Transition");var Transition=Transitions.Transition;var AtomTransition=Transitions.AtomTransition;var SetTransition=Transitions.SetTransition;var NotSetTransition=Transitions.NotSetTransition;var RuleTransition=Transitions.RuleTransition;var RangeTransition=Transitions.RangeTransition;var ActionTransition=Transitions.ActionTransition;var EpsilonTransition=Transitions.EpsilonTransition;var WildcardTransition=Transitions.WildcardTransition;var PredicateTransition=Transitions.PredicateTransition;var PrecedencePredicateTransition=Transitions.PrecedencePredicateTransition;var IntervalSet=require("./../IntervalSet").IntervalSet;var Interval=require("./../IntervalSet").Interval;var ATNDeserializationOptions=require("./ATNDeserializationOptions").ATNDeserializationOptions;var LexerActions=require("./LexerAction");var LexerActionType=LexerActions.LexerActionType;var LexerSkipAction=LexerActions.LexerSkipAction;var LexerChannelAction=LexerActions.LexerChannelAction;var LexerCustomAction=LexerActions.LexerCustomAction;var LexerMoreAction=LexerActions.LexerMoreAction;var LexerTypeAction=LexerActions.LexerTypeAction;var LexerPushModeAction=LexerActions.LexerPushModeAction;var LexerPopModeAction=LexerActions.LexerPopModeAction;var LexerModeAction=LexerActions.LexerModeAction;var BASE_SERIALIZED_UUID="AADB8D7E-AEEF-4415-AD2B-8204D6CF042E";var ADDED_UNICODE_SMP="59627784-3BE5-417A-B9EB-8131A7286089";var SUPPORTED_UUIDS=[BASE_SERIALIZED_UUID,ADDED_UNICODE_SMP];var SERIALIZED_VERSION=3;var SERIALIZED_UUID=ADDED_UNICODE_SMP;function initArray(length,value){var tmp=[];tmp[length-1]=value;return tmp.map(function(i){return value})}function ATNDeserializer(options){if(options===undefined||options===null){options=ATNDeserializationOptions.defaultOptions}this.deserializationOptions=options;this.stateFactories=null;this.actionFactories=null;return this}ATNDeserializer.prototype.isFeatureSupported=function(feature,actualUuid){var idx1=SUPPORTED_UUIDS.indexOf(feature);if(idx1<0){return false}var idx2=SUPPORTED_UUIDS.indexOf(actualUuid);return idx2>=idx1};ATNDeserializer.prototype.deserialize=function(data){this.reset(data);this.checkVersion();this.checkUUID();var atn=this.readATN();this.readStates(atn);this.readRules(atn);this.readModes(atn);var sets=[];this.readSets(atn,sets,this.readInt.bind(this));if(this.isFeatureSupported(ADDED_UNICODE_SMP,this.uuid)){this.readSets(atn,sets,this.readInt32.bind(this))}this.readEdges(atn,sets);this.readDecisions(atn);this.readLexerActions(atn);this.markPrecedenceDecisions(atn);this.verifyATN(atn);if(this.deserializationOptions.generateRuleBypassTransitions&&atn.grammarType===ATNType.PARSER){this.generateRuleBypassTransitions(atn);this.verifyATN(atn)}return atn};ATNDeserializer.prototype.reset=function(data){var adjust=function(c){var v=c.charCodeAt(0);return v>1?v-2:v+65533};var temp=data.split("").map(adjust);temp[0]=data.charCodeAt(0);this.data=temp;this.pos=0};ATNDeserializer.prototype.checkVersion=function(){var version=this.readInt();if(version!==SERIALIZED_VERSION){throw"Could not deserialize ATN with version "+version+" (expected "+SERIALIZED_VERSION+")."}};ATNDeserializer.prototype.checkUUID=function(){var uuid=this.readUUID();if(SUPPORTED_UUIDS.indexOf(uuid)<0){throw"Could not deserialize ATN with UUID: "+uuid+" (expected "+SERIALIZED_UUID+" or a legacy UUID).",uuid,SERIALIZED_UUID}this.uuid=uuid};ATNDeserializer.prototype.readATN=function(){var grammarType=this.readInt();var maxTokenType=this.readInt();return new ATN(grammarType,maxTokenType)};ATNDeserializer.prototype.readStates=function(atn){var j,pair,stateNumber;var loopBackStateNumbers=[];var endStateNumbers=[];var nstates=this.readInt();for(var i=0;i<nstates;i++){var stype=this.readInt();if(stype===ATNState.INVALID_TYPE){atn.addState(null);continue}var ruleIndex=this.readInt();if(ruleIndex===65535){ruleIndex=-1}var s=this.stateFactory(stype,ruleIndex);if(stype===ATNState.LOOP_END){var loopBackStateNumber=this.readInt();loopBackStateNumbers.push([s,loopBackStateNumber])}else if(s instanceof BlockStartState){var endStateNumber=this.readInt();endStateNumbers.push([s,endStateNumber])}atn.addState(s)}for(j=0;j<loopBackStateNumbers.length;j++){pair=loopBackStateNumbers[j];pair[0].loopBackState=atn.states[pair[1]]}for(j=0;j<endStateNumbers.length;j++){pair=endStateNumbers[j];pair[0].endState=atn.states[pair[1]]}var numNonGreedyStates=this.readInt();for(j=0;j<numNonGreedyStates;j++){stateNumber=this.readInt();atn.states[stateNumber].nonGreedy=true}var numPrecedenceStates=this.readInt();for(j=0;j<numPrecedenceStates;j++){stateNumber=this.readInt();atn.states[stateNumber].isPrecedenceRule=true}};ATNDeserializer.prototype.readRules=function(atn){var i;var nrules=this.readInt();if(atn.grammarType===ATNType.LEXER){atn.ruleToTokenType=initArray(nrules,0)}atn.ruleToStartState=initArray(nrules,0);for(i=0;i<nrules;i++){var s=this.readInt();var startState=atn.states[s];atn.ruleToStartState[i]=startState;if(atn.grammarType===ATNType.LEXER){var tokenType=this.readInt();if(tokenType===65535){tokenType=Token.EOF}atn.ruleToTokenType[i]=tokenType}}atn.ruleToStopState=initArray(nrules,0);for(i=0;i<atn.states.length;i++){var state=atn.states[i];if(!(state instanceof RuleStopState)){continue}atn.ruleToStopState[state.ruleIndex]=state;atn.ruleToStartState[state.ruleIndex].stopState=state}};ATNDeserializer.prototype.readModes=function(atn){var nmodes=this.readInt();for(var i=0;i<nmodes;i++){var s=this.readInt();atn.modeToStartState.push(atn.states[s])}};ATNDeserializer.prototype.readSets=function(atn,sets,readUnicode){var m=this.readInt();for(var i=0;i<m;i++){var iset=new IntervalSet;sets.push(iset);var n=this.readInt();var containsEof=this.readInt();if(containsEof!==0){iset.addOne(-1)}for(var j=0;j<n;j++){var i1=readUnicode();var i2=readUnicode();iset.addRange(i1,i2)}}};ATNDeserializer.prototype.readEdges=function(atn,sets){var i,j,state,trans,target;var nedges=this.readInt();for(i=0;i<nedges;i++){var src=this.readInt();var trg=this.readInt();var ttype=this.readInt();var arg1=this.readInt();var arg2=this.readInt();var arg3=this.readInt();trans=this.edgeFactory(atn,ttype,src,trg,arg1,arg2,arg3,sets);var srcState=atn.states[src];srcState.addTransition(trans)}for(i=0;i<atn.states.length;i++){state=atn.states[i];for(j=0;j<state.transitions.length;j++){var t=state.transitions[j];if(!(t instanceof RuleTransition)){continue}var outermostPrecedenceReturn=-1;if(atn.ruleToStartState[t.target.ruleIndex].isPrecedenceRule){if(t.precedence===0){outermostPrecedenceReturn=t.target.ruleIndex}}trans=new EpsilonTransition(t.followState,outermostPrecedenceReturn);atn.ruleToStopState[t.target.ruleIndex].addTransition(trans)}}for(i=0;i<atn.states.length;i++){state=atn.states[i];if(state instanceof BlockStartState){if(state.endState===null){throw"IllegalState"}if(state.endState.startState!==null){throw"IllegalState"}state.endState.startState=state}if(state instanceof PlusLoopbackState){for(j=0;j<state.transitions.length;j++){target=state.transitions[j].target;if(target instanceof PlusBlockStartState){target.loopBackState=state}}}else if(state instanceof StarLoopbackState){for(j=0;j<state.transitions.length;j++){target=state.transitions[j].target;if(target instanceof StarLoopEntryState){target.loopBackState=state}}}}};ATNDeserializer.prototype.readDecisions=function(atn){var ndecisions=this.readInt();for(var i=0;i<ndecisions;i++){var s=this.readInt();var decState=atn.states[s];atn.decisionToState.push(decState);decState.decision=i}};ATNDeserializer.prototype.readLexerActions=function(atn){if(atn.grammarType===ATNType.LEXER){var count=this.readInt();atn.lexerActions=initArray(count,null);for(var i=0;i<count;i++){var actionType=this.readInt();var data1=this.readInt();if(data1===65535){data1=-1}var data2=this.readInt();if(data2===65535){data2=-1}var lexerAction=this.lexerActionFactory(actionType,data1,data2);atn.lexerActions[i]=lexerAction}}};ATNDeserializer.prototype.generateRuleBypassTransitions=function(atn){var i;var count=atn.ruleToStartState.length;for(i=0;i<count;i++){atn.ruleToTokenType[i]=atn.maxTokenType+i+1}for(i=0;i<count;i++){this.generateRuleBypassTransition(atn,i)}};ATNDeserializer.prototype.generateRuleBypassTransition=function(atn,idx){var i,state;var bypassStart=new BasicBlockStartState;bypassStart.ruleIndex=idx;atn.addState(bypassStart);var bypassStop=new BlockEndState;bypassStop.ruleIndex=idx;atn.addState(bypassStop);bypassStart.endState=bypassStop;atn.defineDecisionState(bypassStart);bypassStop.startState=bypassStart;var excludeTransition=null;var endState=null;if(atn.ruleToStartState[idx].isPrecedenceRule){endState=null;for(i=0;i<atn.states.length;i++){state=atn.states[i];if(this.stateIsEndStateFor(state,idx)){endState=state;excludeTransition=state.loopBackState.transitions[0];break}}if(excludeTransition===null){throw"Couldn't identify final state of the precedence rule prefix section."}}else{endState=atn.ruleToStopState[idx]}for(i=0;i<atn.states.length;i++){state=atn.states[i];for(var j=0;j<state.transitions.length;j++){var transition=state.transitions[j];if(transition===excludeTransition){continue}if(transition.target===endState){transition.target=bypassStop}}}var ruleToStartState=atn.ruleToStartState[idx];var count=ruleToStartState.transitions.length;while(count>0){bypassStart.addTransition(ruleToStartState.transitions[count-1]);ruleToStartState.transitions=ruleToStartState.transitions.slice(-1)}atn.ruleToStartState[idx].addTransition(new EpsilonTransition(bypassStart));bypassStop.addTransition(new EpsilonTransition(endState));var matchState=new BasicState;atn.addState(matchState);matchState.addTransition(new AtomTransition(bypassStop,atn.ruleToTokenType[idx]));bypassStart.addTransition(new EpsilonTransition(matchState))};ATNDeserializer.prototype.stateIsEndStateFor=function(state,idx){if(state.ruleIndex!==idx){return null}if(!(state instanceof StarLoopEntryState)){return null}var maybeLoopEndState=state.transitions[state.transitions.length-1].target;if(!(maybeLoopEndState instanceof LoopEndState)){return null}if(maybeLoopEndState.epsilonOnlyTransitions&&maybeLoopEndState.transitions[0].target instanceof RuleStopState){return state}else{return null}};ATNDeserializer.prototype.markPrecedenceDecisions=function(atn){for(var i=0;i<atn.states.length;i++){var state=atn.states[i];if(!(state instanceof StarLoopEntryState)){continue}if(atn.ruleToStartState[state.ruleIndex].isPrecedenceRule){var maybeLoopEndState=state.transitions[state.transitions.length-1].target;if(maybeLoopEndState instanceof LoopEndState){if(maybeLoopEndState.epsilonOnlyTransitions&&maybeLoopEndState.transitions[0].target instanceof RuleStopState){state.isPrecedenceDecision=true}}}}};ATNDeserializer.prototype.verifyATN=function(atn){if(!this.deserializationOptions.verifyATN){return}for(var i=0;i<atn.states.length;i++){var state=atn.states[i];if(state===null){continue}this.checkCondition(state.epsilonOnlyTransitions||state.transitions.length<=1);if(state instanceof PlusBlockStartState){this.checkCondition(state.loopBackState!==null)}else if(state instanceof StarLoopEntryState){this.checkCondition(state.loopBackState!==null);this.checkCondition(state.transitions.length===2);if(state.transitions[0].target instanceof StarBlockStartState){this.checkCondition(state.transitions[1].target instanceof LoopEndState);this.checkCondition(!state.nonGreedy)}else if(state.transitions[0].target instanceof LoopEndState){
this.checkCondition(state.transitions[1].target instanceof StarBlockStartState);this.checkCondition(state.nonGreedy)}else{throw"IllegalState"}}else if(state instanceof StarLoopbackState){this.checkCondition(state.transitions.length===1);this.checkCondition(state.transitions[0].target instanceof StarLoopEntryState)}else if(state instanceof LoopEndState){this.checkCondition(state.loopBackState!==null)}else if(state instanceof RuleStartState){this.checkCondition(state.stopState!==null)}else if(state instanceof BlockStartState){this.checkCondition(state.endState!==null)}else if(state instanceof BlockEndState){this.checkCondition(state.startState!==null)}else if(state instanceof DecisionState){this.checkCondition(state.transitions.length<=1||state.decision>=0)}else{this.checkCondition(state.transitions.length<=1||state instanceof RuleStopState)}}};ATNDeserializer.prototype.checkCondition=function(condition,message){if(!condition){if(message===undefined||message===null){message="IllegalState"}throw message}};ATNDeserializer.prototype.readInt=function(){return this.data[this.pos++]};ATNDeserializer.prototype.readInt32=function(){var low=this.readInt();var high=this.readInt();return low|high<<16};ATNDeserializer.prototype.readLong=function(){var low=this.readInt32();var high=this.readInt32();return low&4294967295|high<<32};function createByteToHex(){var bth=[];for(var i=0;i<256;i++){bth[i]=(i+256).toString(16).substr(1).toUpperCase()}return bth}var byteToHex=createByteToHex();ATNDeserializer.prototype.readUUID=function(){var bb=[];for(var i=7;i>=0;i--){var int=this.readInt();bb[2*i+1]=int&255;bb[2*i]=int>>8&255}return byteToHex[bb[0]]+byteToHex[bb[1]]+byteToHex[bb[2]]+byteToHex[bb[3]]+"-"+byteToHex[bb[4]]+byteToHex[bb[5]]+"-"+byteToHex[bb[6]]+byteToHex[bb[7]]+"-"+byteToHex[bb[8]]+byteToHex[bb[9]]+"-"+byteToHex[bb[10]]+byteToHex[bb[11]]+byteToHex[bb[12]]+byteToHex[bb[13]]+byteToHex[bb[14]]+byteToHex[bb[15]]};ATNDeserializer.prototype.edgeFactory=function(atn,type,src,trg,arg1,arg2,arg3,sets){var target=atn.states[trg];switch(type){case Transition.EPSILON:return new EpsilonTransition(target);case Transition.RANGE:return arg3!==0?new RangeTransition(target,Token.EOF,arg2):new RangeTransition(target,arg1,arg2);case Transition.RULE:return new RuleTransition(atn.states[arg1],arg2,arg3,target);case Transition.PREDICATE:return new PredicateTransition(target,arg1,arg2,arg3!==0);case Transition.PRECEDENCE:return new PrecedencePredicateTransition(target,arg1);case Transition.ATOM:return arg3!==0?new AtomTransition(target,Token.EOF):new AtomTransition(target,arg1);case Transition.ACTION:return new ActionTransition(target,arg1,arg2,arg3!==0);case Transition.SET:return new SetTransition(target,sets[arg1]);case Transition.NOT_SET:return new NotSetTransition(target,sets[arg1]);case Transition.WILDCARD:return new WildcardTransition(target);default:throw"The specified transition type: "+type+" is not valid."}};ATNDeserializer.prototype.stateFactory=function(type,ruleIndex){if(this.stateFactories===null){var sf=[];sf[ATNState.INVALID_TYPE]=null;sf[ATNState.BASIC]=function(){return new BasicState};sf[ATNState.RULE_START]=function(){return new RuleStartState};sf[ATNState.BLOCK_START]=function(){return new BasicBlockStartState};sf[ATNState.PLUS_BLOCK_START]=function(){return new PlusBlockStartState};sf[ATNState.STAR_BLOCK_START]=function(){return new StarBlockStartState};sf[ATNState.TOKEN_START]=function(){return new TokensStartState};sf[ATNState.RULE_STOP]=function(){return new RuleStopState};sf[ATNState.BLOCK_END]=function(){return new BlockEndState};sf[ATNState.STAR_LOOP_BACK]=function(){return new StarLoopbackState};sf[ATNState.STAR_LOOP_ENTRY]=function(){return new StarLoopEntryState};sf[ATNState.PLUS_LOOP_BACK]=function(){return new PlusLoopbackState};sf[ATNState.LOOP_END]=function(){return new LoopEndState};this.stateFactories=sf}if(type>this.stateFactories.length||this.stateFactories[type]===null){throw"The specified state type "+type+" is not valid."}else{var s=this.stateFactories[type]();if(s!==null){s.ruleIndex=ruleIndex;return s}}};ATNDeserializer.prototype.lexerActionFactory=function(type,data1,data2){if(this.actionFactories===null){var af=[];af[LexerActionType.CHANNEL]=function(data1,data2){return new LexerChannelAction(data1)};af[LexerActionType.CUSTOM]=function(data1,data2){return new LexerCustomAction(data1,data2)};af[LexerActionType.MODE]=function(data1,data2){return new LexerModeAction(data1)};af[LexerActionType.MORE]=function(data1,data2){return LexerMoreAction.INSTANCE};af[LexerActionType.POP_MODE]=function(data1,data2){return LexerPopModeAction.INSTANCE};af[LexerActionType.PUSH_MODE]=function(data1,data2){return new LexerPushModeAction(data1)};af[LexerActionType.SKIP]=function(data1,data2){return LexerSkipAction.INSTANCE};af[LexerActionType.TYPE]=function(data1,data2){return new LexerTypeAction(data1)};this.actionFactories=af}if(type>this.actionFactories.length||this.actionFactories[type]===null){throw"The specified lexer action type "+type+" is not valid."}else{return this.actionFactories[type](data1,data2)}};exports.ATNDeserializer=ATNDeserializer},{"./../IntervalSet":12,"./../Token":20,"./ATN":22,"./ATNDeserializationOptions":25,"./ATNState":28,"./ATNType":29,"./LexerAction":31,"./Transition":36}],27:[function(require,module,exports){var DFAState=require("./../dfa/DFAState").DFAState;var ATNConfigSet=require("./ATNConfigSet").ATNConfigSet;var getCachedPredictionContext=require("./../PredictionContext").getCachedPredictionContext;function ATNSimulator(atn,sharedContextCache){this.atn=atn;this.sharedContextCache=sharedContextCache;return this}ATNSimulator.ERROR=new DFAState(2147483647,new ATNConfigSet);ATNSimulator.prototype.getCachedContext=function(context){if(this.sharedContextCache===null){return context}var visited={};return getCachedPredictionContext(context,this.sharedContextCache,visited)};exports.ATNSimulator=ATNSimulator},{"./../PredictionContext":17,"./../dfa/DFAState":40,"./ATNConfigSet":24}],28:[function(require,module,exports){var INITIAL_NUM_TRANSITIONS=4;function ATNState(){this.atn=null;this.stateNumber=ATNState.INVALID_STATE_NUMBER;this.stateType=null;this.ruleIndex=0;this.epsilonOnlyTransitions=false;this.transitions=[];this.nextTokenWithinRule=null;return this}ATNState.INVALID_TYPE=0;ATNState.BASIC=1;ATNState.RULE_START=2;ATNState.BLOCK_START=3;ATNState.PLUS_BLOCK_START=4;ATNState.STAR_BLOCK_START=5;ATNState.TOKEN_START=6;ATNState.RULE_STOP=7;ATNState.BLOCK_END=8;ATNState.STAR_LOOP_BACK=9;ATNState.STAR_LOOP_ENTRY=10;ATNState.PLUS_LOOP_BACK=11;ATNState.LOOP_END=12;ATNState.serializationNames=["INVALID","BASIC","RULE_START","BLOCK_START","PLUS_BLOCK_START","STAR_BLOCK_START","TOKEN_START","RULE_STOP","BLOCK_END","STAR_LOOP_BACK","STAR_LOOP_ENTRY","PLUS_LOOP_BACK","LOOP_END"];ATNState.INVALID_STATE_NUMBER=-1;ATNState.prototype.toString=function(){return this.stateNumber};ATNState.prototype.equals=function(other){if(other instanceof ATNState){return this.stateNumber===other.stateNumber}else{return false}};ATNState.prototype.isNonGreedyExitState=function(){return false};ATNState.prototype.addTransition=function(trans,index){if(index===undefined){index=-1}if(this.transitions.length===0){this.epsilonOnlyTransitions=trans.isEpsilon}else if(this.epsilonOnlyTransitions!==trans.isEpsilon){this.epsilonOnlyTransitions=false}if(index===-1){this.transitions.push(trans)}else{this.transitions.splice(index,1,trans)}};function BasicState(){ATNState.call(this);this.stateType=ATNState.BASIC;return this}BasicState.prototype=Object.create(ATNState.prototype);BasicState.prototype.constructor=BasicState;function DecisionState(){ATNState.call(this);this.decision=-1;this.nonGreedy=false;return this}DecisionState.prototype=Object.create(ATNState.prototype);DecisionState.prototype.constructor=DecisionState;function BlockStartState(){DecisionState.call(this);this.endState=null;return this}BlockStartState.prototype=Object.create(DecisionState.prototype);BlockStartState.prototype.constructor=BlockStartState;function BasicBlockStartState(){BlockStartState.call(this);this.stateType=ATNState.BLOCK_START;return this}BasicBlockStartState.prototype=Object.create(BlockStartState.prototype);BasicBlockStartState.prototype.constructor=BasicBlockStartState;function BlockEndState(){ATNState.call(this);this.stateType=ATNState.BLOCK_END;this.startState=null;return this}BlockEndState.prototype=Object.create(ATNState.prototype);BlockEndState.prototype.constructor=BlockEndState;function RuleStopState(){ATNState.call(this);this.stateType=ATNState.RULE_STOP;return this}RuleStopState.prototype=Object.create(ATNState.prototype);RuleStopState.prototype.constructor=RuleStopState;function RuleStartState(){ATNState.call(this);this.stateType=ATNState.RULE_START;this.stopState=null;this.isPrecedenceRule=false;return this}RuleStartState.prototype=Object.create(ATNState.prototype);RuleStartState.prototype.constructor=RuleStartState;function PlusLoopbackState(){DecisionState.call(this);this.stateType=ATNState.PLUS_LOOP_BACK;return this}PlusLoopbackState.prototype=Object.create(DecisionState.prototype);PlusLoopbackState.prototype.constructor=PlusLoopbackState;function PlusBlockStartState(){BlockStartState.call(this);this.stateType=ATNState.PLUS_BLOCK_START;this.loopBackState=null;return this}PlusBlockStartState.prototype=Object.create(BlockStartState.prototype);PlusBlockStartState.prototype.constructor=PlusBlockStartState;function StarBlockStartState(){BlockStartState.call(this);this.stateType=ATNState.STAR_BLOCK_START;return this}StarBlockStartState.prototype=Object.create(BlockStartState.prototype);StarBlockStartState.prototype.constructor=StarBlockStartState;function StarLoopbackState(){ATNState.call(this);this.stateType=ATNState.STAR_LOOP_BACK;return this}StarLoopbackState.prototype=Object.create(ATNState.prototype);StarLoopbackState.prototype.constructor=StarLoopbackState;function StarLoopEntryState(){DecisionState.call(this);this.stateType=ATNState.STAR_LOOP_ENTRY;this.loopBackState=null;this.isPrecedenceDecision=null;return this}StarLoopEntryState.prototype=Object.create(DecisionState.prototype);StarLoopEntryState.prototype.constructor=StarLoopEntryState;function LoopEndState(){ATNState.call(this);this.stateType=ATNState.LOOP_END;this.loopBackState=null;return this}LoopEndState.prototype=Object.create(ATNState.prototype);LoopEndState.prototype.constructor=LoopEndState;function TokensStartState(){DecisionState.call(this);this.stateType=ATNState.TOKEN_START;return this}TokensStartState.prototype=Object.create(DecisionState.prototype);TokensStartState.prototype.constructor=TokensStartState;exports.ATNState=ATNState;exports.BasicState=BasicState;exports.DecisionState=DecisionState;exports.BlockStartState=BlockStartState;exports.BlockEndState=BlockEndState;exports.LoopEndState=LoopEndState;exports.RuleStartState=RuleStartState;exports.RuleStopState=RuleStopState;exports.TokensStartState=TokensStartState;exports.PlusLoopbackState=PlusLoopbackState;exports.StarLoopbackState=StarLoopbackState;exports.StarLoopEntryState=StarLoopEntryState;exports.PlusBlockStartState=PlusBlockStartState;exports.StarBlockStartState=StarBlockStartState;exports.BasicBlockStartState=BasicBlockStartState},{}],29:[function(require,module,exports){function ATNType(){}ATNType.LEXER=0;ATNType.PARSER=1;exports.ATNType=ATNType},{}],30:[function(require,module,exports){var Token=require("./../Token").Token;var Lexer=require("./../Lexer").Lexer;var ATN=require("./ATN").ATN;var ATNSimulator=require("./ATNSimulator").ATNSimulator;var DFAState=require("./../dfa/DFAState").DFAState;var ATNConfigSet=require("./ATNConfigSet").ATNConfigSet;var OrderedATNConfigSet=require("./ATNConfigSet").OrderedATNConfigSet;var PredictionContext=require("./../PredictionContext").PredictionContext;var SingletonPredictionContext=require("./../PredictionContext").SingletonPredictionContext;var RuleStopState=require("./ATNState").RuleStopState;var LexerATNConfig=require("./ATNConfig").LexerATNConfig;var Transition=require("./Transition").Transition;var LexerActionExecutor=require("./LexerActionExecutor").LexerActionExecutor;var LexerNoViableAltException=require("./../error/Errors").LexerNoViableAltException;function resetSimState(sim){sim.index=-1;sim.line=0;sim.column=-1;sim.dfaState=null}function SimState(){resetSimState(this);return this}SimState.prototype.reset=function(){resetSimState(this)};function LexerATNSimulator(recog,atn,decisionToDFA,sharedContextCache){ATNSimulator.call(this,atn,sharedContextCache);this.decisionToDFA=decisionToDFA;this.recog=recog;this.startIndex=-1;this.line=1;this.column=0;this.mode=Lexer.DEFAULT_MODE;this.prevAccept=new SimState;return this}LexerATNSimulator.prototype=Object.create(ATNSimulator.prototype);LexerATNSimulator.prototype.constructor=LexerATNSimulator;LexerATNSimulator.debug=false;LexerATNSimulator.dfa_debug=false;LexerATNSimulator.MIN_DFA_EDGE=0;LexerATNSimulator.MAX_DFA_EDGE=127;LexerATNSimulator.match_calls=0;LexerATNSimulator.prototype.copyState=function(simulator){this.column=simulator.column;this.line=simulator.line;this.mode=simulator.mode;this.startIndex=simulator.startIndex};LexerATNSimulator.prototype.match=function(input,mode){this.match_calls+=1;this.mode=mode;var mark=input.mark();try{this.startIndex=input.index;this.prevAccept.reset();var dfa=this.decisionToDFA[mode];if(dfa.s0===null){return this.matchATN(input)}else{return this.execATN(input,dfa.s0)}}finally{input.release(mark)}};LexerATNSimulator.prototype.reset=function(){this.prevAccept.reset();this.startIndex=-1;this.line=1;this.column=0;this.mode=Lexer.DEFAULT_MODE};LexerATNSimulator.prototype.matchATN=function(input){var startState=this.atn.modeToStartState[this.mode];if(LexerATNSimulator.debug){console.log("matchATN mode "+this.mode+" start: "+startState)}var old_mode=this.mode;var s0_closure=this.computeStartState(input,startState);var suppressEdge=s0_closure.hasSemanticContext;s0_closure.hasSemanticContext=false;var next=this.addDFAState(s0_closure);if(!suppressEdge){this.decisionToDFA[this.mode].s0=next}var predict=this.execATN(input,next);if(LexerATNSimulator.debug){console.log("DFA after matchATN: "+this.decisionToDFA[old_mode].toLexerString())}return predict};LexerATNSimulator.prototype.execATN=function(input,ds0){if(LexerATNSimulator.debug){console.log("start state closure="+ds0.configs)}if(ds0.isAcceptState){this.captureSimState(this.prevAccept,input,ds0)}var t=input.LA(1);var s=ds0;while(true){if(LexerATNSimulator.debug){console.log("execATN loop starting closure: "+s.configs)}var target=this.getExistingTargetState(s,t);if(target===null){target=this.computeTargetState(input,s,t)}if(target===ATNSimulator.ERROR){break}if(t!==Token.EOF){this.consume(input)}if(target.isAcceptState){this.captureSimState(this.prevAccept,input,target);if(t===Token.EOF){break}}t=input.LA(1);s=target}return this.failOrAccept(this.prevAccept,input,s.configs,t)};LexerATNSimulator.prototype.getExistingTargetState=function(s,t){if(s.edges===null||t<LexerATNSimulator.MIN_DFA_EDGE||t>LexerATNSimulator.MAX_DFA_EDGE){return null}var target=s.edges[t-LexerATNSimulator.MIN_DFA_EDGE];if(target===undefined){target=null}if(LexerATNSimulator.debug&&target!==null){console.log("reuse state "+s.stateNumber+" edge to "+target.stateNumber)}return target};LexerATNSimulator.prototype.computeTargetState=function(input,s,t){var reach=new OrderedATNConfigSet;this.getReachableConfigSet(input,s.configs,reach,t);if(reach.items.length===0){if(!reach.hasSemanticContext){this.addDFAEdge(s,t,ATNSimulator.ERROR)}return ATNSimulator.ERROR}return this.addDFAEdge(s,t,null,reach)};LexerATNSimulator.prototype.failOrAccept=function(prevAccept,input,reach,t){if(this.prevAccept.dfaState!==null){var lexerActionExecutor=prevAccept.dfaState.lexerActionExecutor;this.accept(input,lexerActionExecutor,this.startIndex,prevAccept.index,prevAccept.line,prevAccept.column);return prevAccept.dfaState.prediction}else{if(t===Token.EOF&&input.index===this.startIndex){return Token.EOF}throw new LexerNoViableAltException(this.recog,input,this.startIndex,reach)}};LexerATNSimulator.prototype.getReachableConfigSet=function(input,closure,reach,t){var skipAlt=ATN.INVALID_ALT_NUMBER;for(var i=0;i<closure.items.length;i++){var cfg=closure.items[i];var currentAltReachedAcceptState=cfg.alt===skipAlt;if(currentAltReachedAcceptState&&cfg.passedThroughNonGreedyDecision){continue}if(LexerATNSimulator.debug){console.log("testing %s at %s\n",this.getTokenName(t),cfg.toString(this.recog,true))}for(var j=0;j<cfg.state.transitions.length;j++){var trans=cfg.state.transitions[j];var target=this.getReachableTarget(trans,t);if(target!==null){var lexerActionExecutor=cfg.lexerActionExecutor;if(lexerActionExecutor!==null){lexerActionExecutor=lexerActionExecutor.fixOffsetBeforeMatch(input.index-this.startIndex)}var treatEofAsEpsilon=t===Token.EOF;var config=new LexerATNConfig({state:target,lexerActionExecutor:lexerActionExecutor},cfg);if(this.closure(input,config,reach,currentAltReachedAcceptState,true,treatEofAsEpsilon)){skipAlt=cfg.alt}}}}};LexerATNSimulator.prototype.accept=function(input,lexerActionExecutor,startIndex,index,line,charPos){if(LexerATNSimulator.debug){console.log("ACTION %s\n",lexerActionExecutor)}input.seek(index);this.line=line;this.column=charPos;if(lexerActionExecutor!==null&&this.recog!==null){lexerActionExecutor.execute(this.recog,input,startIndex)}};LexerATNSimulator.prototype.getReachableTarget=function(trans,t){if(trans.matches(t,0,Lexer.MAX_CHAR_VALUE)){return trans.target}else{return null}};LexerATNSimulator.prototype.computeStartState=function(input,p){var initialContext=PredictionContext.EMPTY;var configs=new OrderedATNConfigSet;for(var i=0;i<p.transitions.length;i++){var target=p.transitions[i].target;var cfg=new LexerATNConfig({state:target,alt:i+1,context:initialContext},null);this.closure(input,cfg,configs,false,false,false)}return configs};LexerATNSimulator.prototype.closure=function(input,config,configs,currentAltReachedAcceptState,speculative,treatEofAsEpsilon){var cfg=null;if(LexerATNSimulator.debug){console.log("closure("+config.toString(this.recog,true)+")")}if(config.state instanceof RuleStopState){if(LexerATNSimulator.debug){if(this.recog!==null){console.log("closure at %s rule stop %s\n",this.recog.ruleNames[config.state.ruleIndex],config)}else{console.log("closure at rule stop %s\n",config)}}if(config.context===null||config.context.hasEmptyPath()){if(config.context===null||config.context.isEmpty()){configs.add(config);return true}else{configs.add(new LexerATNConfig({state:config.state,context:PredictionContext.EMPTY},config));currentAltReachedAcceptState=true}}if(config.context!==null&&!config.context.isEmpty()){for(var i=0;i<config.context.length;i++){if(config.context.getReturnState(i)!==PredictionContext.EMPTY_RETURN_STATE){var newContext=config.context.getParent(i);var returnState=this.atn.states[config.context.getReturnState(i)];cfg=new LexerATNConfig({state:returnState,context:newContext},config);currentAltReachedAcceptState=this.closure(input,cfg,configs,currentAltReachedAcceptState,speculative,treatEofAsEpsilon)}}}return currentAltReachedAcceptState}if(!config.state.epsilonOnlyTransitions){if(!currentAltReachedAcceptState||!config.passedThroughNonGreedyDecision){configs.add(config)}}for(var j=0;j<config.state.transitions.length;j++){var trans=config.state.transitions[j];cfg=this.getEpsilonTarget(input,config,trans,configs,speculative,treatEofAsEpsilon);if(cfg!==null){currentAltReachedAcceptState=this.closure(input,cfg,configs,currentAltReachedAcceptState,speculative,treatEofAsEpsilon)}}return currentAltReachedAcceptState};LexerATNSimulator.prototype.getEpsilonTarget=function(input,config,trans,configs,speculative,treatEofAsEpsilon){var cfg=null;if(trans.serializationType===Transition.RULE){var newContext=SingletonPredictionContext.create(config.context,trans.followState.stateNumber);cfg=new LexerATNConfig({state:trans.target,context:newContext},config)}else if(trans.serializationType===Transition.PRECEDENCE){throw"Precedence predicates are not supported in lexers."}else if(trans.serializationType===Transition.PREDICATE){if(LexerATNSimulator.debug){console.log("EVAL rule "+trans.ruleIndex+":"+trans.predIndex)}configs.hasSemanticContext=true;if(this.evaluatePredicate(input,trans.ruleIndex,trans.predIndex,speculative)){cfg=new LexerATNConfig({state:trans.target},config)}}else if(trans.serializationType===Transition.ACTION){if(config.context===null||config.context.hasEmptyPath()){var lexerActionExecutor=LexerActionExecutor.append(config.lexerActionExecutor,this.atn.lexerActions[trans.actionIndex]);cfg=new LexerATNConfig({state:trans.target,lexerActionExecutor:lexerActionExecutor},config)}else{cfg=new LexerATNConfig({state:trans.target},config)}}else if(trans.serializationType===Transition.EPSILON){cfg=new LexerATNConfig({state:trans.target},config)}else if(trans.serializationType===Transition.ATOM||trans.serializationType===Transition.RANGE||trans.serializationType===Transition.SET){if(treatEofAsEpsilon){if(trans.matches(Token.EOF,0,Lexer.MAX_CHAR_VALUE)){cfg=new LexerATNConfig({state:trans.target},config)}}}return cfg};LexerATNSimulator.prototype.evaluatePredicate=function(input,ruleIndex,predIndex,speculative){if(this.recog===null){return true}if(!speculative){return this.recog.sempred(null,ruleIndex,predIndex)}var savedcolumn=this.column;var savedLine=this.line;var index=input.index;var marker=input.mark();try{this.consume(input);return this.recog.sempred(null,ruleIndex,predIndex)}finally{this.column=savedcolumn;this.line=savedLine;input.seek(index);input.release(marker)}};LexerATNSimulator.prototype.captureSimState=function(settings,input,dfaState){settings.index=input.index;settings.line=this.line;settings.column=this.column;settings.dfaState=dfaState};LexerATNSimulator.prototype.addDFAEdge=function(from_,tk,to,cfgs){if(to===undefined){to=null}if(cfgs===undefined){cfgs=null}if(to===null&&cfgs!==null){var suppressEdge=cfgs.hasSemanticContext;cfgs.hasSemanticContext=false;to=this.addDFAState(cfgs);if(suppressEdge){return to}}if(tk<LexerATNSimulator.MIN_DFA_EDGE||tk>LexerATNSimulator.MAX_DFA_EDGE){return to}if(LexerATNSimulator.debug){console.log("EDGE "+from_+" -> "+to+" upon "+tk)}if(from_.edges===null){from_.edges=[]}from_.edges[tk-LexerATNSimulator.MIN_DFA_EDGE]=to;return to};LexerATNSimulator.prototype.addDFAState=function(configs){var proposed=new DFAState(null,configs);var firstConfigWithRuleStopState=null;for(var i=0;i<configs.items.length;i++){var cfg=configs.items[i];if(cfg.state instanceof RuleStopState){firstConfigWithRuleStopState=cfg;break}}if(firstConfigWithRuleStopState!==null){proposed.isAcceptState=true;proposed.lexerActionExecutor=firstConfigWithRuleStopState.lexerActionExecutor;proposed.prediction=this.atn.ruleToTokenType[firstConfigWithRuleStopState.state.ruleIndex]}var dfa=this.decisionToDFA[this.mode];var existing=dfa.states.get(proposed);if(existing!==null){return existing}var newState=proposed;newState.stateNumber=dfa.states.length;configs.setReadonly(true);newState.configs=configs;dfa.states.add(newState);return newState};LexerATNSimulator.prototype.getDFA=function(mode){return this.decisionToDFA[mode]};LexerATNSimulator.prototype.getText=function(input){return input.getText(this.startIndex,input.index-1)};LexerATNSimulator.prototype.consume=function(input){var curChar=input.LA(1);if(curChar==="\n".charCodeAt(0)){this.line+=1;this.column=0}else{this.column+=1}input.consume()};LexerATNSimulator.prototype.getTokenName=function(tt){if(tt===-1){return"EOF"}else{return"'"+String.fromCharCode(tt)+"'"}};exports.LexerATNSimulator=LexerATNSimulator},{"./../Lexer":14,"./../PredictionContext":17,"./../Token":20,"./../dfa/DFAState":40,"./../error/Errors":45,"./ATN":22,"./ATNConfig":23,"./ATNConfigSet":24,"./ATNSimulator":27,"./ATNState":28,"./LexerActionExecutor":32,"./Transition":36}],31:[function(require,module,exports){function LexerActionType(){}LexerActionType.CHANNEL=0;LexerActionType.CUSTOM=1;LexerActionType.MODE=2;LexerActionType.MORE=3;LexerActionType.POP_MODE=4;LexerActionType.PUSH_MODE=5;LexerActionType.SKIP=6;LexerActionType.TYPE=7;function LexerAction(action){this.actionType=action;this.isPositionDependent=false;return this}LexerAction.prototype.hashCode=function(){var hash=new Hash;this.updateHashCode(hash);return hash.finish()};LexerAction.prototype.updateHashCode=function(hash){hash.update(this.actionType)};LexerAction.prototype.equals=function(other){return this===other};function LexerSkipAction(){LexerAction.call(this,LexerActionType.SKIP);return this}LexerSkipAction.prototype=Object.create(LexerAction.prototype);LexerSkipAction.prototype.constructor=LexerSkipAction;LexerSkipAction.INSTANCE=new LexerSkipAction;LexerSkipAction.prototype.execute=function(lexer){lexer.skip()};LexerSkipAction.prototype.toString=function(){return"skip"};function LexerTypeAction(type){LexerAction.call(this,LexerActionType.TYPE);this.type=type;return this}LexerTypeAction.prototype=Object.create(LexerAction.prototype);LexerTypeAction.prototype.constructor=LexerTypeAction;LexerTypeAction.prototype.execute=function(lexer){lexer.type=this.type};LexerTypeAction.prototype.updateHashCode=function(hash){hash.update(this.actionType,this.type)};LexerTypeAction.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof LexerTypeAction)){return false}else{return this.type===other.type}};LexerTypeAction.prototype.toString=function(){return"type("+this.type+")"};function LexerPushModeAction(mode){LexerAction.call(this,LexerActionType.PUSH_MODE);this.mode=mode;return this}LexerPushModeAction.prototype=Object.create(LexerAction.prototype);LexerPushModeAction.prototype.constructor=LexerPushModeAction;LexerPushModeAction.prototype.execute=function(lexer){lexer.pushMode(this.mode)};LexerPushModeAction.prototype.updateHashCode=function(hash){hash.update(this.actionType,this.mode)};LexerPushModeAction.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof LexerPushModeAction)){return false}else{return this.mode===other.mode}};LexerPushModeAction.prototype.toString=function(){return"pushMode("+this.mode+")"};function LexerPopModeAction(){LexerAction.call(this,LexerActionType.POP_MODE);return this}LexerPopModeAction.prototype=Object.create(LexerAction.prototype);LexerPopModeAction.prototype.constructor=LexerPopModeAction;LexerPopModeAction.INSTANCE=new LexerPopModeAction;LexerPopModeAction.prototype.execute=function(lexer){lexer.popMode()};LexerPopModeAction.prototype.toString=function(){return"popMode"};function LexerMoreAction(){LexerAction.call(this,LexerActionType.MORE);return this}LexerMoreAction.prototype=Object.create(LexerAction.prototype);LexerMoreAction.prototype.constructor=LexerMoreAction;LexerMoreAction.INSTANCE=new LexerMoreAction;LexerMoreAction.prototype.execute=function(lexer){lexer.more()};LexerMoreAction.prototype.toString=function(){return"more"};function LexerModeAction(mode){LexerAction.call(this,LexerActionType.MODE);this.mode=mode;return this}LexerModeAction.prototype=Object.create(LexerAction.prototype);LexerModeAction.prototype.constructor=LexerModeAction;LexerModeAction.prototype.execute=function(lexer){lexer.mode(this.mode)};LexerModeAction.prototype.updateHashCode=function(hash){hash.update(this.actionType,this.mode)};LexerModeAction.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof LexerModeAction)){return false}else{return this.mode===other.mode}};LexerModeAction.prototype.toString=function(){return"mode("+this.mode+")"};function LexerCustomAction(ruleIndex,actionIndex){LexerAction.call(this,LexerActionType.CUSTOM);this.ruleIndex=ruleIndex;this.actionIndex=actionIndex;this.isPositionDependent=true;return this}LexerCustomAction.prototype=Object.create(LexerAction.prototype);LexerCustomAction.prototype.constructor=LexerCustomAction;LexerCustomAction.prototype.execute=function(lexer){lexer.action(null,this.ruleIndex,this.actionIndex)};LexerCustomAction.prototype.updateHashCode=function(hash){hash.update(this.actionType,this.ruleIndex,this.actionIndex)};LexerCustomAction.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof LexerCustomAction)){return false}else{return this.ruleIndex===other.ruleIndex&&this.actionIndex===other.actionIndex}};function LexerChannelAction(channel){LexerAction.call(this,LexerActionType.CHANNEL);this.channel=channel;return this}LexerChannelAction.prototype=Object.create(LexerAction.prototype);LexerChannelAction.prototype.constructor=LexerChannelAction;LexerChannelAction.prototype.execute=function(lexer){lexer._channel=this.channel};LexerChannelAction.prototype.updateHashCode=function(hash){hash.update(this.actionType,this.channel)};LexerChannelAction.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof LexerChannelAction)){return false}else{return this.channel===other.channel}};LexerChannelAction.prototype.toString=function(){return"channel("+this.channel+")"};function LexerIndexedCustomAction(offset,action){LexerAction.call(this,action.actionType);this.offset=offset;this.action=action;this.isPositionDependent=true;return this}LexerIndexedCustomAction.prototype=Object.create(LexerAction.prototype);LexerIndexedCustomAction.prototype.constructor=LexerIndexedCustomAction;LexerIndexedCustomAction.prototype.execute=function(lexer){this.action.execute(lexer)};LexerIndexedCustomAction.prototype.updateHashCode=function(hash){hash.update(this.actionType,this.offset,this.action)};LexerIndexedCustomAction.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof LexerIndexedCustomAction)){return false}else{return this.offset===other.offset&&this.action===other.action}};exports.LexerActionType=LexerActionType;exports.LexerSkipAction=LexerSkipAction;exports.LexerChannelAction=LexerChannelAction;exports.LexerCustomAction=LexerCustomAction;exports.LexerIndexedCustomAction=LexerIndexedCustomAction;exports.LexerMoreAction=LexerMoreAction;exports.LexerTypeAction=LexerTypeAction;exports.LexerPushModeAction=LexerPushModeAction;exports.LexerPopModeAction=LexerPopModeAction;exports.LexerModeAction=LexerModeAction},{}],32:[function(require,module,exports){var hashStuff=require("../Utils").hashStuff;var LexerIndexedCustomAction=require("./LexerAction").LexerIndexedCustomAction;function LexerActionExecutor(lexerActions){this.lexerActions=lexerActions===null?[]:lexerActions;this.cachedHashCode=hashStuff(lexerActions);return this}LexerActionExecutor.append=function(lexerActionExecutor,lexerAction){if(lexerActionExecutor===null){return new LexerActionExecutor([lexerAction])}var lexerActions=lexerActionExecutor.lexerActions.concat([lexerAction]);return new LexerActionExecutor(lexerActions)};LexerActionExecutor.prototype.fixOffsetBeforeMatch=function(offset){var updatedLexerActions=null;for(var i=0;i<this.lexerActions.length;i++){if(this.lexerActions[i].isPositionDependent&&!(this.lexerActions[i]instanceof LexerIndexedCustomAction)){if(updatedLexerActions===null){updatedLexerActions=this.lexerActions.concat([])}updatedLexerActions[i]=new LexerIndexedCustomAction(offset,this.lexerActions[i])}}if(updatedLexerActions===null){return this}else{return new LexerActionExecutor(updatedLexerActions)}};LexerActionExecutor.prototype.execute=function(lexer,input,startIndex){var requiresSeek=false;var stopIndex=input.index;try{for(var i=0;i<this.lexerActions.length;i++){var lexerAction=this.lexerActions[i];if(lexerAction instanceof LexerIndexedCustomAction){var offset=lexerAction.offset;input.seek(startIndex+offset);lexerAction=lexerAction.action;requiresSeek=startIndex+offset!==stopIndex}else if(lexerAction.isPositionDependent){input.seek(stopIndex);requiresSeek=false}lexerAction.execute(lexer)}}finally{if(requiresSeek){input.seek(stopIndex)}}};LexerActionExecutor.prototype.hashCode=function(){return this.cachedHashCode}
;LexerActionExecutor.prototype.updateHashCode=function(hash){hash.update(this.cachedHashCode)};LexerActionExecutor.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof LexerActionExecutor)){return false}else if(this.cachedHashCode!=other.cachedHashCode){return false}else if(this.lexerActions.length!=other.lexerActions.length){return false}else{var numActions=this.lexerActions.length;for(var idx=0;idx<numActions;++idx){if(!this.lexerActions[idx].equals(other.lexerActions[idx])){return false}}return true}};exports.LexerActionExecutor=LexerActionExecutor},{"../Utils":21,"./LexerAction":31}],33:[function(require,module,exports){var Utils=require("./../Utils");var Set=Utils.Set;var BitSet=Utils.BitSet;var DoubleDict=Utils.DoubleDict;var ATN=require("./ATN").ATN;var ATNState=require("./ATNState").ATNState;var ATNConfig=require("./ATNConfig").ATNConfig;var ATNConfigSet=require("./ATNConfigSet").ATNConfigSet;var Token=require("./../Token").Token;var DFAState=require("./../dfa/DFAState").DFAState;var PredPrediction=require("./../dfa/DFAState").PredPrediction;var ATNSimulator=require("./ATNSimulator").ATNSimulator;var PredictionMode=require("./PredictionMode").PredictionMode;var RuleContext=require("./../RuleContext").RuleContext;var ParserRuleContext=require("./../ParserRuleContext").ParserRuleContext;var SemanticContext=require("./SemanticContext").SemanticContext;var StarLoopEntryState=require("./ATNState").StarLoopEntryState;var RuleStopState=require("./ATNState").RuleStopState;var PredictionContext=require("./../PredictionContext").PredictionContext;var Interval=require("./../IntervalSet").Interval;var Transitions=require("./Transition");var Transition=Transitions.Transition;var SetTransition=Transitions.SetTransition;var NotSetTransition=Transitions.NotSetTransition;var RuleTransition=Transitions.RuleTransition;var ActionTransition=Transitions.ActionTransition;var NoViableAltException=require("./../error/Errors").NoViableAltException;var SingletonPredictionContext=require("./../PredictionContext").SingletonPredictionContext;var predictionContextFromRuleContext=require("./../PredictionContext").predictionContextFromRuleContext;function ParserATNSimulator(parser,atn,decisionToDFA,sharedContextCache){ATNSimulator.call(this,atn,sharedContextCache);this.parser=parser;this.decisionToDFA=decisionToDFA;this.predictionMode=PredictionMode.LL;this._input=null;this._startIndex=0;this._outerContext=null;this._dfa=null;this.mergeCache=null;return this}ParserATNSimulator.prototype=Object.create(ATNSimulator.prototype);ParserATNSimulator.prototype.constructor=ParserATNSimulator;ParserATNSimulator.prototype.debug=false;ParserATNSimulator.prototype.debug_closure=false;ParserATNSimulator.prototype.debug_add=false;ParserATNSimulator.prototype.debug_list_atn_decisions=false;ParserATNSimulator.prototype.dfa_debug=false;ParserATNSimulator.prototype.retry_debug=false;ParserATNSimulator.prototype.reset=function(){};ParserATNSimulator.prototype.adaptivePredict=function(input,decision,outerContext){if(this.debug||this.debug_list_atn_decisions){console.log("adaptivePredict decision "+decision+" exec LA(1)=="+this.getLookaheadName(input)+" line "+input.LT(1).line+":"+input.LT(1).column)}this._input=input;this._startIndex=input.index;this._outerContext=outerContext;var dfa=this.decisionToDFA[decision];this._dfa=dfa;var m=input.mark();var index=input.index;try{var s0;if(dfa.precedenceDfa){s0=dfa.getPrecedenceStartState(this.parser.getPrecedence())}else{s0=dfa.s0}if(s0===null){if(outerContext===null){outerContext=RuleContext.EMPTY}if(this.debug||this.debug_list_atn_decisions){console.log("predictATN decision "+dfa.decision+" exec LA(1)=="+this.getLookaheadName(input)+", outerContext="+outerContext.toString(this.parser.ruleNames))}var fullCtx=false;var s0_closure=this.computeStartState(dfa.atnStartState,RuleContext.EMPTY,fullCtx);if(dfa.precedenceDfa){dfa.s0.configs=s0_closure;s0_closure=this.applyPrecedenceFilter(s0_closure);s0=this.addDFAState(dfa,new DFAState(null,s0_closure));dfa.setPrecedenceStartState(this.parser.getPrecedence(),s0)}else{s0=this.addDFAState(dfa,new DFAState(null,s0_closure));dfa.s0=s0}}var alt=this.execATN(dfa,s0,input,index,outerContext);if(this.debug){console.log("DFA after predictATN: "+dfa.toString(this.parser.literalNames))}return alt}finally{this._dfa=null;this.mergeCache=null;input.seek(index);input.release(m)}};ParserATNSimulator.prototype.execATN=function(dfa,s0,input,startIndex,outerContext){if(this.debug||this.debug_list_atn_decisions){console.log("execATN decision "+dfa.decision+" exec LA(1)=="+this.getLookaheadName(input)+" line "+input.LT(1).line+":"+input.LT(1).column)}var alt;var previousD=s0;if(this.debug){console.log("s0 = "+s0)}var t=input.LA(1);while(true){var D=this.getExistingTargetState(previousD,t);if(D===null){D=this.computeTargetState(dfa,previousD,t)}if(D===ATNSimulator.ERROR){var e=this.noViableAlt(input,outerContext,previousD.configs,startIndex);input.seek(startIndex);alt=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(previousD.configs,outerContext);if(alt!==ATN.INVALID_ALT_NUMBER){return alt}else{throw e}}if(D.requiresFullContext&&this.predictionMode!==PredictionMode.SLL){var conflictingAlts=null;if(D.predicates!==null){if(this.debug){console.log("DFA state has preds in DFA sim LL failover")}var conflictIndex=input.index;if(conflictIndex!==startIndex){input.seek(startIndex)}conflictingAlts=this.evalSemanticContext(D.predicates,outerContext,true);if(conflictingAlts.length===1){if(this.debug){console.log("Full LL avoided")}return conflictingAlts.minValue()}if(conflictIndex!==startIndex){input.seek(conflictIndex)}}if(this.dfa_debug){console.log("ctx sensitive state "+outerContext+" in "+D)}var fullCtx=true;var s0_closure=this.computeStartState(dfa.atnStartState,outerContext,fullCtx);this.reportAttemptingFullContext(dfa,conflictingAlts,D.configs,startIndex,input.index);alt=this.execATNWithFullContext(dfa,D,s0_closure,input,startIndex,outerContext);return alt}if(D.isAcceptState){if(D.predicates===null){return D.prediction}var stopIndex=input.index;input.seek(startIndex);var alts=this.evalSemanticContext(D.predicates,outerContext,true);if(alts.length===0){throw this.noViableAlt(input,outerContext,D.configs,startIndex)}else if(alts.length===1){return alts.minValue()}else{this.reportAmbiguity(dfa,D,startIndex,stopIndex,false,alts,D.configs);return alts.minValue()}}previousD=D;if(t!==Token.EOF){input.consume();t=input.LA(1)}}};ParserATNSimulator.prototype.getExistingTargetState=function(previousD,t){var edges=previousD.edges;if(edges===null){return null}else{return edges[t+1]||null}};ParserATNSimulator.prototype.computeTargetState=function(dfa,previousD,t){var reach=this.computeReachSet(previousD.configs,t,false);if(reach===null){this.addDFAEdge(dfa,previousD,t,ATNSimulator.ERROR);return ATNSimulator.ERROR}var D=new DFAState(null,reach);var predictedAlt=this.getUniqueAlt(reach);if(this.debug){var altSubSets=PredictionMode.getConflictingAltSubsets(reach);console.log("SLL altSubSets="+Utils.arrayToString(altSubSets)+", previous="+previousD.configs+", configs="+reach+", predict="+predictedAlt+", allSubsetsConflict="+PredictionMode.allSubsetsConflict(altSubSets)+", conflictingAlts="+this.getConflictingAlts(reach))}if(predictedAlt!==ATN.INVALID_ALT_NUMBER){D.isAcceptState=true;D.configs.uniqueAlt=predictedAlt;D.prediction=predictedAlt}else if(PredictionMode.hasSLLConflictTerminatingPrediction(this.predictionMode,reach)){D.configs.conflictingAlts=this.getConflictingAlts(reach);D.requiresFullContext=true;D.isAcceptState=true;D.prediction=D.configs.conflictingAlts.minValue()}if(D.isAcceptState&&D.configs.hasSemanticContext){this.predicateDFAState(D,this.atn.getDecisionState(dfa.decision));if(D.predicates!==null){D.prediction=ATN.INVALID_ALT_NUMBER}}D=this.addDFAEdge(dfa,previousD,t,D);return D};ParserATNSimulator.prototype.predicateDFAState=function(dfaState,decisionState){var nalts=decisionState.transitions.length;var altsToCollectPredsFrom=this.getConflictingAltsOrUniqueAlt(dfaState.configs);var altToPred=this.getPredsForAmbigAlts(altsToCollectPredsFrom,dfaState.configs,nalts);if(altToPred!==null){dfaState.predicates=this.getPredicatePredictions(altsToCollectPredsFrom,altToPred);dfaState.prediction=ATN.INVALID_ALT_NUMBER}else{dfaState.prediction=altsToCollectPredsFrom.minValue()}};ParserATNSimulator.prototype.execATNWithFullContext=function(dfa,D,s0,input,startIndex,outerContext){if(this.debug||this.debug_list_atn_decisions){console.log("execATNWithFullContext "+s0)}var fullCtx=true;var foundExactAmbig=false;var reach=null;var previous=s0;input.seek(startIndex);var t=input.LA(1);var predictedAlt=-1;while(true){reach=this.computeReachSet(previous,t,fullCtx);if(reach===null){var e=this.noViableAlt(input,outerContext,previous,startIndex);input.seek(startIndex);var alt=this.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule(previous,outerContext);if(alt!==ATN.INVALID_ALT_NUMBER){return alt}else{throw e}}var altSubSets=PredictionMode.getConflictingAltSubsets(reach);if(this.debug){console.log("LL altSubSets="+altSubSets+", predict="+PredictionMode.getUniqueAlt(altSubSets)+", resolvesToJustOneViableAlt="+PredictionMode.resolvesToJustOneViableAlt(altSubSets))}reach.uniqueAlt=this.getUniqueAlt(reach);if(reach.uniqueAlt!==ATN.INVALID_ALT_NUMBER){predictedAlt=reach.uniqueAlt;break}else if(this.predictionMode!==PredictionMode.LL_EXACT_AMBIG_DETECTION){predictedAlt=PredictionMode.resolvesToJustOneViableAlt(altSubSets);if(predictedAlt!==ATN.INVALID_ALT_NUMBER){break}}else{if(PredictionMode.allSubsetsConflict(altSubSets)&&PredictionMode.allSubsetsEqual(altSubSets)){foundExactAmbig=true;predictedAlt=PredictionMode.getSingleViableAlt(altSubSets);break}}previous=reach;if(t!==Token.EOF){input.consume();t=input.LA(1)}}if(reach.uniqueAlt!==ATN.INVALID_ALT_NUMBER){this.reportContextSensitivity(dfa,predictedAlt,reach,startIndex,input.index);return predictedAlt}this.reportAmbiguity(dfa,D,startIndex,input.index,foundExactAmbig,null,reach);return predictedAlt};ParserATNSimulator.prototype.computeReachSet=function(closure,t,fullCtx){if(this.debug){console.log("in computeReachSet, starting closure: "+closure)}if(this.mergeCache===null){this.mergeCache=new DoubleDict}var intermediate=new ATNConfigSet(fullCtx);var skippedStopStates=null;for(var i=0;i<closure.items.length;i++){var c=closure.items[i];if(this.debug_add){console.log("testing "+this.getTokenName(t)+" at "+c)}if(c.state instanceof RuleStopState){if(fullCtx||t===Token.EOF){if(skippedStopStates===null){skippedStopStates=[]}skippedStopStates.push(c);if(this.debug_add){console.log("added "+c+" to skippedStopStates")}}continue}for(var j=0;j<c.state.transitions.length;j++){var trans=c.state.transitions[j];var target=this.getReachableTarget(trans,t);if(target!==null){var cfg=new ATNConfig({state:target},c);intermediate.add(cfg,this.mergeCache);if(this.debug_add){console.log("added "+cfg+" to intermediate")}}}}var reach=null;if(skippedStopStates===null&&t!==Token.EOF){if(intermediate.items.length===1){reach=intermediate}else if(this.getUniqueAlt(intermediate)!==ATN.INVALID_ALT_NUMBER){reach=intermediate}}if(reach===null){reach=new ATNConfigSet(fullCtx);var closureBusy=new Set;var treatEofAsEpsilon=t===Token.EOF;for(var k=0;k<intermediate.items.length;k++){this.closure(intermediate.items[k],reach,closureBusy,false,fullCtx,treatEofAsEpsilon)}}if(t===Token.EOF){reach=this.removeAllConfigsNotInRuleStopState(reach,reach===intermediate)}if(skippedStopStates!==null&&(!fullCtx||!PredictionMode.hasConfigInRuleStopState(reach))){for(var l=0;l<skippedStopStates.length;l++){reach.add(skippedStopStates[l],this.mergeCache)}}if(reach.items.length===0){return null}else{return reach}};ParserATNSimulator.prototype.removeAllConfigsNotInRuleStopState=function(configs,lookToEndOfRule){if(PredictionMode.allConfigsInRuleStopStates(configs)){return configs}var result=new ATNConfigSet(configs.fullCtx);for(var i=0;i<configs.items.length;i++){var config=configs.items[i];if(config.state instanceof RuleStopState){result.add(config,this.mergeCache);continue}if(lookToEndOfRule&&config.state.epsilonOnlyTransitions){var nextTokens=this.atn.nextTokens(config.state);if(nextTokens.contains(Token.EPSILON)){var endOfRuleState=this.atn.ruleToStopState[config.state.ruleIndex];result.add(new ATNConfig({state:endOfRuleState},config),this.mergeCache)}}}return result};ParserATNSimulator.prototype.computeStartState=function(p,ctx,fullCtx){var initialContext=predictionContextFromRuleContext(this.atn,ctx);var configs=new ATNConfigSet(fullCtx);for(var i=0;i<p.transitions.length;i++){var target=p.transitions[i].target;var c=new ATNConfig({state:target,alt:i+1,context:initialContext},null);var closureBusy=new Set;this.closure(c,configs,closureBusy,true,fullCtx,false)}return configs};ParserATNSimulator.prototype.applyPrecedenceFilter=function(configs){var config;var statesFromAlt1=[];var configSet=new ATNConfigSet(configs.fullCtx);for(var i=0;i<configs.items.length;i++){config=configs.items[i];if(config.alt!==1){continue}var updatedContext=config.semanticContext.evalPrecedence(this.parser,this._outerContext);if(updatedContext===null){continue}statesFromAlt1[config.state.stateNumber]=config.context;if(updatedContext!==config.semanticContext){configSet.add(new ATNConfig({semanticContext:updatedContext},config),this.mergeCache)}else{configSet.add(config,this.mergeCache)}}for(i=0;i<configs.items.length;i++){config=configs.items[i];if(config.alt===1){continue}if(!config.precedenceFilterSuppressed){var context=statesFromAlt1[config.state.stateNumber]||null;if(context!==null&&context.equals(config.context)){continue}}configSet.add(config,this.mergeCache)}return configSet};ParserATNSimulator.prototype.getReachableTarget=function(trans,ttype){if(trans.matches(ttype,0,this.atn.maxTokenType)){return trans.target}else{return null}};ParserATNSimulator.prototype.getPredsForAmbigAlts=function(ambigAlts,configs,nalts){var altToPred=[];for(var i=0;i<configs.items.length;i++){var c=configs.items[i];if(ambigAlts.contains(c.alt)){altToPred[c.alt]=SemanticContext.orContext(altToPred[c.alt]||null,c.semanticContext)}}var nPredAlts=0;for(i=1;i<nalts+1;i++){var pred=altToPred[i]||null;if(pred===null){altToPred[i]=SemanticContext.NONE}else if(pred!==SemanticContext.NONE){nPredAlts+=1}}if(nPredAlts===0){altToPred=null}if(this.debug){console.log("getPredsForAmbigAlts result "+Utils.arrayToString(altToPred))}return altToPred};ParserATNSimulator.prototype.getPredicatePredictions=function(ambigAlts,altToPred){var pairs=[];var containsPredicate=false;for(var i=1;i<altToPred.length;i++){var pred=altToPred[i];if(ambigAlts!==null&&ambigAlts.contains(i)){pairs.push(new PredPrediction(pred,i))}if(pred!==SemanticContext.NONE){containsPredicate=true}}if(!containsPredicate){return null}return pairs};ParserATNSimulator.prototype.getSynValidOrSemInvalidAltThatFinishedDecisionEntryRule=function(configs,outerContext){var cfgs=this.splitAccordingToSemanticValidity(configs,outerContext);var semValidConfigs=cfgs[0];var semInvalidConfigs=cfgs[1];var alt=this.getAltThatFinishedDecisionEntryRule(semValidConfigs);if(alt!==ATN.INVALID_ALT_NUMBER){return alt}if(semInvalidConfigs.items.length>0){alt=this.getAltThatFinishedDecisionEntryRule(semInvalidConfigs);if(alt!==ATN.INVALID_ALT_NUMBER){return alt}}return ATN.INVALID_ALT_NUMBER};ParserATNSimulator.prototype.getAltThatFinishedDecisionEntryRule=function(configs){var alts=[];for(var i=0;i<configs.items.length;i++){var c=configs.items[i];if(c.reachesIntoOuterContext>0||c.state instanceof RuleStopState&&c.context.hasEmptyPath()){if(alts.indexOf(c.alt)<0){alts.push(c.alt)}}}if(alts.length===0){return ATN.INVALID_ALT_NUMBER}else{return Math.min.apply(null,alts)}};ParserATNSimulator.prototype.splitAccordingToSemanticValidity=function(configs,outerContext){var succeeded=new ATNConfigSet(configs.fullCtx);var failed=new ATNConfigSet(configs.fullCtx);for(var i=0;i<configs.items.length;i++){var c=configs.items[i];if(c.semanticContext!==SemanticContext.NONE){var predicateEvaluationResult=c.semanticContext.evaluate(this.parser,outerContext);if(predicateEvaluationResult){succeeded.add(c)}else{failed.add(c)}}else{succeeded.add(c)}}return[succeeded,failed]};ParserATNSimulator.prototype.evalSemanticContext=function(predPredictions,outerContext,complete){var predictions=new BitSet;for(var i=0;i<predPredictions.length;i++){var pair=predPredictions[i];if(pair.pred===SemanticContext.NONE){predictions.add(pair.alt);if(!complete){break}continue}var predicateEvaluationResult=pair.pred.evaluate(this.parser,outerContext);if(this.debug||this.dfa_debug){console.log("eval pred "+pair+"="+predicateEvaluationResult)}if(predicateEvaluationResult){if(this.debug||this.dfa_debug){console.log("PREDICT "+pair.alt)}predictions.add(pair.alt);if(!complete){break}}}return predictions};ParserATNSimulator.prototype.closure=function(config,configs,closureBusy,collectPredicates,fullCtx,treatEofAsEpsilon){var initialDepth=0;this.closureCheckingStopState(config,configs,closureBusy,collectPredicates,fullCtx,initialDepth,treatEofAsEpsilon)};ParserATNSimulator.prototype.closureCheckingStopState=function(config,configs,closureBusy,collectPredicates,fullCtx,depth,treatEofAsEpsilon){if(this.debug||this.debug_closure){console.log("closure("+config.toString(this.parser,true)+")");if(config.reachesIntoOuterContext>50){throw"problem"}}if(config.state instanceof RuleStopState){if(!config.context.isEmpty()){for(var i=0;i<config.context.length;i++){if(config.context.getReturnState(i)===PredictionContext.EMPTY_RETURN_STATE){if(fullCtx){configs.add(new ATNConfig({state:config.state,context:PredictionContext.EMPTY},config),this.mergeCache);continue}else{if(this.debug){console.log("FALLING off rule "+this.getRuleName(config.state.ruleIndex))}this.closure_(config,configs,closureBusy,collectPredicates,fullCtx,depth,treatEofAsEpsilon)}continue}var returnState=this.atn.states[config.context.getReturnState(i)];var newContext=config.context.getParent(i);var parms={state:returnState,alt:config.alt,context:newContext,semanticContext:config.semanticContext};var c=new ATNConfig(parms,null);c.reachesIntoOuterContext=config.reachesIntoOuterContext;this.closureCheckingStopState(c,configs,closureBusy,collectPredicates,fullCtx,depth-1,treatEofAsEpsilon)}return}else if(fullCtx){configs.add(config,this.mergeCache);return}else{if(this.debug){console.log("FALLING off rule "+this.getRuleName(config.state.ruleIndex))}}}this.closure_(config,configs,closureBusy,collectPredicates,fullCtx,depth,treatEofAsEpsilon)};ParserATNSimulator.prototype.closure_=function(config,configs,closureBusy,collectPredicates,fullCtx,depth,treatEofAsEpsilon){var p=config.state;if(!p.epsilonOnlyTransitions){configs.add(config,this.mergeCache)}for(var i=0;i<p.transitions.length;i++){if(i==0&&this.canDropLoopEntryEdgeInLeftRecursiveRule(config))continue;var t=p.transitions[i];var continueCollecting=collectPredicates&&!(t instanceof ActionTransition);var c=this.getEpsilonTarget(config,t,continueCollecting,depth===0,fullCtx,treatEofAsEpsilon);if(c!==null){var newDepth=depth;if(config.state instanceof RuleStopState){if(this._dfa!==null&&this._dfa.precedenceDfa){if(t.outermostPrecedenceReturn===this._dfa.atnStartState.ruleIndex){c.precedenceFilterSuppressed=true}}c.reachesIntoOuterContext+=1;if(closureBusy.add(c)!==c){continue}configs.dipsIntoOuterContext=true;newDepth-=1;if(this.debug){console.log("dips into outer ctx: "+c)}}else{if(!t.isEpsilon&&closureBusy.add(c)!==c){continue}if(t instanceof RuleTransition){if(newDepth>=0){newDepth+=1}}}this.closureCheckingStopState(c,configs,closureBusy,continueCollecting,fullCtx,newDepth,treatEofAsEpsilon)}}};ParserATNSimulator.prototype.canDropLoopEntryEdgeInLeftRecursiveRule=function(config){var p=config.state;if(p.stateType!=ATNState.STAR_LOOP_ENTRY)return false;if(p.stateType!=ATNState.STAR_LOOP_ENTRY||!p.isPrecedenceDecision||config.context.isEmpty()||config.context.hasEmptyPath())return false;var numCtxs=config.context.length;for(var i=0;i<numCtxs;i++){var returnState=this.atn.states[config.context.getReturnState(i)];if(returnState.ruleIndex!=p.ruleIndex)return false}var decisionStartState=p.transitions[0].target;var blockEndStateNum=decisionStartState.endState.stateNumber;var blockEndState=this.atn.states[blockEndStateNum];for(var i=0;i<numCtxs;i++){var returnStateNumber=config.context.getReturnState(i);var returnState=this.atn.states[returnStateNumber];if(returnState.transitions.length!=1||!returnState.transitions[0].isEpsilon)return false;var returnStateTarget=returnState.transitions[0].target;if(returnState.stateType==ATNState.BLOCK_END&&returnStateTarget==p)continue;if(returnState==blockEndState)continue;if(returnStateTarget==blockEndState)continue;if(returnStateTarget.stateType==ATNState.BLOCK_END&&returnStateTarget.transitions.length==1&&returnStateTarget.transitions[0].isEpsilon&&returnStateTarget.transitions[0].target==p)continue;return false}return true};ParserATNSimulator.prototype.getRuleName=function(index){if(this.parser!==null&&index>=0){return this.parser.ruleNames[index]}else{return"<rule "+index+">"}};ParserATNSimulator.prototype.getEpsilonTarget=function(config,t,collectPredicates,inContext,fullCtx,treatEofAsEpsilon){switch(t.serializationType){case Transition.RULE:return this.ruleTransition(config,t);case Transition.PRECEDENCE:return this.precedenceTransition(config,t,collectPredicates,inContext,fullCtx);case Transition.PREDICATE:return this.predTransition(config,t,collectPredicates,inContext,fullCtx);case Transition.ACTION:return this.actionTransition(config,t);case Transition.EPSILON:return new ATNConfig({state:t.target},config);case Transition.ATOM:case Transition.RANGE:case Transition.SET:if(treatEofAsEpsilon){if(t.matches(Token.EOF,0,1)){return new ATNConfig({state:t.target},config)}}return null;default:return null}};ParserATNSimulator.prototype.actionTransition=function(config,t){if(this.debug){var index=t.actionIndex==-1?65535:t.actionIndex;console.log("ACTION edge "+t.ruleIndex+":"+index)}return new ATNConfig({state:t.target},config)};ParserATNSimulator.prototype.precedenceTransition=function(config,pt,collectPredicates,inContext,fullCtx){if(this.debug){console.log("PRED (collectPredicates="+collectPredicates+") "+pt.precedence+">=_p, ctx dependent=true");if(this.parser!==null){console.log("context surrounding pred is "+Utils.arrayToString(this.parser.getRuleInvocationStack()))}}var c=null;if(collectPredicates&&inContext){if(fullCtx){var currentPosition=this._input.index;this._input.seek(this._startIndex);var predSucceeds=pt.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(currentPosition);if(predSucceeds){c=new ATNConfig({state:pt.target},config)}}else{var newSemCtx=SemanticContext.andContext(config.semanticContext,pt.getPredicate());c=new ATNConfig({state:pt.target,semanticContext:newSemCtx},config)}}else{c=new ATNConfig({state:pt.target},config)}if(this.debug){console.log("config from pred transition="+c)}return c};ParserATNSimulator.prototype.predTransition=function(config,pt,collectPredicates,inContext,fullCtx){if(this.debug){console.log("PRED (collectPredicates="+collectPredicates+") "+pt.ruleIndex+":"+pt.predIndex+", ctx dependent="+pt.isCtxDependent);if(this.parser!==null){console.log("context surrounding pred is "+Utils.arrayToString(this.parser.getRuleInvocationStack()))}}var c=null;if(collectPredicates&&(pt.isCtxDependent&&inContext||!pt.isCtxDependent)){if(fullCtx){var currentPosition=this._input.index;this._input.seek(this._startIndex);var predSucceeds=pt.getPredicate().evaluate(this.parser,this._outerContext);this._input.seek(currentPosition);if(predSucceeds){c=new ATNConfig({state:pt.target},config)}}else{var newSemCtx=SemanticContext.andContext(config.semanticContext,pt.getPredicate());c=new ATNConfig({state:pt.target,semanticContext:newSemCtx},config)}}else{c=new ATNConfig({state:pt.target},config)}if(this.debug){console.log("config from pred transition="+c)}return c};ParserATNSimulator.prototype.ruleTransition=function(config,t){if(this.debug){console.log("CALL rule "+this.getRuleName(t.target.ruleIndex)+", ctx="+config.context)}var returnState=t.followState;var newContext=SingletonPredictionContext.create(config.context,returnState.stateNumber);return new ATNConfig({state:t.target,context:newContext},config)};ParserATNSimulator.prototype.getConflictingAlts=function(configs){var altsets=PredictionMode.getConflictingAltSubsets(configs);return PredictionMode.getAlts(altsets)};ParserATNSimulator.prototype.getConflictingAltsOrUniqueAlt=function(configs){var conflictingAlts=null;if(configs.uniqueAlt!==ATN.INVALID_ALT_NUMBER){conflictingAlts=new BitSet;conflictingAlts.add(configs.uniqueAlt)}else{conflictingAlts=configs.conflictingAlts}return conflictingAlts};ParserATNSimulator.prototype.getTokenName=function(t){if(t===Token.EOF){return"EOF"}if(this.parser!==null&&this.parser.literalNames!==null){if(t>=this.parser.literalNames.length&&t>=this.parser.symbolicNames.length){console.log(""+t+" ttype out of range: "+this.parser.literalNames);console.log(""+this.parser.getInputStream().getTokens())}else{var name=this.parser.literalNames[t]||this.parser.symbolicNames[t];return name+"<"+t+">"}}return""+t};ParserATNSimulator.prototype.getLookaheadName=function(input){return this.getTokenName(input.LA(1))};ParserATNSimulator.prototype.dumpDeadEndConfigs=function(nvae){console.log("dead end configs: ");var decs=nvae.getDeadEndConfigs();for(var i=0;i<decs.length;i++){var c=decs[i];var trans="no edges";if(c.state.transitions.length>0){var t=c.state.transitions[0];if(t instanceof AtomTransition){trans="Atom "+this.getTokenName(t.label)}else if(t instanceof SetTransition){var neg=t instanceof NotSetTransition;trans=(neg?"~":"")+"Set "+t.set}}console.error(c.toString(this.parser,true)+":"+trans)}};ParserATNSimulator.prototype.noViableAlt=function(input,outerContext,configs,startIndex){return new NoViableAltException(this.parser,input,input.get(startIndex),input.LT(1),configs,outerContext)};ParserATNSimulator.prototype.getUniqueAlt=function(configs){var alt=ATN.INVALID_ALT_NUMBER;for(var i=0;i<configs.items.length;i++){var c=configs.items[i];if(alt===ATN.INVALID_ALT_NUMBER){alt=c.alt}else if(c.alt!==alt){return ATN.INVALID_ALT_NUMBER}}return alt};ParserATNSimulator.prototype.addDFAEdge=function(dfa,from_,t,to){if(this.debug){console.log("EDGE "+from_+" -> "+to+" upon "+this.getTokenName(t))}if(to===null){return null}to=this.addDFAState(dfa,to);if(from_===null||t<-1||t>this.atn.maxTokenType){return to}if(from_.edges===null){from_.edges=[]}from_.edges[t+1]=to;if(this.debug){var literalNames=this.parser===null?null:this.parser.literalNames;var symbolicNames=this.parser===null?null:this.parser.symbolicNames;console.log("DFA=\n"+dfa.toString(literalNames,symbolicNames))}return to};ParserATNSimulator.prototype.addDFAState=function(dfa,D){if(D==ATNSimulator.ERROR){return D}var existing=dfa.states.get(D);if(existing!==null){return existing}D.stateNumber=dfa.states.length;if(!D.configs.readOnly){D.configs.optimizeConfigs(this);D.configs.setReadonly(true)}dfa.states.add(D);if(this.debug){console.log("adding new DFA state: "+D)}return D};ParserATNSimulator.prototype.reportAttemptingFullContext=function(dfa,conflictingAlts,configs,startIndex,stopIndex){if(this.debug||this.retry_debug){var interval=new Interval(startIndex,stopIndex+1);console.log("reportAttemptingFullContext decision="+dfa.decision+":"+configs+", input="+this.parser.getTokenStream().getText(interval))}if(this.parser!==null){this.parser.getErrorListenerDispatch().reportAttemptingFullContext(this.parser,dfa,startIndex,stopIndex,conflictingAlts,configs)}};ParserATNSimulator.prototype.reportContextSensitivity=function(dfa,prediction,configs,startIndex,stopIndex){if(this.debug||this.retry_debug){var interval=new Interval(startIndex,stopIndex+1);console.log("reportContextSensitivity decision="+dfa.decision+":"+configs+", input="+this.parser.getTokenStream().getText(interval))}if(this.parser!==null){this.parser.getErrorListenerDispatch().reportContextSensitivity(this.parser,dfa,startIndex,stopIndex,prediction,configs)}};ParserATNSimulator.prototype.reportAmbiguity=function(dfa,D,startIndex,stopIndex,exact,ambigAlts,configs){if(this.debug||this.retry_debug){var interval=new Interval(startIndex,stopIndex+1);console.log("reportAmbiguity "+ambigAlts+":"+configs+", input="+this.parser.getTokenStream().getText(interval))}if(this.parser!==null){this.parser.getErrorListenerDispatch().reportAmbiguity(this.parser,dfa,startIndex,stopIndex,exact,ambigAlts,configs)}};exports.ParserATNSimulator=ParserATNSimulator},{"./../IntervalSet":12,"./../ParserRuleContext":16,"./../PredictionContext":17,"./../RuleContext":19,"./../Token":20,"./../Utils":21,"./../dfa/DFAState":40,"./../error/Errors":45,"./ATN":22,"./ATNConfig":23,"./ATNConfigSet":24,"./ATNSimulator":27,"./ATNState":28,"./PredictionMode":34,"./SemanticContext":35,"./Transition":36}],34:[function(require,module,exports){var Set=require("./../Utils").Set;var Map=require("./../Utils").Map;var BitSet=require("./../Utils").BitSet;var AltDict=require("./../Utils").AltDict;var ATN=require("./ATN").ATN;var RuleStopState=require("./ATNState").RuleStopState;var ATNConfigSet=require("./ATNConfigSet").ATNConfigSet;var ATNConfig=require("./ATNConfig").ATNConfig;var SemanticContext=require("./SemanticContext").SemanticContext;var Hash=require("../Utils").Hash;var hashStuff=require("./../Utils").hashStuff;var equalArrays=require("./../Utils").equalArrays;function PredictionMode(){return this}PredictionMode.SLL=0;PredictionMode.LL=1;PredictionMode.LL_EXACT_AMBIG_DETECTION=2;PredictionMode.hasSLLConflictTerminatingPrediction=function(mode,configs){if(PredictionMode.allConfigsInRuleStopStates(configs)){return true}if(mode===PredictionMode.SLL){if(configs.hasSemanticContext){var dup=new ATNConfigSet;for(var i=0;i<configs.items.length;i++){var c=configs.items[i];c=new ATNConfig({semanticContext:SemanticContext.NONE},c);dup.add(c)}configs=dup}}var altsets=PredictionMode.getConflictingAltSubsets(configs);return PredictionMode.hasConflictingAltSet(altsets)&&!PredictionMode.hasStateAssociatedWithOneAlt(configs)};PredictionMode.hasConfigInRuleStopState=function(configs){for(var i=0;i<configs.items.length;i++){var c=configs.items[i];if(c.state instanceof RuleStopState){return true}}return false};PredictionMode.allConfigsInRuleStopStates=function(configs){for(var i=0;i<configs.items.length;i++){var c=configs.items[i];if(!(c.state instanceof RuleStopState)){return false}}return true};PredictionMode.resolvesToJustOneViableAlt=function(altsets){return PredictionMode.getSingleViableAlt(altsets)};PredictionMode.allSubsetsConflict=function(altsets){return!PredictionMode.hasNonConflictingAltSet(altsets)};PredictionMode.hasNonConflictingAltSet=function(altsets){for(var i=0;i<altsets.length;i++){var alts=altsets[i];if(alts.length===1){return true}}return false};PredictionMode.hasConflictingAltSet=function(altsets){for(var i=0;i<altsets.length;i++){var alts=altsets[i];if(alts.length>1){return true}}return false};PredictionMode.allSubsetsEqual=function(altsets){var first=null;for(var i=0;i<altsets.length;i++){var alts=altsets[i];if(first===null){first=alts}else if(alts!==first){return false}}return true};PredictionMode.getUniqueAlt=function(altsets){var all=PredictionMode.getAlts(altsets);if(all.length===1){return all.minValue()}else{return ATN.INVALID_ALT_NUMBER}};PredictionMode.getAlts=function(altsets){var all=new BitSet;altsets.map(function(alts){all.or(alts)});return all};PredictionMode.getConflictingAltSubsets=function(configs){var configToAlts=new Map;configToAlts.hashFunction=function(cfg){hashStuff(cfg.state.stateNumber,cfg.context)};configToAlts.equalsFunction=function(c1,c2){return c1.state.stateNumber==c2.state.stateNumber&&c1.context.equals(c2.context)};configs.items.map(function(cfg){
var alts=configToAlts.get(cfg);if(alts===null){alts=new BitSet;configToAlts.put(cfg,alts)}alts.add(cfg.alt)});return configToAlts.getValues()};PredictionMode.getStateToAltMap=function(configs){var m=new AltDict;configs.items.map(function(c){var alts=m.get(c.state);if(alts===null){alts=new BitSet;m.put(c.state,alts)}alts.add(c.alt)});return m};PredictionMode.hasStateAssociatedWithOneAlt=function(configs){var values=PredictionMode.getStateToAltMap(configs).values();for(var i=0;i<values.length;i++){if(values[i].length===1){return true}}return false};PredictionMode.getSingleViableAlt=function(altsets){var result=null;for(var i=0;i<altsets.length;i++){var alts=altsets[i];var minAlt=alts.minValue();if(result===null){result=minAlt}else if(result!==minAlt){return ATN.INVALID_ALT_NUMBER}}return result};exports.PredictionMode=PredictionMode},{"../Utils":21,"./../Utils":21,"./ATN":22,"./ATNConfig":23,"./ATNConfigSet":24,"./ATNState":28,"./SemanticContext":35}],35:[function(require,module,exports){var Set=require("./../Utils").Set;var Hash=require("./../Utils").Hash;function SemanticContext(){return this}SemanticContext.prototype.hashCode=function(){var hash=new Hash;this.updateHashCode(hash);return hash.finish()};SemanticContext.prototype.evaluate=function(parser,outerContext){};SemanticContext.prototype.evalPrecedence=function(parser,outerContext){return this};SemanticContext.andContext=function(a,b){if(a===null||a===SemanticContext.NONE){return b}if(b===null||b===SemanticContext.NONE){return a}var result=new AND(a,b);if(result.opnds.length===1){return result.opnds[0]}else{return result}};SemanticContext.orContext=function(a,b){if(a===null){return b}if(b===null){return a}if(a===SemanticContext.NONE||b===SemanticContext.NONE){return SemanticContext.NONE}var result=new OR(a,b);if(result.opnds.length===1){return result.opnds[0]}else{return result}};function Predicate(ruleIndex,predIndex,isCtxDependent){SemanticContext.call(this);this.ruleIndex=ruleIndex===undefined?-1:ruleIndex;this.predIndex=predIndex===undefined?-1:predIndex;this.isCtxDependent=isCtxDependent===undefined?false:isCtxDependent;return this}Predicate.prototype=Object.create(SemanticContext.prototype);Predicate.prototype.constructor=Predicate;SemanticContext.NONE=new Predicate;Predicate.prototype.evaluate=function(parser,outerContext){var localctx=this.isCtxDependent?outerContext:null;return parser.sempred(localctx,this.ruleIndex,this.predIndex)};Predicate.prototype.updateHashCode=function(hash){hash.update(this.ruleIndex,this.predIndex,this.isCtxDependent)};Predicate.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof Predicate)){return false}else{return this.ruleIndex===other.ruleIndex&&this.predIndex===other.predIndex&&this.isCtxDependent===other.isCtxDependent}};Predicate.prototype.toString=function(){return"{"+this.ruleIndex+":"+this.predIndex+"}?"};function PrecedencePredicate(precedence){SemanticContext.call(this);this.precedence=precedence===undefined?0:precedence}PrecedencePredicate.prototype=Object.create(SemanticContext.prototype);PrecedencePredicate.prototype.constructor=PrecedencePredicate;PrecedencePredicate.prototype.evaluate=function(parser,outerContext){return parser.precpred(outerContext,this.precedence)};PrecedencePredicate.prototype.evalPrecedence=function(parser,outerContext){if(parser.precpred(outerContext,this.precedence)){return SemanticContext.NONE}else{return null}};PrecedencePredicate.prototype.compareTo=function(other){return this.precedence-other.precedence};PrecedencePredicate.prototype.updateHashCode=function(hash){hash.update(31)};PrecedencePredicate.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof PrecedencePredicate)){return false}else{return this.precedence===other.precedence}};PrecedencePredicate.prototype.toString=function(){return"{"+this.precedence+">=prec}?"};PrecedencePredicate.filterPrecedencePredicates=function(set){var result=[];set.values().map(function(context){if(context instanceof PrecedencePredicate){result.push(context)}});return result};function AND(a,b){SemanticContext.call(this);var operands=new Set;if(a instanceof AND){a.opnds.map(function(o){operands.add(o)})}else{operands.add(a)}if(b instanceof AND){b.opnds.map(function(o){operands.add(o)})}else{operands.add(b)}var precedencePredicates=PrecedencePredicate.filterPrecedencePredicates(operands);if(precedencePredicates.length>0){var reduced=null;precedencePredicates.map(function(p){if(reduced===null||p.precedence<reduced.precedence){reduced=p}});operands.add(reduced)}this.opnds=operands.values();return this}AND.prototype=Object.create(SemanticContext.prototype);AND.prototype.constructor=AND;AND.prototype.equals=function(other){if(this===other){return true}else if(!(other instanceof AND)){return false}else{return this.opnds===other.opnds}};AND.prototype.updateHashCode=function(hash){hash.update(this.opnds,"AND")};AND.prototype.evaluate=function(parser,outerContext){for(var i=0;i<this.opnds.length;i++){if(!this.opnds[i].evaluate(parser,outerContext)){return false}}return true};AND.prototype.evalPrecedence=function(parser,outerContext){var differs=false;var operands=[];for(var i=0;i<this.opnds.length;i++){var context=this.opnds[i];var evaluated=context.evalPrecedence(parser,outerContext);differs|=evaluated!==context;if(evaluated===null){return null}else if(evaluated!==SemanticContext.NONE){operands.push(evaluated)}}if(!differs){return this}if(operands.length===0){return SemanticContext.NONE}var result=null;operands.map(function(o){result=result===null?o:SemanticContext.andContext(result,o)});return result};AND.prototype.toString=function(){var s="";this.opnds.map(function(o){s+="&& "+o.toString()});return s.length>3?s.slice(3):s};function OR(a,b){SemanticContext.call(this);var operands=new Set;if(a instanceof OR){a.opnds.map(function(o){operands.add(o)})}else{operands.add(a)}if(b instanceof OR){b.opnds.map(function(o){operands.add(o)})}else{operands.add(b)}var precedencePredicates=PrecedencePredicate.filterPrecedencePredicates(operands);if(precedencePredicates.length>0){var s=precedencePredicates.sort(function(a,b){return a.compareTo(b)});var reduced=s[s.length-1];operands.add(reduced)}this.opnds=operands.values();return this}OR.prototype=Object.create(SemanticContext.prototype);OR.prototype.constructor=OR;OR.prototype.constructor=function(other){if(this===other){return true}else if(!(other instanceof OR)){return false}else{return this.opnds===other.opnds}};OR.prototype.updateHashCode=function(hash){hash.update(this.opnds,"OR")};OR.prototype.evaluate=function(parser,outerContext){for(var i=0;i<this.opnds.length;i++){if(this.opnds[i].evaluate(parser,outerContext)){return true}}return false};OR.prototype.evalPrecedence=function(parser,outerContext){var differs=false;var operands=[];for(var i=0;i<this.opnds.length;i++){var context=this.opnds[i];var evaluated=context.evalPrecedence(parser,outerContext);differs|=evaluated!==context;if(evaluated===SemanticContext.NONE){return SemanticContext.NONE}else if(evaluated!==null){operands.push(evaluated)}}if(!differs){return this}if(operands.length===0){return null}var result=null;operands.map(function(o){return result===null?o:SemanticContext.orContext(result,o)});return result};OR.prototype.toString=function(){var s="";this.opnds.map(function(o){s+="|| "+o.toString()});return s.length>3?s.slice(3):s};exports.SemanticContext=SemanticContext;exports.PrecedencePredicate=PrecedencePredicate;exports.Predicate=Predicate},{"./../Utils":21}],36:[function(require,module,exports){var Token=require("./../Token").Token;var Interval=require("./../IntervalSet").Interval;var IntervalSet=require("./../IntervalSet").IntervalSet;var Predicate=require("./SemanticContext").Predicate;var PrecedencePredicate=require("./SemanticContext").PrecedencePredicate;function Transition(target){if(target===undefined||target===null){throw"target cannot be null."}this.target=target;this.isEpsilon=false;this.label=null;return this}Transition.EPSILON=1;Transition.RANGE=2;Transition.RULE=3;Transition.PREDICATE=4;Transition.ATOM=5;Transition.ACTION=6;Transition.SET=7;Transition.NOT_SET=8;Transition.WILDCARD=9;Transition.PRECEDENCE=10;Transition.serializationNames=["INVALID","EPSILON","RANGE","RULE","PREDICATE","ATOM","ACTION","SET","NOT_SET","WILDCARD","PRECEDENCE"];Transition.serializationTypes={EpsilonTransition:Transition.EPSILON,RangeTransition:Transition.RANGE,RuleTransition:Transition.RULE,PredicateTransition:Transition.PREDICATE,AtomTransition:Transition.ATOM,ActionTransition:Transition.ACTION,SetTransition:Transition.SET,NotSetTransition:Transition.NOT_SET,WildcardTransition:Transition.WILDCARD,PrecedencePredicateTransition:Transition.PRECEDENCE};function AtomTransition(target,label){Transition.call(this,target);this.label_=label;this.label=this.makeLabel();this.serializationType=Transition.ATOM;return this}AtomTransition.prototype=Object.create(Transition.prototype);AtomTransition.prototype.constructor=AtomTransition;AtomTransition.prototype.makeLabel=function(){var s=new IntervalSet;s.addOne(this.label_);return s};AtomTransition.prototype.matches=function(symbol,minVocabSymbol,maxVocabSymbol){return this.label_===symbol};AtomTransition.prototype.toString=function(){return this.label_};function RuleTransition(ruleStart,ruleIndex,precedence,followState){Transition.call(this,ruleStart);this.ruleIndex=ruleIndex;this.precedence=precedence;this.followState=followState;this.serializationType=Transition.RULE;this.isEpsilon=true;return this}RuleTransition.prototype=Object.create(Transition.prototype);RuleTransition.prototype.constructor=RuleTransition;RuleTransition.prototype.matches=function(symbol,minVocabSymbol,maxVocabSymbol){return false};function EpsilonTransition(target,outermostPrecedenceReturn){Transition.call(this,target);this.serializationType=Transition.EPSILON;this.isEpsilon=true;this.outermostPrecedenceReturn=outermostPrecedenceReturn;return this}EpsilonTransition.prototype=Object.create(Transition.prototype);EpsilonTransition.prototype.constructor=EpsilonTransition;EpsilonTransition.prototype.matches=function(symbol,minVocabSymbol,maxVocabSymbol){return false};EpsilonTransition.prototype.toString=function(){return"epsilon"};function RangeTransition(target,start,stop){Transition.call(this,target);this.serializationType=Transition.RANGE;this.start=start;this.stop=stop;this.label=this.makeLabel();return this}RangeTransition.prototype=Object.create(Transition.prototype);RangeTransition.prototype.constructor=RangeTransition;RangeTransition.prototype.makeLabel=function(){var s=new IntervalSet;s.addRange(this.start,this.stop);return s};RangeTransition.prototype.matches=function(symbol,minVocabSymbol,maxVocabSymbol){return symbol>=this.start&&symbol<=this.stop};RangeTransition.prototype.toString=function(){return"'"+String.fromCharCode(this.start)+"'..'"+String.fromCharCode(this.stop)+"'"};function AbstractPredicateTransition(target){Transition.call(this,target);return this}AbstractPredicateTransition.prototype=Object.create(Transition.prototype);AbstractPredicateTransition.prototype.constructor=AbstractPredicateTransition;function PredicateTransition(target,ruleIndex,predIndex,isCtxDependent){AbstractPredicateTransition.call(this,target);this.serializationType=Transition.PREDICATE;this.ruleIndex=ruleIndex;this.predIndex=predIndex;this.isCtxDependent=isCtxDependent;this.isEpsilon=true;return this}PredicateTransition.prototype=Object.create(AbstractPredicateTransition.prototype);PredicateTransition.prototype.constructor=PredicateTransition;PredicateTransition.prototype.matches=function(symbol,minVocabSymbol,maxVocabSymbol){return false};PredicateTransition.prototype.getPredicate=function(){return new Predicate(this.ruleIndex,this.predIndex,this.isCtxDependent)};PredicateTransition.prototype.toString=function(){return"pred_"+this.ruleIndex+":"+this.predIndex};function ActionTransition(target,ruleIndex,actionIndex,isCtxDependent){Transition.call(this,target);this.serializationType=Transition.ACTION;this.ruleIndex=ruleIndex;this.actionIndex=actionIndex===undefined?-1:actionIndex;this.isCtxDependent=isCtxDependent===undefined?false:isCtxDependent;this.isEpsilon=true;return this}ActionTransition.prototype=Object.create(Transition.prototype);ActionTransition.prototype.constructor=ActionTransition;ActionTransition.prototype.matches=function(symbol,minVocabSymbol,maxVocabSymbol){return false};ActionTransition.prototype.toString=function(){return"action_"+this.ruleIndex+":"+this.actionIndex};function SetTransition(target,set){Transition.call(this,target);this.serializationType=Transition.SET;if(set!==undefined&&set!==null){this.label=set}else{this.label=new IntervalSet;this.label.addOne(Token.INVALID_TYPE)}return this}SetTransition.prototype=Object.create(Transition.prototype);SetTransition.prototype.constructor=SetTransition;SetTransition.prototype.matches=function(symbol,minVocabSymbol,maxVocabSymbol){return this.label.contains(symbol)};SetTransition.prototype.toString=function(){return this.label.toString()};function NotSetTransition(target,set){SetTransition.call(this,target,set);this.serializationType=Transition.NOT_SET;return this}NotSetTransition.prototype=Object.create(SetTransition.prototype);NotSetTransition.prototype.constructor=NotSetTransition;NotSetTransition.prototype.matches=function(symbol,minVocabSymbol,maxVocabSymbol){return symbol>=minVocabSymbol&&symbol<=maxVocabSymbol&&!SetTransition.prototype.matches.call(this,symbol,minVocabSymbol,maxVocabSymbol)};NotSetTransition.prototype.toString=function(){return"~"+SetTransition.prototype.toString.call(this)};function WildcardTransition(target){Transition.call(this,target);this.serializationType=Transition.WILDCARD;return this}WildcardTransition.prototype=Object.create(Transition.prototype);WildcardTransition.prototype.constructor=WildcardTransition;WildcardTransition.prototype.matches=function(symbol,minVocabSymbol,maxVocabSymbol){return symbol>=minVocabSymbol&&symbol<=maxVocabSymbol};WildcardTransition.prototype.toString=function(){return"."};function PrecedencePredicateTransition(target,precedence){AbstractPredicateTransition.call(this,target);this.serializationType=Transition.PRECEDENCE;this.precedence=precedence;this.isEpsilon=true;return this}PrecedencePredicateTransition.prototype=Object.create(AbstractPredicateTransition.prototype);PrecedencePredicateTransition.prototype.constructor=PrecedencePredicateTransition;PrecedencePredicateTransition.prototype.matches=function(symbol,minVocabSymbol,maxVocabSymbol){return false};PrecedencePredicateTransition.prototype.getPredicate=function(){return new PrecedencePredicate(this.precedence)};PrecedencePredicateTransition.prototype.toString=function(){return this.precedence+" >= _p"};exports.Transition=Transition;exports.AtomTransition=AtomTransition;exports.SetTransition=SetTransition;exports.NotSetTransition=NotSetTransition;exports.RuleTransition=RuleTransition;exports.ActionTransition=ActionTransition;exports.EpsilonTransition=EpsilonTransition;exports.RangeTransition=RangeTransition;exports.WildcardTransition=WildcardTransition;exports.PredicateTransition=PredicateTransition;exports.PrecedencePredicateTransition=PrecedencePredicateTransition;exports.AbstractPredicateTransition=AbstractPredicateTransition},{"./../IntervalSet":12,"./../Token":20,"./SemanticContext":35}],37:[function(require,module,exports){exports.ATN=require("./ATN").ATN;exports.ATNDeserializer=require("./ATNDeserializer").ATNDeserializer;exports.LexerATNSimulator=require("./LexerATNSimulator").LexerATNSimulator;exports.ParserATNSimulator=require("./ParserATNSimulator").ParserATNSimulator;exports.PredictionMode=require("./PredictionMode").PredictionMode},{"./ATN":22,"./ATNDeserializer":26,"./LexerATNSimulator":30,"./ParserATNSimulator":33,"./PredictionMode":34}],38:[function(require,module,exports){var Set=require("../Utils").Set;var DFAState=require("./DFAState").DFAState;var StarLoopEntryState=require("../atn/ATNState").StarLoopEntryState;var ATNConfigSet=require("./../atn/ATNConfigSet").ATNConfigSet;var DFASerializer=require("./DFASerializer").DFASerializer;var LexerDFASerializer=require("./DFASerializer").LexerDFASerializer;function DFA(atnStartState,decision){if(decision===undefined){decision=0}this.atnStartState=atnStartState;this.decision=decision;this._states=new Set;this.s0=null;this.precedenceDfa=false;if(atnStartState instanceof StarLoopEntryState){if(atnStartState.isPrecedenceDecision){this.precedenceDfa=true;var precedenceState=new DFAState(null,new ATNConfigSet);precedenceState.edges=[];precedenceState.isAcceptState=false;precedenceState.requiresFullContext=false;this.s0=precedenceState}}return this}DFA.prototype.getPrecedenceStartState=function(precedence){if(!this.precedenceDfa){throw"Only precedence DFAs may contain a precedence start state."}if(precedence<0||precedence>=this.s0.edges.length){return null}return this.s0.edges[precedence]||null};DFA.prototype.setPrecedenceStartState=function(precedence,startState){if(!this.precedenceDfa){throw"Only precedence DFAs may contain a precedence start state."}if(precedence<0){return}this.s0.edges[precedence]=startState};DFA.prototype.setPrecedenceDfa=function(precedenceDfa){if(this.precedenceDfa!==precedenceDfa){this._states=new DFAStatesSet;if(precedenceDfa){var precedenceState=new DFAState(null,new ATNConfigSet);precedenceState.edges=[];precedenceState.isAcceptState=false;precedenceState.requiresFullContext=false;this.s0=precedenceState}else{this.s0=null}this.precedenceDfa=precedenceDfa}};Object.defineProperty(DFA.prototype,"states",{get:function(){return this._states}});DFA.prototype.sortedStates=function(){var list=this._states.values();return list.sort(function(a,b){return a.stateNumber-b.stateNumber})};DFA.prototype.toString=function(literalNames,symbolicNames){literalNames=literalNames||null;symbolicNames=symbolicNames||null;if(this.s0===null){return""}var serializer=new DFASerializer(this,literalNames,symbolicNames);return serializer.toString()};DFA.prototype.toLexerString=function(){if(this.s0===null){return""}var serializer=new LexerDFASerializer(this);return serializer.toString()};exports.DFA=DFA},{"../Utils":21,"../atn/ATNState":28,"./../atn/ATNConfigSet":24,"./DFASerializer":39,"./DFAState":40}],39:[function(require,module,exports){function DFASerializer(dfa,literalNames,symbolicNames){this.dfa=dfa;this.literalNames=literalNames||[];this.symbolicNames=symbolicNames||[];return this}DFASerializer.prototype.toString=function(){if(this.dfa.s0===null){return null}var buf="";var states=this.dfa.sortedStates();for(var i=0;i<states.length;i++){var s=states[i];if(s.edges!==null){var n=s.edges.length;for(var j=0;j<n;j++){var t=s.edges[j]||null;if(t!==null&&t.stateNumber!==2147483647){buf=buf.concat(this.getStateString(s));buf=buf.concat("-");buf=buf.concat(this.getEdgeLabel(j));buf=buf.concat("->");buf=buf.concat(this.getStateString(t));buf=buf.concat("\n")}}}}return buf.length===0?null:buf};DFASerializer.prototype.getEdgeLabel=function(i){if(i===0){return"EOF"}else if(this.literalNames!==null||this.symbolicNames!==null){return this.literalNames[i-1]||this.symbolicNames[i-1]}else{return String.fromCharCode(i-1)}};DFASerializer.prototype.getStateString=function(s){var baseStateStr=(s.isAcceptState?":":"")+"s"+s.stateNumber+(s.requiresFullContext?"^":"");if(s.isAcceptState){if(s.predicates!==null){return baseStateStr+"=>"+s.predicates.toString()}else{return baseStateStr+"=>"+s.prediction.toString()}}else{return baseStateStr}};function LexerDFASerializer(dfa){DFASerializer.call(this,dfa,null);return this}LexerDFASerializer.prototype=Object.create(DFASerializer.prototype);LexerDFASerializer.prototype.constructor=LexerDFASerializer;LexerDFASerializer.prototype.getEdgeLabel=function(i){return"'"+String.fromCharCode(i)+"'"};exports.DFASerializer=DFASerializer;exports.LexerDFASerializer=LexerDFASerializer},{}],40:[function(require,module,exports){var ATNConfigSet=require("./../atn/ATNConfigSet").ATNConfigSet;var Utils=require("./../Utils");var Hash=Utils.Hash;var Set=Utils.Set;function PredPrediction(pred,alt){this.alt=alt;this.pred=pred;return this}PredPrediction.prototype.toString=function(){return"("+this.pred+", "+this.alt+")"};function DFAState(stateNumber,configs){if(stateNumber===null){stateNumber=-1}if(configs===null){configs=new ATNConfigSet}this.stateNumber=stateNumber;this.configs=configs;this.edges=null;this.isAcceptState=false;this.prediction=0;this.lexerActionExecutor=null;this.requiresFullContext=false;this.predicates=null;return this}DFAState.prototype.getAltSet=function(){var alts=new Set;if(this.configs!==null){for(var i=0;i<this.configs.length;i++){var c=this.configs[i];alts.add(c.alt)}}if(alts.length===0){return null}else{return alts}};DFAState.prototype.equals=function(other){return this===other||other instanceof DFAState&&this.configs.equals(other.configs)};DFAState.prototype.toString=function(){var s=""+this.stateNumber+":"+this.configs;if(this.isAcceptState){s=s+"=>";if(this.predicates!==null)s=s+this.predicates;else s=s+this.prediction}return s};DFAState.prototype.hashCode=function(){var hash=new Hash;hash.update(this.configs);if(this.isAcceptState){if(this.predicates!==null)hash.update(this.predicates);else hash.update(this.prediction)}return hash.finish()};exports.DFAState=DFAState;exports.PredPrediction=PredPrediction},{"./../Utils":21,"./../atn/ATNConfigSet":24}],41:[function(require,module,exports){exports.DFA=require("./DFA").DFA;exports.DFASerializer=require("./DFASerializer").DFASerializer;exports.LexerDFASerializer=require("./DFASerializer").LexerDFASerializer;exports.PredPrediction=require("./DFAState").PredPrediction},{"./DFA":38,"./DFASerializer":39,"./DFAState":40}],42:[function(require,module,exports){var BitSet=require("./../Utils").BitSet;var ErrorListener=require("./ErrorListener").ErrorListener;var Interval=require("./../IntervalSet").Interval;function DiagnosticErrorListener(exactOnly){ErrorListener.call(this);exactOnly=exactOnly||true;this.exactOnly=exactOnly;return this}DiagnosticErrorListener.prototype=Object.create(ErrorListener.prototype);DiagnosticErrorListener.prototype.constructor=DiagnosticErrorListener;DiagnosticErrorListener.prototype.reportAmbiguity=function(recognizer,dfa,startIndex,stopIndex,exact,ambigAlts,configs){if(this.exactOnly&&!exact){return}var msg="reportAmbiguity d="+this.getDecisionDescription(recognizer,dfa)+": ambigAlts="+this.getConflictingAlts(ambigAlts,configs)+", input='"+recognizer.getTokenStream().getText(new Interval(startIndex,stopIndex))+"'";recognizer.notifyErrorListeners(msg)};DiagnosticErrorListener.prototype.reportAttemptingFullContext=function(recognizer,dfa,startIndex,stopIndex,conflictingAlts,configs){var msg="reportAttemptingFullContext d="+this.getDecisionDescription(recognizer,dfa)+", input='"+recognizer.getTokenStream().getText(new Interval(startIndex,stopIndex))+"'";recognizer.notifyErrorListeners(msg)};DiagnosticErrorListener.prototype.reportContextSensitivity=function(recognizer,dfa,startIndex,stopIndex,prediction,configs){var msg="reportContextSensitivity d="+this.getDecisionDescription(recognizer,dfa)+", input='"+recognizer.getTokenStream().getText(new Interval(startIndex,stopIndex))+"'";recognizer.notifyErrorListeners(msg)};DiagnosticErrorListener.prototype.getDecisionDescription=function(recognizer,dfa){var decision=dfa.decision;var ruleIndex=dfa.atnStartState.ruleIndex;var ruleNames=recognizer.ruleNames;if(ruleIndex<0||ruleIndex>=ruleNames.length){return""+decision}var ruleName=ruleNames[ruleIndex]||null;if(ruleName===null||ruleName.length===0){return""+decision}return""+decision+" ("+ruleName+")"};DiagnosticErrorListener.prototype.getConflictingAlts=function(reportedAlts,configs){if(reportedAlts!==null){return reportedAlts}var result=new BitSet;for(var i=0;i<configs.items.length;i++){result.add(configs.items[i].alt)}return"{"+result.values().join(", ")+"}"};exports.DiagnosticErrorListener=DiagnosticErrorListener},{"./../IntervalSet":12,"./../Utils":21,"./ErrorListener":43}],43:[function(require,module,exports){function ErrorListener(){return this}ErrorListener.prototype.syntaxError=function(recognizer,offendingSymbol,line,column,msg,e){};ErrorListener.prototype.reportAmbiguity=function(recognizer,dfa,startIndex,stopIndex,exact,ambigAlts,configs){};ErrorListener.prototype.reportAttemptingFullContext=function(recognizer,dfa,startIndex,stopIndex,conflictingAlts,configs){};ErrorListener.prototype.reportContextSensitivity=function(recognizer,dfa,startIndex,stopIndex,prediction,configs){};function ConsoleErrorListener(){ErrorListener.call(this);return this}ConsoleErrorListener.prototype=Object.create(ErrorListener.prototype);ConsoleErrorListener.prototype.constructor=ConsoleErrorListener;ConsoleErrorListener.INSTANCE=new ConsoleErrorListener;ConsoleErrorListener.prototype.syntaxError=function(recognizer,offendingSymbol,line,column,msg,e){console.error("line "+line+":"+column+" "+msg)};function ProxyErrorListener(delegates){ErrorListener.call(this);if(delegates===null){throw"delegates"}this.delegates=delegates;return this}ProxyErrorListener.prototype=Object.create(ErrorListener.prototype);ProxyErrorListener.prototype.constructor=ProxyErrorListener;ProxyErrorListener.prototype.syntaxError=function(recognizer,offendingSymbol,line,column,msg,e){this.delegates.map(function(d){d.syntaxError(recognizer,offendingSymbol,line,column,msg,e)})};ProxyErrorListener.prototype.reportAmbiguity=function(recognizer,dfa,startIndex,stopIndex,exact,ambigAlts,configs){this.delegates.map(function(d){d.reportAmbiguity(recognizer,dfa,startIndex,stopIndex,exact,ambigAlts,configs)})};ProxyErrorListener.prototype.reportAttemptingFullContext=function(recognizer,dfa,startIndex,stopIndex,conflictingAlts,configs){this.delegates.map(function(d){d.reportAttemptingFullContext(recognizer,dfa,startIndex,stopIndex,conflictingAlts,configs)})};ProxyErrorListener.prototype.reportContextSensitivity=function(recognizer,dfa,startIndex,stopIndex,prediction,configs){this.delegates.map(function(d){d.reportContextSensitivity(recognizer,dfa,startIndex,stopIndex,prediction,configs)})};exports.ErrorListener=ErrorListener;exports.ConsoleErrorListener=ConsoleErrorListener;exports.ProxyErrorListener=ProxyErrorListener},{}],44:[function(require,module,exports){var Token=require("./../Token").Token;var Errors=require("./Errors");var NoViableAltException=Errors.NoViableAltException;var InputMismatchException=Errors.InputMismatchException;var FailedPredicateException=Errors.FailedPredicateException;var ParseCancellationException=Errors.ParseCancellationException;var ATNState=require("./../atn/ATNState").ATNState;var Interval=require("./../IntervalSet").Interval;var IntervalSet=require("./../IntervalSet").IntervalSet;function ErrorStrategy(){}ErrorStrategy.prototype.reset=function(recognizer){};ErrorStrategy.prototype.recoverInline=function(recognizer){};ErrorStrategy.prototype.recover=function(recognizer,e){};ErrorStrategy.prototype.sync=function(recognizer){};ErrorStrategy.prototype.inErrorRecoveryMode=function(recognizer){};ErrorStrategy.prototype.reportError=function(recognizer){};function DefaultErrorStrategy(){ErrorStrategy.call(this);this.errorRecoveryMode=false;this.lastErrorIndex=-1;this.lastErrorStates=null;return this}DefaultErrorStrategy.prototype=Object.create(ErrorStrategy.prototype);DefaultErrorStrategy.prototype.constructor=DefaultErrorStrategy;DefaultErrorStrategy.prototype.reset=function(recognizer){this.endErrorCondition(recognizer)};DefaultErrorStrategy.prototype.beginErrorCondition=function(recognizer){this.errorRecoveryMode=true};DefaultErrorStrategy.prototype.inErrorRecoveryMode=function(recognizer){return this.errorRecoveryMode};DefaultErrorStrategy.prototype.endErrorCondition=function(recognizer){this.errorRecoveryMode=false;this.lastErrorStates=null;this.lastErrorIndex=-1};DefaultErrorStrategy.prototype.reportMatch=function(recognizer){this.endErrorCondition(recognizer)};DefaultErrorStrategy.prototype.reportError=function(recognizer,e){if(this.inErrorRecoveryMode(recognizer)){return}this.beginErrorCondition(recognizer);if(e instanceof NoViableAltException){this.reportNoViableAlternative(recognizer,e)}else if(e instanceof InputMismatchException){this.reportInputMismatch(recognizer,e)}else if(e instanceof FailedPredicateException){this.reportFailedPredicate(recognizer,e)}else{console.log("unknown recognition error type: "+e.constructor.name);console.log(e.stack);recognizer.notifyErrorListeners(e.getOffendingToken(),e.getMessage(),e)}};DefaultErrorStrategy.prototype.recover=function(recognizer,e){if(this.lastErrorIndex===recognizer.getInputStream().index&&this.lastErrorStates!==null&&this.lastErrorStates.indexOf(recognizer.state)>=0){recognizer.consume()}this.lastErrorIndex=recognizer._input.index;if(this.lastErrorStates===null){this.lastErrorStates=[]}this.lastErrorStates.push(recognizer.state);var followSet=this.getErrorRecoverySet(recognizer);this.consumeUntil(recognizer,followSet)};DefaultErrorStrategy.prototype.sync=function(recognizer){if(this.inErrorRecoveryMode(recognizer)){return}var s=recognizer._interp.atn.states[recognizer.state];var la=recognizer.getTokenStream().LA(1);var nextTokens=recognizer.atn.nextTokens(s);if(nextTokens.contains(Token.EPSILON)||nextTokens.contains(la)){return}switch(s.stateType){case ATNState.BLOCK_START:case ATNState.STAR_BLOCK_START:case ATNState.PLUS_BLOCK_START:case ATNState.STAR_LOOP_ENTRY:if(this.singleTokenDeletion(recognizer)!==null){return}else{throw new InputMismatchException(recognizer)}break;case ATNState.PLUS_LOOP_BACK:case ATNState.STAR_LOOP_BACK:this.reportUnwantedToken(recognizer);var expecting=new IntervalSet;expecting.addSet(recognizer.getExpectedTokens());var whatFollowsLoopIterationOrRule=expecting.addSet(this.getErrorRecoverySet(recognizer));this.consumeUntil(recognizer,whatFollowsLoopIterationOrRule);break;default:}};DefaultErrorStrategy.prototype.reportNoViableAlternative=function(recognizer,e){var tokens=recognizer.getTokenStream();var input;if(tokens!==null){if(e.startToken.type===Token.EOF){input="<EOF>"}else{input=tokens.getText(new Interval(e.startToken.tokenIndex,e.offendingToken.tokenIndex))}}else{input="<unknown input>"}var msg="no viable alternative at input "+this.escapeWSAndQuote(input);recognizer.notifyErrorListeners(msg,e.offendingToken,e)};DefaultErrorStrategy.prototype.reportInputMismatch=function(recognizer,e){var msg="mismatched input "+this.getTokenErrorDisplay(e.offendingToken)+" expecting "+e.getExpectedTokens().toString(recognizer.literalNames,recognizer.symbolicNames);recognizer.notifyErrorListeners(msg,e.offendingToken,e)};DefaultErrorStrategy.prototype.reportFailedPredicate=function(recognizer,e){var ruleName=recognizer.ruleNames[recognizer._ctx.ruleIndex];var msg="rule "+ruleName+" "+e.message;recognizer.notifyErrorListeners(msg,e.offendingToken,e)};DefaultErrorStrategy.prototype.reportUnwantedToken=function(recognizer){if(this.inErrorRecoveryMode(recognizer)){return}this.beginErrorCondition(recognizer);var t=recognizer.getCurrentToken();var tokenName=this.getTokenErrorDisplay(t);var expecting=this.getExpectedTokens(recognizer);var msg="extraneous input "+tokenName+" expecting "+expecting.toString(recognizer.literalNames,recognizer.symbolicNames);recognizer.notifyErrorListeners(msg,t,null)};DefaultErrorStrategy.prototype.reportMissingToken=function(recognizer){if(this.inErrorRecoveryMode(recognizer)){return}this.beginErrorCondition(recognizer);var t=recognizer.getCurrentToken();var expecting=this.getExpectedTokens(recognizer);var msg="missing "+expecting.toString(recognizer.literalNames,recognizer.symbolicNames)+" at "+this.getTokenErrorDisplay(t);recognizer.notifyErrorListeners(msg,t,null)};DefaultErrorStrategy.prototype.recoverInline=function(recognizer){var matchedSymbol=this.singleTokenDeletion(recognizer);if(matchedSymbol!==null){recognizer.consume();return matchedSymbol}
if(this.singleTokenInsertion(recognizer)){return this.getMissingSymbol(recognizer)}throw new InputMismatchException(recognizer)};DefaultErrorStrategy.prototype.singleTokenInsertion=function(recognizer){var currentSymbolType=recognizer.getTokenStream().LA(1);var atn=recognizer._interp.atn;var currentState=atn.states[recognizer.state];var next=currentState.transitions[0].target;var expectingAtLL2=atn.nextTokens(next,recognizer._ctx);if(expectingAtLL2.contains(currentSymbolType)){this.reportMissingToken(recognizer);return true}else{return false}};DefaultErrorStrategy.prototype.singleTokenDeletion=function(recognizer){var nextTokenType=recognizer.getTokenStream().LA(2);var expecting=this.getExpectedTokens(recognizer);if(expecting.contains(nextTokenType)){this.reportUnwantedToken(recognizer);recognizer.consume();var matchedSymbol=recognizer.getCurrentToken();this.reportMatch(recognizer);return matchedSymbol}else{return null}};DefaultErrorStrategy.prototype.getMissingSymbol=function(recognizer){var currentSymbol=recognizer.getCurrentToken();var expecting=this.getExpectedTokens(recognizer);var expectedTokenType=expecting.first();var tokenText;if(expectedTokenType===Token.EOF){tokenText="<missing EOF>"}else{tokenText="<missing "+recognizer.literalNames[expectedTokenType]+">"}var current=currentSymbol;var lookback=recognizer.getTokenStream().LT(-1);if(current.type===Token.EOF&&lookback!==null){current=lookback}return recognizer.getTokenFactory().create(current.source,expectedTokenType,tokenText,Token.DEFAULT_CHANNEL,-1,-1,current.line,current.column)};DefaultErrorStrategy.prototype.getExpectedTokens=function(recognizer){return recognizer.getExpectedTokens()};DefaultErrorStrategy.prototype.getTokenErrorDisplay=function(t){if(t===null){return"<no token>"}var s=t.text;if(s===null){if(t.type===Token.EOF){s="<EOF>"}else{s="<"+t.type+">"}}return this.escapeWSAndQuote(s)};DefaultErrorStrategy.prototype.escapeWSAndQuote=function(s){s=s.replace(/\n/g,"\\n");s=s.replace(/\r/g,"\\r");s=s.replace(/\t/g,"\\t");return"'"+s+"'"};DefaultErrorStrategy.prototype.getErrorRecoverySet=function(recognizer){var atn=recognizer._interp.atn;var ctx=recognizer._ctx;var recoverSet=new IntervalSet;while(ctx!==null&&ctx.invokingState>=0){var invokingState=atn.states[ctx.invokingState];var rt=invokingState.transitions[0];var follow=atn.nextTokens(rt.followState);recoverSet.addSet(follow);ctx=ctx.parentCtx}recoverSet.removeOne(Token.EPSILON);return recoverSet};DefaultErrorStrategy.prototype.consumeUntil=function(recognizer,set){var ttype=recognizer.getTokenStream().LA(1);while(ttype!==Token.EOF&&!set.contains(ttype)){recognizer.consume();ttype=recognizer.getTokenStream().LA(1)}};function BailErrorStrategy(){DefaultErrorStrategy.call(this);return this}BailErrorStrategy.prototype=Object.create(DefaultErrorStrategy.prototype);BailErrorStrategy.prototype.constructor=BailErrorStrategy;BailErrorStrategy.prototype.recover=function(recognizer,e){var context=recognizer._ctx;while(context!==null){context.exception=e;context=context.parentCtx}throw new ParseCancellationException(e)};BailErrorStrategy.prototype.recoverInline=function(recognizer){this.recover(recognizer,new InputMismatchException(recognizer))};BailErrorStrategy.prototype.sync=function(recognizer){};exports.BailErrorStrategy=BailErrorStrategy;exports.DefaultErrorStrategy=DefaultErrorStrategy},{"./../IntervalSet":12,"./../Token":20,"./../atn/ATNState":28,"./Errors":45}],45:[function(require,module,exports){var PredicateTransition=require("./../atn/Transition").PredicateTransition;function RecognitionException(params){Error.call(this);if(!!Error.captureStackTrace){Error.captureStackTrace(this,RecognitionException)}else{var stack=(new Error).stack}this.message=params.message;this.recognizer=params.recognizer;this.input=params.input;this.ctx=params.ctx;this.offendingToken=null;this.offendingState=-1;if(this.recognizer!==null){this.offendingState=this.recognizer.state}return this}RecognitionException.prototype=Object.create(Error.prototype);RecognitionException.prototype.constructor=RecognitionException;RecognitionException.prototype.getExpectedTokens=function(){if(this.recognizer!==null){return this.recognizer.atn.getExpectedTokens(this.offendingState,this.ctx)}else{return null}};RecognitionException.prototype.toString=function(){return this.message};function LexerNoViableAltException(lexer,input,startIndex,deadEndConfigs){RecognitionException.call(this,{message:"",recognizer:lexer,input:input,ctx:null});this.startIndex=startIndex;this.deadEndConfigs=deadEndConfigs;return this}LexerNoViableAltException.prototype=Object.create(RecognitionException.prototype);LexerNoViableAltException.prototype.constructor=LexerNoViableAltException;LexerNoViableAltException.prototype.toString=function(){var symbol="";if(this.startIndex>=0&&this.startIndex<this.input.size){symbol=this.input.getText((this.startIndex,this.startIndex))}return"LexerNoViableAltException"+symbol};function NoViableAltException(recognizer,input,startToken,offendingToken,deadEndConfigs,ctx){ctx=ctx||recognizer._ctx;offendingToken=offendingToken||recognizer.getCurrentToken();startToken=startToken||recognizer.getCurrentToken();input=input||recognizer.getInputStream();RecognitionException.call(this,{message:"",recognizer:recognizer,input:input,ctx:ctx});this.deadEndConfigs=deadEndConfigs;this.startToken=startToken;this.offendingToken=offendingToken}NoViableAltException.prototype=Object.create(RecognitionException.prototype);NoViableAltException.prototype.constructor=NoViableAltException;function InputMismatchException(recognizer){RecognitionException.call(this,{message:"",recognizer:recognizer,input:recognizer.getInputStream(),ctx:recognizer._ctx});this.offendingToken=recognizer.getCurrentToken()}InputMismatchException.prototype=Object.create(RecognitionException.prototype);InputMismatchException.prototype.constructor=InputMismatchException;function FailedPredicateException(recognizer,predicate,message){RecognitionException.call(this,{message:this.formatMessage(predicate,message||null),recognizer:recognizer,input:recognizer.getInputStream(),ctx:recognizer._ctx});var s=recognizer._interp.atn.states[recognizer.state];var trans=s.transitions[0];if(trans instanceof PredicateTransition){this.ruleIndex=trans.ruleIndex;this.predicateIndex=trans.predIndex}else{this.ruleIndex=0;this.predicateIndex=0}this.predicate=predicate;this.offendingToken=recognizer.getCurrentToken();return this}FailedPredicateException.prototype=Object.create(RecognitionException.prototype);FailedPredicateException.prototype.constructor=FailedPredicateException;FailedPredicateException.prototype.formatMessage=function(predicate,message){if(message!==null){return message}else{return"failed predicate: {"+predicate+"}?"}};function ParseCancellationException(){Error.call(this);Error.captureStackTrace(this,ParseCancellationException);return this}ParseCancellationException.prototype=Object.create(Error.prototype);ParseCancellationException.prototype.constructor=ParseCancellationException;exports.RecognitionException=RecognitionException;exports.NoViableAltException=NoViableAltException;exports.LexerNoViableAltException=LexerNoViableAltException;exports.InputMismatchException=InputMismatchException;exports.FailedPredicateException=FailedPredicateException;exports.ParseCancellationException=ParseCancellationException},{"./../atn/Transition":36}],46:[function(require,module,exports){exports.RecognitionException=require("./Errors").RecognitionException;exports.NoViableAltException=require("./Errors").NoViableAltException;exports.LexerNoViableAltException=require("./Errors").LexerNoViableAltException;exports.InputMismatchException=require("./Errors").InputMismatchException;exports.FailedPredicateException=require("./Errors").FailedPredicateException;exports.DiagnosticErrorListener=require("./DiagnosticErrorListener").DiagnosticErrorListener;exports.BailErrorStrategy=require("./ErrorStrategy").BailErrorStrategy;exports.ErrorListener=require("./ErrorListener").ErrorListener},{"./DiagnosticErrorListener":42,"./ErrorListener":43,"./ErrorStrategy":44,"./Errors":45}],47:[function(require,module,exports){exports.atn=require("./atn/index");exports.codepointat=require("./polyfills/codepointat");exports.dfa=require("./dfa/index");exports.fromcodepoint=require("./polyfills/fromcodepoint");exports.tree=require("./tree/index");exports.error=require("./error/index");exports.Token=require("./Token").Token;exports.CharStreams=require("./CharStreams").CharStreams;exports.CommonToken=require("./Token").CommonToken;exports.InputStream=require("./InputStream").InputStream;exports.FileStream=require("./FileStream").FileStream;exports.CommonTokenStream=require("./CommonTokenStream").CommonTokenStream;exports.Lexer=require("./Lexer").Lexer;exports.Parser=require("./Parser").Parser;var pc=require("./PredictionContext");exports.PredictionContextCache=pc.PredictionContextCache;exports.ParserRuleContext=require("./ParserRuleContext").ParserRuleContext;exports.Interval=require("./IntervalSet").Interval;exports.Utils=require("./Utils")},{"./CharStreams":7,"./CommonTokenStream":9,"./FileStream":10,"./InputStream":11,"./IntervalSet":12,"./Lexer":14,"./Parser":15,"./ParserRuleContext":16,"./PredictionContext":17,"./Token":20,"./Utils":21,"./atn/index":37,"./dfa/index":41,"./error/index":46,"./polyfills/codepointat":48,"./polyfills/fromcodepoint":49,"./tree/index":52}],48:[function(require,module,exports){if(!String.prototype.codePointAt){(function(){"use strict";var defineProperty=function(){try{var object={};var $defineProperty=Object.defineProperty;var result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}();var codePointAt=function(position){if(this==null){throw TypeError()}var string=String(this);var size=string.length;var index=position?Number(position):0;if(index!=index){index=0}if(index<0||index>=size){return undefined}var first=string.charCodeAt(index);var second;if(first>=55296&&first<=56319&&size>index+1){second=string.charCodeAt(index+1);if(second>=56320&&second<=57343){return(first-55296)*1024+second-56320+65536}}return first};if(defineProperty){defineProperty(String.prototype,"codePointAt",{value:codePointAt,configurable:true,writable:true})}else{String.prototype.codePointAt=codePointAt}})()}},{}],49:[function(require,module,exports){if(!String.fromCodePoint){(function(){var defineProperty=function(){try{var object={};var $defineProperty=Object.defineProperty;var result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}();var stringFromCharCode=String.fromCharCode;var floor=Math.floor;var fromCodePoint=function(_){var MAX_SIZE=16384;var codeUnits=[];var highSurrogate;var lowSurrogate;var index=-1;var length=arguments.length;if(!length){return""}var result="";while(++index<length){var codePoint=Number(arguments[index]);if(!isFinite(codePoint)||codePoint<0||codePoint>1114111||floor(codePoint)!=codePoint){throw RangeError("Invalid code point: "+codePoint)}if(codePoint<=65535){codeUnits.push(codePoint)}else{codePoint-=65536;highSurrogate=(codePoint>>10)+55296;lowSurrogate=codePoint%1024+56320;codeUnits.push(highSurrogate,lowSurrogate)}if(index+1==length||codeUnits.length>MAX_SIZE){result+=stringFromCharCode.apply(null,codeUnits);codeUnits.length=0}}return result};if(defineProperty){defineProperty(String,"fromCodePoint",{value:fromCodePoint,configurable:true,writable:true})}else{String.fromCodePoint=fromCodePoint}})()}},{}],50:[function(require,module,exports){var Token=require("./../Token").Token;var Interval=require("./../IntervalSet").Interval;var INVALID_INTERVAL=new Interval(-1,-2);var Utils=require("../Utils.js");function Tree(){return this}function SyntaxTree(){Tree.call(this);return this}SyntaxTree.prototype=Object.create(Tree.prototype);SyntaxTree.prototype.constructor=SyntaxTree;function ParseTree(){SyntaxTree.call(this);return this}ParseTree.prototype=Object.create(SyntaxTree.prototype);ParseTree.prototype.constructor=ParseTree;function RuleNode(){ParseTree.call(this);return this}RuleNode.prototype=Object.create(ParseTree.prototype);RuleNode.prototype.constructor=RuleNode;function TerminalNode(){ParseTree.call(this);return this}TerminalNode.prototype=Object.create(ParseTree.prototype);TerminalNode.prototype.constructor=TerminalNode;function ErrorNode(){TerminalNode.call(this);return this}ErrorNode.prototype=Object.create(TerminalNode.prototype);ErrorNode.prototype.constructor=ErrorNode;function ParseTreeVisitor(){return this}ParseTreeVisitor.prototype.visit=function(ctx){if(Array.isArray(ctx)){return ctx.map(function(child){return child.accept(this)},this)}else{return ctx.accept(this)}};ParseTreeVisitor.prototype.visitChildren=function(ctx){if(ctx.children){return this.visit(ctx.children)}else{return null}};ParseTreeVisitor.prototype.visitTerminal=function(node){};ParseTreeVisitor.prototype.visitErrorNode=function(node){};function ParseTreeListener(){return this}ParseTreeListener.prototype.visitTerminal=function(node){};ParseTreeListener.prototype.visitErrorNode=function(node){};ParseTreeListener.prototype.enterEveryRule=function(node){};ParseTreeListener.prototype.exitEveryRule=function(node){};function TerminalNodeImpl(symbol){TerminalNode.call(this);this.parentCtx=null;this.symbol=symbol;return this}TerminalNodeImpl.prototype=Object.create(TerminalNode.prototype);TerminalNodeImpl.prototype.constructor=TerminalNodeImpl;TerminalNodeImpl.prototype.getChild=function(i){return null};TerminalNodeImpl.prototype.getSymbol=function(){return this.symbol};TerminalNodeImpl.prototype.getParent=function(){return this.parentCtx};TerminalNodeImpl.prototype.getPayload=function(){return this.symbol};TerminalNodeImpl.prototype.getSourceInterval=function(){if(this.symbol===null){return INVALID_INTERVAL}var tokenIndex=this.symbol.tokenIndex;return new Interval(tokenIndex,tokenIndex)};TerminalNodeImpl.prototype.getChildCount=function(){return 0};TerminalNodeImpl.prototype.accept=function(visitor){return visitor.visitTerminal(this)};TerminalNodeImpl.prototype.getText=function(){return this.symbol.text};TerminalNodeImpl.prototype.toString=function(){if(this.symbol.type===Token.EOF){return"<EOF>"}else{return this.symbol.text}};function ErrorNodeImpl(token){TerminalNodeImpl.call(this,token);return this}ErrorNodeImpl.prototype=Object.create(TerminalNodeImpl.prototype);ErrorNodeImpl.prototype.constructor=ErrorNodeImpl;ErrorNodeImpl.prototype.isErrorNode=function(){return true};ErrorNodeImpl.prototype.accept=function(visitor){return visitor.visitErrorNode(this)};function ParseTreeWalker(){return this}ParseTreeWalker.prototype.walk=function(listener,t){var errorNode=t instanceof ErrorNode||t.isErrorNode!==undefined&&t.isErrorNode();if(errorNode){listener.visitErrorNode(t)}else if(t instanceof TerminalNode){listener.visitTerminal(t)}else{this.enterRule(listener,t);for(var i=0;i<t.getChildCount();i++){var child=t.getChild(i);this.walk(listener,child)}this.exitRule(listener,t)}};ParseTreeWalker.prototype.enterRule=function(listener,r){var ctx=r.getRuleContext();listener.enterEveryRule(ctx);ctx.enterRule(listener)};ParseTreeWalker.prototype.exitRule=function(listener,r){var ctx=r.getRuleContext();ctx.exitRule(listener);listener.exitEveryRule(ctx)};ParseTreeWalker.DEFAULT=new ParseTreeWalker;exports.RuleNode=RuleNode;exports.ErrorNode=ErrorNode;exports.TerminalNode=TerminalNode;exports.ErrorNodeImpl=ErrorNodeImpl;exports.TerminalNodeImpl=TerminalNodeImpl;exports.ParseTreeListener=ParseTreeListener;exports.ParseTreeVisitor=ParseTreeVisitor;exports.ParseTreeWalker=ParseTreeWalker;exports.INVALID_INTERVAL=INVALID_INTERVAL},{"../Utils.js":21,"./../IntervalSet":12,"./../Token":20}],51:[function(require,module,exports){var Utils=require("./../Utils");var Token=require("./../Token").Token;var RuleNode=require("./Tree").RuleNode;var ErrorNode=require("./Tree").ErrorNode;var TerminalNode=require("./Tree").TerminalNode;var ParserRuleContext=require("./../ParserRuleContext").ParserRuleContext;var RuleContext=require("./../RuleContext").RuleContext;var INVALID_ALT_NUMBER=require("./../atn/ATN").INVALID_ALT_NUMBER;function Trees(){}Trees.toStringTree=function(tree,ruleNames,recog){ruleNames=ruleNames||null;recog=recog||null;if(recog!==null){ruleNames=recog.ruleNames}var s=Trees.getNodeText(tree,ruleNames);s=Utils.escapeWhitespace(s,false);var c=tree.getChildCount();if(c===0){return s}var res="("+s+" ";if(c>0){s=Trees.toStringTree(tree.getChild(0),ruleNames);res=res.concat(s)}for(var i=1;i<c;i++){s=Trees.toStringTree(tree.getChild(i),ruleNames);res=res.concat(" "+s)}res=res.concat(")");return res};Trees.getNodeText=function(t,ruleNames,recog){ruleNames=ruleNames||null;recog=recog||null;if(recog!==null){ruleNames=recog.ruleNames}if(ruleNames!==null){if(t instanceof RuleContext){var altNumber=t.getAltNumber();if(altNumber!=INVALID_ALT_NUMBER){return ruleNames[t.ruleIndex]+":"+altNumber}return ruleNames[t.ruleIndex]}else if(t instanceof ErrorNode){return t.toString()}else if(t instanceof TerminalNode){if(t.symbol!==null){return t.symbol.text}}}var payload=t.getPayload();if(payload instanceof Token){return payload.text}return t.getPayload().toString()};Trees.getChildren=function(t){var list=[];for(var i=0;i<t.getChildCount();i++){list.push(t.getChild(i))}return list};Trees.getAncestors=function(t){var ancestors=[];t=t.getParent();while(t!==null){ancestors=[t].concat(ancestors);t=t.getParent()}return ancestors};Trees.findAllTokenNodes=function(t,ttype){return Trees.findAllNodes(t,ttype,true)};Trees.findAllRuleNodes=function(t,ruleIndex){return Trees.findAllNodes(t,ruleIndex,false)};Trees.findAllNodes=function(t,index,findTokens){var nodes=[];Trees._findAllNodes(t,index,findTokens,nodes);return nodes};Trees._findAllNodes=function(t,index,findTokens,nodes){if(findTokens&&t instanceof TerminalNode){if(t.symbol.type===index){nodes.push(t)}}else if(!findTokens&&t instanceof ParserRuleContext){if(t.ruleIndex===index){nodes.push(t)}}for(var i=0;i<t.getChildCount();i++){Trees._findAllNodes(t.getChild(i),index,findTokens,nodes)}};Trees.descendants=function(t){var nodes=[t];for(var i=0;i<t.getChildCount();i++){nodes=nodes.concat(Trees.descendants(t.getChild(i)))}return nodes};exports.Trees=Trees},{"./../ParserRuleContext":16,"./../RuleContext":19,"./../Token":20,"./../Utils":21,"./../atn/ATN":22,"./Tree":50}],52:[function(require,module,exports){var Tree=require("./Tree");exports.Trees=require("./Trees").Trees;exports.RuleNode=Tree.RuleNode;exports.ParseTreeListener=Tree.ParseTreeListener;exports.ParseTreeVisitor=Tree.ParseTreeVisitor;exports.ParseTreeWalker=Tree.ParseTreeWalker},{"./Tree":50,"./Trees":51}],53:[function(require,module,exports){},{}]},{},[5])(5)});
